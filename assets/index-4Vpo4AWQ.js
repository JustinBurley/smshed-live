var rv=e=>{throw TypeError(e)};var th=(e,t,n)=>t.has(e)||rv("Cannot "+n);var B=(e,t,n)=>(th(e,t,"read from private field"),n?n.call(e):t.get(e)),Ne=(e,t,n)=>t.has(e)?rv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),de=(e,t,n,r)=>(th(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),mt=(e,t,n)=>(th(e,t,"access private method"),n);var Bl=(e,t,n,r)=>({set _(s){de(e,t,s,n)},get _(){return B(e,t,r)}});function nE(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var fn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function rE(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var sb={exports:{}},Ku={},ib={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vl=Symbol.for("react.element"),sE=Symbol.for("react.portal"),iE=Symbol.for("react.fragment"),aE=Symbol.for("react.strict_mode"),oE=Symbol.for("react.profiler"),lE=Symbol.for("react.provider"),cE=Symbol.for("react.context"),uE=Symbol.for("react.forward_ref"),dE=Symbol.for("react.suspense"),hE=Symbol.for("react.memo"),fE=Symbol.for("react.lazy"),sv=Symbol.iterator;function mE(e){return e===null||typeof e!="object"?null:(e=sv&&e[sv]||e["@@iterator"],typeof e=="function"?e:null)}var ab={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ob=Object.assign,lb={};function Ca(e,t,n){this.props=e,this.context=t,this.refs=lb,this.updater=n||ab}Ca.prototype.isReactComponent={};Ca.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ca.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function cb(){}cb.prototype=Ca.prototype;function bp(e,t,n){this.props=e,this.context=t,this.refs=lb,this.updater=n||ab}var jp=bp.prototype=new cb;jp.constructor=bp;ob(jp,Ca.prototype);jp.isPureReactComponent=!0;var iv=Array.isArray,ub=Object.prototype.hasOwnProperty,Sp={current:null},db={key:!0,ref:!0,__self:!0,__source:!0};function hb(e,t,n){var r,s={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)ub.call(t,r)&&!db.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:vl,type:e,key:a,ref:o,props:s,_owner:Sp.current}}function pE(e,t){return{$$typeof:vl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function _p(e){return typeof e=="object"&&e!==null&&e.$$typeof===vl}function gE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var av=/\/+/g;function nh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?gE(""+e.key):t.toString(36)}function Sc(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case vl:case sE:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+nh(o,0):r,iv(s)?(n="",e!=null&&(n=e.replace(av,"$&/")+"/"),Sc(s,t,n,"",function(u){return u})):s!=null&&(_p(s)&&(s=pE(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(av,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",iv(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+nh(a,l);o+=Sc(a,t,n,c,s)}else if(c=mE(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+nh(a,l++),o+=Sc(a,t,n,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Vl(e,t,n){if(e==null)return e;var r=[],s=0;return Sc(e,r,"","",function(a){return t.call(n,a,s++)}),r}function xE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var At={current:null},_c={transition:null},vE={ReactCurrentDispatcher:At,ReactCurrentBatchConfig:_c,ReactCurrentOwner:Sp};function fb(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:Vl,forEach:function(e,t,n){Vl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Vl(e,function(){t++}),t},toArray:function(e){return Vl(e,function(t){return t})||[]},only:function(e){if(!_p(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ge.Component=Ca;ge.Fragment=iE;ge.Profiler=oE;ge.PureComponent=bp;ge.StrictMode=aE;ge.Suspense=dE;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vE;ge.act=fb;ge.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ob({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Sp.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)ub.call(t,c)&&!db.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:vl,type:e.type,key:s,ref:a,props:r,_owner:o}};ge.createContext=function(e){return e={$$typeof:cE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:lE,_context:e},e.Consumer=e};ge.createElement=hb;ge.createFactory=function(e){var t=hb.bind(null,e);return t.type=e,t};ge.createRef=function(){return{current:null}};ge.forwardRef=function(e){return{$$typeof:uE,render:e}};ge.isValidElement=_p;ge.lazy=function(e){return{$$typeof:fE,_payload:{_status:-1,_result:e},_init:xE}};ge.memo=function(e,t){return{$$typeof:hE,type:e,compare:t===void 0?null:t}};ge.startTransition=function(e){var t=_c.transition;_c.transition={};try{e()}finally{_c.transition=t}};ge.unstable_act=fb;ge.useCallback=function(e,t){return At.current.useCallback(e,t)};ge.useContext=function(e){return At.current.useContext(e)};ge.useDebugValue=function(){};ge.useDeferredValue=function(e){return At.current.useDeferredValue(e)};ge.useEffect=function(e,t){return At.current.useEffect(e,t)};ge.useId=function(){return At.current.useId()};ge.useImperativeHandle=function(e,t,n){return At.current.useImperativeHandle(e,t,n)};ge.useInsertionEffect=function(e,t){return At.current.useInsertionEffect(e,t)};ge.useLayoutEffect=function(e,t){return At.current.useLayoutEffect(e,t)};ge.useMemo=function(e,t){return At.current.useMemo(e,t)};ge.useReducer=function(e,t,n){return At.current.useReducer(e,t,n)};ge.useRef=function(e){return At.current.useRef(e)};ge.useState=function(e){return At.current.useState(e)};ge.useSyncExternalStore=function(e,t,n){return At.current.useSyncExternalStore(e,t,n)};ge.useTransition=function(){return At.current.useTransition()};ge.version="18.3.1";ib.exports=ge;var m=ib.exports;const ct=rb(m),mb=nE({__proto__:null,default:ct},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yE=m,wE=Symbol.for("react.element"),bE=Symbol.for("react.fragment"),jE=Object.prototype.hasOwnProperty,SE=yE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_E={key:!0,ref:!0,__self:!0,__source:!0};function pb(e,t,n){var r,s={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)jE.call(t,r)&&!_E.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:wE,type:e,key:a,ref:o,props:s,_owner:SE.current}}Ku.Fragment=bE;Ku.jsx=pb;Ku.jsxs=pb;sb.exports=Ku;var i=sb.exports,gb={exports:{}},Zt={},xb={exports:{}},vb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,M){var E=C.length;C.push(M);e:for(;0<E;){var A=E-1>>>1,V=C[A];if(0<s(V,M))C[A]=M,C[E]=V,E=A;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var M=C[0],E=C.pop();if(E!==M){C[0]=E;e:for(var A=0,V=C.length,se=V>>>1;A<se;){var he=2*(A+1)-1,Ce=C[he],je=he+1,re=C[je];if(0>s(Ce,E))je<V&&0>s(re,Ce)?(C[A]=re,C[je]=E,A=je):(C[A]=Ce,C[he]=E,A=he);else if(je<V&&0>s(re,E))C[A]=re,C[je]=E,A=je;else break e}}return M}function s(C,M){var E=C.sortIndex-M.sortIndex;return E!==0?E:C.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,g=!1,v=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(C){for(var M=n(u);M!==null;){if(M.callback===null)r(u);else if(M.startTime<=C)r(u),M.sortIndex=M.expirationTime,t(c,M);else break;M=n(u)}}function j(C){if(x=!1,p(C),!v)if(n(c)!==null)v=!0,R(S);else{var M=n(u);M!==null&&O(j,M.startTime-C)}}function S(C,M){v=!1,x&&(x=!1,y(k),k=-1),g=!0;var E=f;try{for(p(M),h=n(c);h!==null&&(!(h.expirationTime>M)||C&&!F());){var A=h.callback;if(typeof A=="function"){h.callback=null,f=h.priorityLevel;var V=A(h.expirationTime<=M);M=e.unstable_now(),typeof V=="function"?h.callback=V:h===n(c)&&r(c),p(M)}else r(c);h=n(c)}if(h!==null)var se=!0;else{var he=n(u);he!==null&&O(j,he.startTime-M),se=!1}return se}finally{h=null,f=E,g=!1}}var _=!1,N=null,k=-1,T=5,D=-1;function F(){return!(e.unstable_now()-D<T)}function P(){if(N!==null){var C=e.unstable_now();D=C;var M=!0;try{M=N(!0,C)}finally{M?U():(_=!1,N=null)}}else _=!1}var U;if(typeof w=="function")U=function(){w(P)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,K=$.port2;$.port1.onmessage=P,U=function(){K.postMessage(null)}}else U=function(){b(P,0)};function R(C){N=C,_||(_=!0,U())}function O(C,M){k=b(function(){C(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,R(S))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(C){switch(f){case 1:case 2:case 3:var M=3;break;default:M=f}var E=f;f=M;try{return C()}finally{f=E}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,M){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var E=f;f=C;try{return M()}finally{f=E}},e.unstable_scheduleCallback=function(C,M,E){var A=e.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?A+E:A):E=A,C){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=E+V,C={id:d++,callback:M,priorityLevel:C,startTime:E,expirationTime:V,sortIndex:-1},E>A?(C.sortIndex=E,t(u,C),n(c)===null&&C===n(u)&&(x?(y(k),k=-1):x=!0,O(j,E-A))):(C.sortIndex=V,t(c,C),v||g||(v=!0,R(S))),C},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(C){var M=f;return function(){var E=f;f=M;try{return C.apply(this,arguments)}finally{f=E}}}})(vb);xb.exports=vb;var NE=xb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kE=m,Xt=NE;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yb=new Set,Lo={};function ci(e,t){ma(e,t),ma(e+"Capture",t)}function ma(e,t){for(Lo[e]=t,e=0;e<t.length;e++)yb.add(t[e])}var xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bf=Object.prototype.hasOwnProperty,CE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ov={},lv={};function PE(e){return bf.call(lv,e)?!0:bf.call(ov,e)?!1:CE.test(e)?lv[e]=!0:(ov[e]=!0,!1)}function EE(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function TE(e,t,n,r){if(t===null||typeof t>"u"||EE(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Rt(e,t,n,r,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){dt[e]=new Rt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];dt[t]=new Rt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){dt[e]=new Rt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){dt[e]=new Rt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){dt[e]=new Rt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){dt[e]=new Rt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){dt[e]=new Rt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){dt[e]=new Rt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){dt[e]=new Rt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Np=/[\-:]([a-z])/g;function kp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Np,kp);dt[t]=new Rt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Np,kp);dt[t]=new Rt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Np,kp);dt[t]=new Rt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){dt[e]=new Rt(e,1,!1,e.toLowerCase(),null,!1,!1)});dt.xlinkHref=new Rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){dt[e]=new Rt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Cp(e,t,n,r){var s=dt.hasOwnProperty(t)?dt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(TE(t,n,s,r)&&(n=null),r||s===null?PE(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Nr=kE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zl=Symbol.for("react.element"),Ai=Symbol.for("react.portal"),Ri=Symbol.for("react.fragment"),Pp=Symbol.for("react.strict_mode"),jf=Symbol.for("react.profiler"),wb=Symbol.for("react.provider"),bb=Symbol.for("react.context"),Ep=Symbol.for("react.forward_ref"),Sf=Symbol.for("react.suspense"),_f=Symbol.for("react.suspense_list"),Tp=Symbol.for("react.memo"),Fr=Symbol.for("react.lazy"),jb=Symbol.for("react.offscreen"),cv=Symbol.iterator;function qa(e){return e===null||typeof e!="object"?null:(e=cv&&e[cv]||e["@@iterator"],typeof e=="function"?e:null)}var Ve=Object.assign,rh;function oo(e){if(rh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);rh=t&&t[1]||""}return`
`+rh+e}var sh=!1;function ih(e,t){if(!e||sh)return"";sh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=r.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{sh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?oo(e):""}function AE(e){switch(e.tag){case 5:return oo(e.type);case 16:return oo("Lazy");case 13:return oo("Suspense");case 19:return oo("SuspenseList");case 0:case 2:case 15:return e=ih(e.type,!1),e;case 11:return e=ih(e.type.render,!1),e;case 1:return e=ih(e.type,!0),e;default:return""}}function Nf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ri:return"Fragment";case Ai:return"Portal";case jf:return"Profiler";case Pp:return"StrictMode";case Sf:return"Suspense";case _f:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case bb:return(e.displayName||"Context")+".Consumer";case wb:return(e._context.displayName||"Context")+".Provider";case Ep:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Tp:return t=e.displayName||null,t!==null?t:Nf(e.type)||"Memo";case Fr:t=e._payload,e=e._init;try{return Nf(e(t))}catch{}}return null}function RE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nf(t);case 8:return t===Pp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function cs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ME(e){var t=Sb(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wl(e){e._valueTracker||(e._valueTracker=ME(e))}function _b(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Sb(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Hc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function kf(e,t){var n=t.checked;return Ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function uv(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=cs(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Nb(e,t){t=t.checked,t!=null&&Cp(e,"checked",t,!1)}function Cf(e,t){Nb(e,t);var n=cs(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Pf(e,t.type,n):t.hasOwnProperty("defaultValue")&&Pf(e,t.type,cs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function dv(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Pf(e,t,n){(t!=="number"||Hc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var lo=Array.isArray;function Gi(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+cs(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ef(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return Ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hv(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(W(92));if(lo(n)){if(1<n.length)throw Error(W(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:cs(n)}}function kb(e,t){var n=cs(t.value),r=cs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function fv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Cb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Cb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Hl,Pb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Hl=Hl||document.createElement("div"),Hl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Hl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Fo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var go={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},DE=["Webkit","ms","Moz","O"];Object.keys(go).forEach(function(e){DE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),go[t]=go[e]})});function Eb(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||go.hasOwnProperty(e)&&go[e]?(""+t).trim():t+"px"}function Tb(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Eb(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var IE=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Af(e,t){if(t){if(IE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function Rf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mf=null;function Ap(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Df=null,Yi=null,Qi=null;function mv(e){if(e=bl(e)){if(typeof Df!="function")throw Error(W(280));var t=e.stateNode;t&&(t=Ju(t),Df(e.stateNode,e.type,t))}}function Ab(e){Yi?Qi?Qi.push(e):Qi=[e]:Yi=e}function Rb(){if(Yi){var e=Yi,t=Qi;if(Qi=Yi=null,mv(e),t)for(e=0;e<t.length;e++)mv(t[e])}}function Mb(e,t){return e(t)}function Db(){}var ah=!1;function Ib(e,t,n){if(ah)return e(t,n);ah=!0;try{return Mb(e,t,n)}finally{ah=!1,(Yi!==null||Qi!==null)&&(Db(),Rb())}}function $o(e,t){var n=e.stateNode;if(n===null)return null;var r=Ju(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(W(231,t,typeof n));return n}var If=!1;if(xr)try{var Ka={};Object.defineProperty(Ka,"passive",{get:function(){If=!0}}),window.addEventListener("test",Ka,Ka),window.removeEventListener("test",Ka,Ka)}catch{If=!1}function OE(e,t,n,r,s,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var xo=!1,qc=null,Kc=!1,Of=null,LE={onError:function(e){xo=!0,qc=e}};function FE(e,t,n,r,s,a,o,l,c){xo=!1,qc=null,OE.apply(LE,arguments)}function $E(e,t,n,r,s,a,o,l,c){if(FE.apply(this,arguments),xo){if(xo){var u=qc;xo=!1,qc=null}else throw Error(W(198));Kc||(Kc=!0,Of=u)}}function ui(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ob(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function pv(e){if(ui(e)!==e)throw Error(W(188))}function UE(e){var t=e.alternate;if(!t){if(t=ui(e),t===null)throw Error(W(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return pv(s),e;if(a===r)return pv(s),t;a=a.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=a;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=a;break}if(l===r){o=!0,r=s,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=s;break}if(l===r){o=!0,r=a,n=s;break}l=l.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?e:t}function Lb(e){return e=UE(e),e!==null?Fb(e):null}function Fb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Fb(e);if(t!==null)return t;e=e.sibling}return null}var $b=Xt.unstable_scheduleCallback,gv=Xt.unstable_cancelCallback,BE=Xt.unstable_shouldYield,VE=Xt.unstable_requestPaint,Ye=Xt.unstable_now,zE=Xt.unstable_getCurrentPriorityLevel,Rp=Xt.unstable_ImmediatePriority,Ub=Xt.unstable_UserBlockingPriority,Gc=Xt.unstable_NormalPriority,WE=Xt.unstable_LowPriority,Bb=Xt.unstable_IdlePriority,Gu=null,Yn=null;function HE(e){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(Gu,e,void 0,(e.current.flags&128)===128)}catch{}}var Tn=Math.clz32?Math.clz32:GE,qE=Math.log,KE=Math.LN2;function GE(e){return e>>>=0,e===0?32:31-(qE(e)/KE|0)|0}var ql=64,Kl=4194304;function co(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Yc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=co(l):(a&=o,a!==0&&(r=co(a)))}else o=n&~s,o!==0?r=co(o):a!==0&&(r=co(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Tn(t),s=1<<n,r|=e[n],t&=~s;return r}function YE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QE(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Tn(a),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=YE(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Lf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Vb(){var e=ql;return ql<<=1,!(ql&4194240)&&(ql=64),e}function oh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Tn(t),e[t]=n}function XE(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Tn(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function Mp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Tn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Ee=0;function zb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Wb,Dp,Hb,qb,Kb,Ff=!1,Gl=[],Zr=null,es=null,ts=null,Uo=new Map,Bo=new Map,Br=[],JE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xv(e,t){switch(e){case"focusin":case"focusout":Zr=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":Uo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bo.delete(t.pointerId)}}function Ga(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=bl(t),t!==null&&Dp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function ZE(e,t,n,r,s){switch(t){case"focusin":return Zr=Ga(Zr,e,t,n,r,s),!0;case"dragenter":return es=Ga(es,e,t,n,r,s),!0;case"mouseover":return ts=Ga(ts,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return Uo.set(a,Ga(Uo.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,Bo.set(a,Ga(Bo.get(a)||null,e,t,n,r,s)),!0}return!1}function Gb(e){var t=$s(e.target);if(t!==null){var n=ui(t);if(n!==null){if(t=n.tag,t===13){if(t=Ob(n),t!==null){e.blockedOn=t,Kb(e.priority,function(){Hb(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Nc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=$f(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Mf=r,n.target.dispatchEvent(r),Mf=null}else return t=bl(n),t!==null&&Dp(t),e.blockedOn=n,!1;t.shift()}return!0}function vv(e,t,n){Nc(e)&&n.delete(t)}function eT(){Ff=!1,Zr!==null&&Nc(Zr)&&(Zr=null),es!==null&&Nc(es)&&(es=null),ts!==null&&Nc(ts)&&(ts=null),Uo.forEach(vv),Bo.forEach(vv)}function Ya(e,t){e.blockedOn===t&&(e.blockedOn=null,Ff||(Ff=!0,Xt.unstable_scheduleCallback(Xt.unstable_NormalPriority,eT)))}function Vo(e){function t(s){return Ya(s,e)}if(0<Gl.length){Ya(Gl[0],e);for(var n=1;n<Gl.length;n++){var r=Gl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Zr!==null&&Ya(Zr,e),es!==null&&Ya(es,e),ts!==null&&Ya(ts,e),Uo.forEach(t),Bo.forEach(t),n=0;n<Br.length;n++)r=Br[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Br.length&&(n=Br[0],n.blockedOn===null);)Gb(n),n.blockedOn===null&&Br.shift()}var Xi=Nr.ReactCurrentBatchConfig,Qc=!0;function tT(e,t,n,r){var s=Ee,a=Xi.transition;Xi.transition=null;try{Ee=1,Ip(e,t,n,r)}finally{Ee=s,Xi.transition=a}}function nT(e,t,n,r){var s=Ee,a=Xi.transition;Xi.transition=null;try{Ee=4,Ip(e,t,n,r)}finally{Ee=s,Xi.transition=a}}function Ip(e,t,n,r){if(Qc){var s=$f(e,t,n,r);if(s===null)xh(e,t,r,Xc,n),xv(e,r);else if(ZE(s,e,t,n,r))r.stopPropagation();else if(xv(e,r),t&4&&-1<JE.indexOf(e)){for(;s!==null;){var a=bl(s);if(a!==null&&Wb(a),a=$f(e,t,n,r),a===null&&xh(e,t,r,Xc,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else xh(e,t,r,null,n)}}var Xc=null;function $f(e,t,n,r){if(Xc=null,e=Ap(r),e=$s(e),e!==null)if(t=ui(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ob(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xc=e,null}function Yb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zE()){case Rp:return 1;case Ub:return 4;case Gc:case WE:return 16;case Bb:return 536870912;default:return 16}default:return 16}}var Yr=null,Op=null,kc=null;function Qb(){if(kc)return kc;var e,t=Op,n=t.length,r,s="value"in Yr?Yr.value:Yr.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[a-r];r++);return kc=s.slice(e,1<r?1-r:void 0)}function Cc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yl(){return!0}function yv(){return!1}function en(e){function t(n,r,s,a,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Yl:yv,this.isPropagationStopped=yv,this}return Ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yl)},persist:function(){},isPersistent:Yl}),t}var Pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lp=en(Pa),wl=Ve({},Pa,{view:0,detail:0}),rT=en(wl),lh,ch,Qa,Yu=Ve({},wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qa&&(Qa&&e.type==="mousemove"?(lh=e.screenX-Qa.screenX,ch=e.screenY-Qa.screenY):ch=lh=0,Qa=e),lh)},movementY:function(e){return"movementY"in e?e.movementY:ch}}),wv=en(Yu),sT=Ve({},Yu,{dataTransfer:0}),iT=en(sT),aT=Ve({},wl,{relatedTarget:0}),uh=en(aT),oT=Ve({},Pa,{animationName:0,elapsedTime:0,pseudoElement:0}),lT=en(oT),cT=Ve({},Pa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uT=en(cT),dT=Ve({},Pa,{data:0}),bv=en(dT),hT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=mT[e])?!!t[e]:!1}function Fp(){return pT}var gT=Ve({},wl,{key:function(e){if(e.key){var t=hT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Cc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fp,charCode:function(e){return e.type==="keypress"?Cc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Cc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xT=en(gT),vT=Ve({},Yu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jv=en(vT),yT=Ve({},wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fp}),wT=en(yT),bT=Ve({},Pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),jT=en(bT),ST=Ve({},Yu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_T=en(ST),NT=[9,13,27,32],$p=xr&&"CompositionEvent"in window,vo=null;xr&&"documentMode"in document&&(vo=document.documentMode);var kT=xr&&"TextEvent"in window&&!vo,Xb=xr&&(!$p||vo&&8<vo&&11>=vo),Sv=" ",_v=!1;function Jb(e,t){switch(e){case"keyup":return NT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mi=!1;function CT(e,t){switch(e){case"compositionend":return Zb(t);case"keypress":return t.which!==32?null:(_v=!0,Sv);case"textInput":return e=t.data,e===Sv&&_v?null:e;default:return null}}function PT(e,t){if(Mi)return e==="compositionend"||!$p&&Jb(e,t)?(e=Qb(),kc=Op=Yr=null,Mi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xb&&t.locale!=="ko"?null:t.data;default:return null}}var ET={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ET[e.type]:t==="textarea"}function ej(e,t,n,r){Ab(r),t=Jc(t,"onChange"),0<t.length&&(n=new Lp("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var yo=null,zo=null;function TT(e){dj(e,0)}function Qu(e){var t=Oi(e);if(_b(t))return e}function AT(e,t){if(e==="change")return t}var tj=!1;if(xr){var dh;if(xr){var hh="oninput"in document;if(!hh){var kv=document.createElement("div");kv.setAttribute("oninput","return;"),hh=typeof kv.oninput=="function"}dh=hh}else dh=!1;tj=dh&&(!document.documentMode||9<document.documentMode)}function Cv(){yo&&(yo.detachEvent("onpropertychange",nj),zo=yo=null)}function nj(e){if(e.propertyName==="value"&&Qu(zo)){var t=[];ej(t,zo,e,Ap(e)),Ib(TT,t)}}function RT(e,t,n){e==="focusin"?(Cv(),yo=t,zo=n,yo.attachEvent("onpropertychange",nj)):e==="focusout"&&Cv()}function MT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qu(zo)}function DT(e,t){if(e==="click")return Qu(t)}function IT(e,t){if(e==="input"||e==="change")return Qu(t)}function OT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rn=typeof Object.is=="function"?Object.is:OT;function Wo(e,t){if(Rn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!bf.call(t,s)||!Rn(e[s],t[s]))return!1}return!0}function Pv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ev(e,t){var n=Pv(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Pv(n)}}function rj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function sj(){for(var e=window,t=Hc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Hc(e.document)}return t}function Up(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function LT(e){var t=sj(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&rj(n.ownerDocument.documentElement,n)){if(r!==null&&Up(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=Ev(n,a);var o=Ev(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var FT=xr&&"documentMode"in document&&11>=document.documentMode,Di=null,Uf=null,wo=null,Bf=!1;function Tv(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bf||Di==null||Di!==Hc(r)||(r=Di,"selectionStart"in r&&Up(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wo&&Wo(wo,r)||(wo=r,r=Jc(Uf,"onSelect"),0<r.length&&(t=new Lp("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Di)))}function Ql(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ii={animationend:Ql("Animation","AnimationEnd"),animationiteration:Ql("Animation","AnimationIteration"),animationstart:Ql("Animation","AnimationStart"),transitionend:Ql("Transition","TransitionEnd")},fh={},ij={};xr&&(ij=document.createElement("div").style,"AnimationEvent"in window||(delete Ii.animationend.animation,delete Ii.animationiteration.animation,delete Ii.animationstart.animation),"TransitionEvent"in window||delete Ii.transitionend.transition);function Xu(e){if(fh[e])return fh[e];if(!Ii[e])return e;var t=Ii[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ij)return fh[e]=t[n];return e}var aj=Xu("animationend"),oj=Xu("animationiteration"),lj=Xu("animationstart"),cj=Xu("transitionend"),uj=new Map,Av="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vs(e,t){uj.set(e,t),ci(t,[e])}for(var mh=0;mh<Av.length;mh++){var ph=Av[mh],$T=ph.toLowerCase(),UT=ph[0].toUpperCase()+ph.slice(1);vs($T,"on"+UT)}vs(aj,"onAnimationEnd");vs(oj,"onAnimationIteration");vs(lj,"onAnimationStart");vs("dblclick","onDoubleClick");vs("focusin","onFocus");vs("focusout","onBlur");vs(cj,"onTransitionEnd");ma("onMouseEnter",["mouseout","mouseover"]);ma("onMouseLeave",["mouseout","mouseover"]);ma("onPointerEnter",["pointerout","pointerover"]);ma("onPointerLeave",["pointerout","pointerover"]);ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ci("onBeforeInput",["compositionend","keypress","textInput","paste"]);ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BT=new Set("cancel close invalid load scroll toggle".split(" ").concat(uo));function Rv(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,$E(r,t,void 0,e),e.currentTarget=null}function dj(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;Rv(s,l,u),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;Rv(s,l,u),a=c}}}if(Kc)throw e=Of,Kc=!1,Of=null,e}function De(e,t){var n=t[qf];n===void 0&&(n=t[qf]=new Set);var r=e+"__bubble";n.has(r)||(hj(t,e,2,!1),n.add(r))}function gh(e,t,n){var r=0;t&&(r|=4),hj(n,e,r,t)}var Xl="_reactListening"+Math.random().toString(36).slice(2);function Ho(e){if(!e[Xl]){e[Xl]=!0,yb.forEach(function(n){n!=="selectionchange"&&(BT.has(n)||gh(n,!1,e),gh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xl]||(t[Xl]=!0,gh("selectionchange",!1,t))}}function hj(e,t,n,r){switch(Yb(t)){case 1:var s=tT;break;case 4:s=nT;break;default:s=Ip}n=s.bind(null,t,n,e),s=void 0,!If||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function xh(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=$s(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}Ib(function(){var u=a,d=Ap(n),h=[];e:{var f=uj.get(e);if(f!==void 0){var g=Lp,v=e;switch(e){case"keypress":if(Cc(n)===0)break e;case"keydown":case"keyup":g=xT;break;case"focusin":v="focus",g=uh;break;case"focusout":v="blur",g=uh;break;case"beforeblur":case"afterblur":g=uh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=wv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=iT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=wT;break;case aj:case oj:case lj:g=lT;break;case cj:g=jT;break;case"scroll":g=rT;break;case"wheel":g=_T;break;case"copy":case"cut":case"paste":g=uT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=jv}var x=(t&4)!==0,b=!x&&e==="scroll",y=x?f!==null?f+"Capture":null:f;x=[];for(var w=u,p;w!==null;){p=w;var j=p.stateNode;if(p.tag===5&&j!==null&&(p=j,y!==null&&(j=$o(w,y),j!=null&&x.push(qo(w,j,p)))),b)break;w=w.return}0<x.length&&(f=new g(f,v,null,n,d),h.push({event:f,listeners:x}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&n!==Mf&&(v=n.relatedTarget||n.fromElement)&&($s(v)||v[vr]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?$s(v):null,v!==null&&(b=ui(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(x=wv,j="onMouseLeave",y="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(x=jv,j="onPointerLeave",y="onPointerEnter",w="pointer"),b=g==null?f:Oi(g),p=v==null?f:Oi(v),f=new x(j,w+"leave",g,n,d),f.target=b,f.relatedTarget=p,j=null,$s(d)===u&&(x=new x(y,w+"enter",v,n,d),x.target=p,x.relatedTarget=b,j=x),b=j,g&&v)t:{for(x=g,y=v,w=0,p=x;p;p=vi(p))w++;for(p=0,j=y;j;j=vi(j))p++;for(;0<w-p;)x=vi(x),w--;for(;0<p-w;)y=vi(y),p--;for(;w--;){if(x===y||y!==null&&x===y.alternate)break t;x=vi(x),y=vi(y)}x=null}else x=null;g!==null&&Mv(h,f,g,x,!1),v!==null&&b!==null&&Mv(h,b,v,x,!0)}}e:{if(f=u?Oi(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var S=AT;else if(Nv(f))if(tj)S=IT;else{S=MT;var _=RT}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=DT);if(S&&(S=S(e,u))){ej(h,S,n,d);break e}_&&_(e,f,u),e==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&Pf(f,"number",f.value)}switch(_=u?Oi(u):window,e){case"focusin":(Nv(_)||_.contentEditable==="true")&&(Di=_,Uf=u,wo=null);break;case"focusout":wo=Uf=Di=null;break;case"mousedown":Bf=!0;break;case"contextmenu":case"mouseup":case"dragend":Bf=!1,Tv(h,n,d);break;case"selectionchange":if(FT)break;case"keydown":case"keyup":Tv(h,n,d)}var N;if($p)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Mi?Jb(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Xb&&n.locale!=="ko"&&(Mi||k!=="onCompositionStart"?k==="onCompositionEnd"&&Mi&&(N=Qb()):(Yr=d,Op="value"in Yr?Yr.value:Yr.textContent,Mi=!0)),_=Jc(u,k),0<_.length&&(k=new bv(k,e,null,n,d),h.push({event:k,listeners:_}),N?k.data=N:(N=Zb(n),N!==null&&(k.data=N)))),(N=kT?CT(e,n):PT(e,n))&&(u=Jc(u,"onBeforeInput"),0<u.length&&(d=new bv("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=N))}dj(h,t)})}function qo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Jc(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=$o(e,n),a!=null&&r.unshift(qo(e,a,s)),a=$o(e,t),a!=null&&r.push(qo(e,a,s))),e=e.return}return r}function vi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Mv(e,t,n,r,s){for(var a=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=$o(n,a),c!=null&&o.unshift(qo(n,c,l))):s||(c=$o(n,a),c!=null&&o.push(qo(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var VT=/\r\n?/g,zT=/\u0000|\uFFFD/g;function Dv(e){return(typeof e=="string"?e:""+e).replace(VT,`
`).replace(zT,"")}function Jl(e,t,n){if(t=Dv(t),Dv(e)!==t&&n)throw Error(W(425))}function Zc(){}var Vf=null,zf=null;function Wf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hf=typeof setTimeout=="function"?setTimeout:void 0,WT=typeof clearTimeout=="function"?clearTimeout:void 0,Iv=typeof Promise=="function"?Promise:void 0,HT=typeof queueMicrotask=="function"?queueMicrotask:typeof Iv<"u"?function(e){return Iv.resolve(null).then(e).catch(qT)}:Hf;function qT(e){setTimeout(function(){throw e})}function vh(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Vo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Vo(t)}function ns(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ov(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ea=Math.random().toString(36).slice(2),Kn="__reactFiber$"+Ea,Ko="__reactProps$"+Ea,vr="__reactContainer$"+Ea,qf="__reactEvents$"+Ea,KT="__reactListeners$"+Ea,GT="__reactHandles$"+Ea;function $s(e){var t=e[Kn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vr]||n[Kn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ov(e);e!==null;){if(n=e[Kn])return n;e=Ov(e)}return t}e=n,n=e.parentNode}return null}function bl(e){return e=e[Kn]||e[vr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Oi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function Ju(e){return e[Ko]||null}var Kf=[],Li=-1;function ys(e){return{current:e}}function Ie(e){0>Li||(e.current=Kf[Li],Kf[Li]=null,Li--)}function Ae(e,t){Li++,Kf[Li]=e.current,e.current=t}var us={},St=ys(us),$t=ys(!1),ei=us;function pa(e,t){var n=e.type.contextTypes;if(!n)return us;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ut(e){return e=e.childContextTypes,e!=null}function eu(){Ie($t),Ie(St)}function Lv(e,t,n){if(St.current!==us)throw Error(W(168));Ae(St,t),Ae($t,n)}function fj(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(W(108,RE(e)||"Unknown",s));return Ve({},n,r)}function tu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||us,ei=St.current,Ae(St,e),Ae($t,$t.current),!0}function Fv(e,t,n){var r=e.stateNode;if(!r)throw Error(W(169));n?(e=fj(e,t,ei),r.__reactInternalMemoizedMergedChildContext=e,Ie($t),Ie(St),Ae(St,e)):Ie($t),Ae($t,n)}var hr=null,Zu=!1,yh=!1;function mj(e){hr===null?hr=[e]:hr.push(e)}function YT(e){Zu=!0,mj(e)}function ws(){if(!yh&&hr!==null){yh=!0;var e=0,t=Ee;try{var n=hr;for(Ee=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}hr=null,Zu=!1}catch(s){throw hr!==null&&(hr=hr.slice(e+1)),$b(Rp,ws),s}finally{Ee=t,yh=!1}}return null}var Fi=[],$i=0,nu=null,ru=0,an=[],on=0,ti=null,mr=1,pr="";function Ms(e,t){Fi[$i++]=ru,Fi[$i++]=nu,nu=e,ru=t}function pj(e,t,n){an[on++]=mr,an[on++]=pr,an[on++]=ti,ti=e;var r=mr;e=pr;var s=32-Tn(r)-1;r&=~(1<<s),n+=1;var a=32-Tn(t)+s;if(30<a){var o=s-s%5;a=(r&(1<<o)-1).toString(32),r>>=o,s-=o,mr=1<<32-Tn(t)+s|n<<s|r,pr=a+e}else mr=1<<a|n<<s|r,pr=e}function Bp(e){e.return!==null&&(Ms(e,1),pj(e,1,0))}function Vp(e){for(;e===nu;)nu=Fi[--$i],Fi[$i]=null,ru=Fi[--$i],Fi[$i]=null;for(;e===ti;)ti=an[--on],an[on]=null,pr=an[--on],an[on]=null,mr=an[--on],an[on]=null}var Gt=null,Kt=null,Oe=!1,Pn=null;function gj(e,t){var n=cn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function $v(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Gt=e,Kt=ns(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Gt=e,Kt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ti!==null?{id:mr,overflow:pr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=cn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Gt=e,Kt=null,!0):!1;default:return!1}}function Gf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Yf(e){if(Oe){var t=Kt;if(t){var n=t;if(!$v(e,t)){if(Gf(e))throw Error(W(418));t=ns(n.nextSibling);var r=Gt;t&&$v(e,t)?gj(r,n):(e.flags=e.flags&-4097|2,Oe=!1,Gt=e)}}else{if(Gf(e))throw Error(W(418));e.flags=e.flags&-4097|2,Oe=!1,Gt=e}}}function Uv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Gt=e}function Zl(e){if(e!==Gt)return!1;if(!Oe)return Uv(e),Oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Wf(e.type,e.memoizedProps)),t&&(t=Kt)){if(Gf(e))throw xj(),Error(W(418));for(;t;)gj(e,t),t=ns(t.nextSibling)}if(Uv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Kt=ns(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Kt=null}}else Kt=Gt?ns(e.stateNode.nextSibling):null;return!0}function xj(){for(var e=Kt;e;)e=ns(e.nextSibling)}function ga(){Kt=Gt=null,Oe=!1}function zp(e){Pn===null?Pn=[e]:Pn.push(e)}var QT=Nr.ReactCurrentBatchConfig;function Xa(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,e))}return e}function ec(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Bv(e){var t=e._init;return t(e._payload)}function vj(e){function t(y,w){if(e){var p=y.deletions;p===null?(y.deletions=[w],y.flags|=16):p.push(w)}}function n(y,w){if(!e)return null;for(;w!==null;)t(y,w),w=w.sibling;return null}function r(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function s(y,w){return y=as(y,w),y.index=0,y.sibling=null,y}function a(y,w,p){return y.index=p,e?(p=y.alternate,p!==null?(p=p.index,p<w?(y.flags|=2,w):p):(y.flags|=2,w)):(y.flags|=1048576,w)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,w,p,j){return w===null||w.tag!==6?(w=kh(p,y.mode,j),w.return=y,w):(w=s(w,p),w.return=y,w)}function c(y,w,p,j){var S=p.type;return S===Ri?d(y,w,p.props.children,j,p.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Fr&&Bv(S)===w.type)?(j=s(w,p.props),j.ref=Xa(y,w,p),j.return=y,j):(j=Dc(p.type,p.key,p.props,null,y.mode,j),j.ref=Xa(y,w,p),j.return=y,j)}function u(y,w,p,j){return w===null||w.tag!==4||w.stateNode.containerInfo!==p.containerInfo||w.stateNode.implementation!==p.implementation?(w=Ch(p,y.mode,j),w.return=y,w):(w=s(w,p.children||[]),w.return=y,w)}function d(y,w,p,j,S){return w===null||w.tag!==7?(w=Qs(p,y.mode,j,S),w.return=y,w):(w=s(w,p),w.return=y,w)}function h(y,w,p){if(typeof w=="string"&&w!==""||typeof w=="number")return w=kh(""+w,y.mode,p),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case zl:return p=Dc(w.type,w.key,w.props,null,y.mode,p),p.ref=Xa(y,null,w),p.return=y,p;case Ai:return w=Ch(w,y.mode,p),w.return=y,w;case Fr:var j=w._init;return h(y,j(w._payload),p)}if(lo(w)||qa(w))return w=Qs(w,y.mode,p,null),w.return=y,w;ec(y,w)}return null}function f(y,w,p,j){var S=w!==null?w.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return S!==null?null:l(y,w,""+p,j);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case zl:return p.key===S?c(y,w,p,j):null;case Ai:return p.key===S?u(y,w,p,j):null;case Fr:return S=p._init,f(y,w,S(p._payload),j)}if(lo(p)||qa(p))return S!==null?null:d(y,w,p,j,null);ec(y,p)}return null}function g(y,w,p,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(p)||null,l(w,y,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case zl:return y=y.get(j.key===null?p:j.key)||null,c(w,y,j,S);case Ai:return y=y.get(j.key===null?p:j.key)||null,u(w,y,j,S);case Fr:var _=j._init;return g(y,w,p,_(j._payload),S)}if(lo(j)||qa(j))return y=y.get(p)||null,d(w,y,j,S,null);ec(w,j)}return null}function v(y,w,p,j){for(var S=null,_=null,N=w,k=w=0,T=null;N!==null&&k<p.length;k++){N.index>k?(T=N,N=null):T=N.sibling;var D=f(y,N,p[k],j);if(D===null){N===null&&(N=T);break}e&&N&&D.alternate===null&&t(y,N),w=a(D,w,k),_===null?S=D:_.sibling=D,_=D,N=T}if(k===p.length)return n(y,N),Oe&&Ms(y,k),S;if(N===null){for(;k<p.length;k++)N=h(y,p[k],j),N!==null&&(w=a(N,w,k),_===null?S=N:_.sibling=N,_=N);return Oe&&Ms(y,k),S}for(N=r(y,N);k<p.length;k++)T=g(N,y,k,p[k],j),T!==null&&(e&&T.alternate!==null&&N.delete(T.key===null?k:T.key),w=a(T,w,k),_===null?S=T:_.sibling=T,_=T);return e&&N.forEach(function(F){return t(y,F)}),Oe&&Ms(y,k),S}function x(y,w,p,j){var S=qa(p);if(typeof S!="function")throw Error(W(150));if(p=S.call(p),p==null)throw Error(W(151));for(var _=S=null,N=w,k=w=0,T=null,D=p.next();N!==null&&!D.done;k++,D=p.next()){N.index>k?(T=N,N=null):T=N.sibling;var F=f(y,N,D.value,j);if(F===null){N===null&&(N=T);break}e&&N&&F.alternate===null&&t(y,N),w=a(F,w,k),_===null?S=F:_.sibling=F,_=F,N=T}if(D.done)return n(y,N),Oe&&Ms(y,k),S;if(N===null){for(;!D.done;k++,D=p.next())D=h(y,D.value,j),D!==null&&(w=a(D,w,k),_===null?S=D:_.sibling=D,_=D);return Oe&&Ms(y,k),S}for(N=r(y,N);!D.done;k++,D=p.next())D=g(N,y,k,D.value,j),D!==null&&(e&&D.alternate!==null&&N.delete(D.key===null?k:D.key),w=a(D,w,k),_===null?S=D:_.sibling=D,_=D);return e&&N.forEach(function(P){return t(y,P)}),Oe&&Ms(y,k),S}function b(y,w,p,j){if(typeof p=="object"&&p!==null&&p.type===Ri&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case zl:e:{for(var S=p.key,_=w;_!==null;){if(_.key===S){if(S=p.type,S===Ri){if(_.tag===7){n(y,_.sibling),w=s(_,p.props.children),w.return=y,y=w;break e}}else if(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Fr&&Bv(S)===_.type){n(y,_.sibling),w=s(_,p.props),w.ref=Xa(y,_,p),w.return=y,y=w;break e}n(y,_);break}else t(y,_);_=_.sibling}p.type===Ri?(w=Qs(p.props.children,y.mode,j,p.key),w.return=y,y=w):(j=Dc(p.type,p.key,p.props,null,y.mode,j),j.ref=Xa(y,w,p),j.return=y,y=j)}return o(y);case Ai:e:{for(_=p.key;w!==null;){if(w.key===_)if(w.tag===4&&w.stateNode.containerInfo===p.containerInfo&&w.stateNode.implementation===p.implementation){n(y,w.sibling),w=s(w,p.children||[]),w.return=y,y=w;break e}else{n(y,w);break}else t(y,w);w=w.sibling}w=Ch(p,y.mode,j),w.return=y,y=w}return o(y);case Fr:return _=p._init,b(y,w,_(p._payload),j)}if(lo(p))return v(y,w,p,j);if(qa(p))return x(y,w,p,j);ec(y,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,w!==null&&w.tag===6?(n(y,w.sibling),w=s(w,p),w.return=y,y=w):(n(y,w),w=kh(p,y.mode,j),w.return=y,y=w),o(y)):n(y,w)}return b}var xa=vj(!0),yj=vj(!1),su=ys(null),iu=null,Ui=null,Wp=null;function Hp(){Wp=Ui=iu=null}function qp(e){var t=su.current;Ie(su),e._currentValue=t}function Qf(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ji(e,t){iu=e,Wp=Ui=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Lt=!0),e.firstContext=null)}function mn(e){var t=e._currentValue;if(Wp!==e)if(e={context:e,memoizedValue:t,next:null},Ui===null){if(iu===null)throw Error(W(308));Ui=e,iu.dependencies={lanes:0,firstContext:e}}else Ui=Ui.next=e;return t}var Us=null;function Kp(e){Us===null?Us=[e]:Us.push(e)}function wj(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Kp(t)):(n.next=s.next,s.next=n),t.interleaved=n,yr(e,r)}function yr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var $r=!1;function Gp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bj(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function rs(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,yr(e,n)}return s=r.interleaved,s===null?(t.next=t,Kp(r)):(t.next=s.next,s.next=t),r.interleaved=t,yr(e,n)}function Pc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Mp(e,n)}}function Vv(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function au(e,t,n,r){var s=e.updateQueue;$r=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=s.baseState;o=0,d=u=c=null,l=a;do{var f=l.lane,g=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,x=l;switch(f=t,g=n,x.tag){case 1:if(v=x.payload,typeof v=="function"){h=v.call(g,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,f=typeof v=="function"?v.call(g,h,f):v,f==null)break e;h=Ve({},h,f);break e;case 2:$r=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else g={eventTime:g,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=h):d=d.next=g,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);ri|=o,e.lanes=o,e.memoizedState=h}}function zv(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var jl={},Qn=ys(jl),Go=ys(jl),Yo=ys(jl);function Bs(e){if(e===jl)throw Error(W(174));return e}function Yp(e,t){switch(Ae(Yo,t),Ae(Go,e),Ae(Qn,jl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Tf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Tf(t,e)}Ie(Qn),Ae(Qn,t)}function va(){Ie(Qn),Ie(Go),Ie(Yo)}function jj(e){Bs(Yo.current);var t=Bs(Qn.current),n=Tf(t,e.type);t!==n&&(Ae(Go,e),Ae(Qn,n))}function Qp(e){Go.current===e&&(Ie(Qn),Ie(Go))}var Fe=ys(0);function ou(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wh=[];function Xp(){for(var e=0;e<wh.length;e++)wh[e]._workInProgressVersionPrimary=null;wh.length=0}var Ec=Nr.ReactCurrentDispatcher,bh=Nr.ReactCurrentBatchConfig,ni=0,Be=null,Ze=null,rt=null,lu=!1,bo=!1,Qo=0,XT=0;function pt(){throw Error(W(321))}function Jp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Rn(e[n],t[n]))return!1;return!0}function Zp(e,t,n,r,s,a){if(ni=a,Be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ec.current=e===null||e.memoizedState===null?tA:nA,e=n(r,s),bo){a=0;do{if(bo=!1,Qo=0,25<=a)throw Error(W(301));a+=1,rt=Ze=null,t.updateQueue=null,Ec.current=rA,e=n(r,s)}while(bo)}if(Ec.current=cu,t=Ze!==null&&Ze.next!==null,ni=0,rt=Ze=Be=null,lu=!1,t)throw Error(W(300));return e}function eg(){var e=Qo!==0;return Qo=0,e}function Vn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?Be.memoizedState=rt=e:rt=rt.next=e,rt}function pn(){if(Ze===null){var e=Be.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var t=rt===null?Be.memoizedState:rt.next;if(t!==null)rt=t,Ze=e;else{if(e===null)throw Error(W(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},rt===null?Be.memoizedState=rt=e:rt=rt.next=e}return rt}function Xo(e,t){return typeof t=="function"?t(e):t}function jh(e){var t=pn(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=Ze,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((ni&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,Be.lanes|=d,ri|=d}u=u.next}while(u!==null&&u!==a);c===null?o=r:c.next=l,Rn(r,t.memoizedState)||(Lt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,Be.lanes|=a,ri|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Sh(e){var t=pn(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);Rn(a,t.memoizedState)||(Lt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Sj(){}function _j(e,t){var n=Be,r=pn(),s=t(),a=!Rn(r.memoizedState,s);if(a&&(r.memoizedState=s,Lt=!0),r=r.queue,tg(Cj.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||rt!==null&&rt.memoizedState.tag&1){if(n.flags|=2048,Jo(9,kj.bind(null,n,r,s,t),void 0,null),st===null)throw Error(W(349));ni&30||Nj(n,t,s)}return s}function Nj(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Be.updateQueue,t===null?(t={lastEffect:null,stores:null},Be.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function kj(e,t,n,r){t.value=n,t.getSnapshot=r,Pj(t)&&Ej(e)}function Cj(e,t,n){return n(function(){Pj(t)&&Ej(e)})}function Pj(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Rn(e,n)}catch{return!0}}function Ej(e){var t=yr(e,1);t!==null&&An(t,e,1,-1)}function Wv(e){var t=Vn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:e},t.queue=e,e=e.dispatch=eA.bind(null,Be,e),[t.memoizedState,e]}function Jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Be.updateQueue,t===null?(t={lastEffect:null,stores:null},Be.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Tj(){return pn().memoizedState}function Tc(e,t,n,r){var s=Vn();Be.flags|=e,s.memoizedState=Jo(1|t,n,void 0,r===void 0?null:r)}function ed(e,t,n,r){var s=pn();r=r===void 0?null:r;var a=void 0;if(Ze!==null){var o=Ze.memoizedState;if(a=o.destroy,r!==null&&Jp(r,o.deps)){s.memoizedState=Jo(t,n,a,r);return}}Be.flags|=e,s.memoizedState=Jo(1|t,n,a,r)}function Hv(e,t){return Tc(8390656,8,e,t)}function tg(e,t){return ed(2048,8,e,t)}function Aj(e,t){return ed(4,2,e,t)}function Rj(e,t){return ed(4,4,e,t)}function Mj(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Dj(e,t,n){return n=n!=null?n.concat([e]):null,ed(4,4,Mj.bind(null,t,e),n)}function ng(){}function Ij(e,t){var n=pn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Jp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Oj(e,t){var n=pn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Jp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Lj(e,t,n){return ni&21?(Rn(n,t)||(n=Vb(),Be.lanes|=n,ri|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Lt=!0),e.memoizedState=n)}function JT(e,t){var n=Ee;Ee=n!==0&&4>n?n:4,e(!0);var r=bh.transition;bh.transition={};try{e(!1),t()}finally{Ee=n,bh.transition=r}}function Fj(){return pn().memoizedState}function ZT(e,t,n){var r=is(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$j(e))Uj(t,n);else if(n=wj(e,t,n,r),n!==null){var s=Tt();An(n,e,r,s),Bj(n,t,r)}}function eA(e,t,n){var r=is(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($j(e))Uj(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(s.hasEagerState=!0,s.eagerState=l,Rn(l,o)){var c=t.interleaved;c===null?(s.next=s,Kp(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=wj(e,t,s,r),n!==null&&(s=Tt(),An(n,e,r,s),Bj(n,t,r))}}function $j(e){var t=e.alternate;return e===Be||t!==null&&t===Be}function Uj(e,t){bo=lu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Bj(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Mp(e,n)}}var cu={readContext:mn,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},tA={readContext:mn,useCallback:function(e,t){return Vn().memoizedState=[e,t===void 0?null:t],e},useContext:mn,useEffect:Hv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Tc(4194308,4,Mj.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Tc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Tc(4,2,e,t)},useMemo:function(e,t){var n=Vn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Vn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ZT.bind(null,Be,e),[r.memoizedState,e]},useRef:function(e){var t=Vn();return e={current:e},t.memoizedState=e},useState:Wv,useDebugValue:ng,useDeferredValue:function(e){return Vn().memoizedState=e},useTransition:function(){var e=Wv(!1),t=e[0];return e=JT.bind(null,e[1]),Vn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Be,s=Vn();if(Oe){if(n===void 0)throw Error(W(407));n=n()}else{if(n=t(),st===null)throw Error(W(349));ni&30||Nj(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,Hv(Cj.bind(null,r,a,e),[e]),r.flags|=2048,Jo(9,kj.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Vn(),t=st.identifierPrefix;if(Oe){var n=pr,r=mr;n=(r&~(1<<32-Tn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Qo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=XT++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},nA={readContext:mn,useCallback:Ij,useContext:mn,useEffect:tg,useImperativeHandle:Dj,useInsertionEffect:Aj,useLayoutEffect:Rj,useMemo:Oj,useReducer:jh,useRef:Tj,useState:function(){return jh(Xo)},useDebugValue:ng,useDeferredValue:function(e){var t=pn();return Lj(t,Ze.memoizedState,e)},useTransition:function(){var e=jh(Xo)[0],t=pn().memoizedState;return[e,t]},useMutableSource:Sj,useSyncExternalStore:_j,useId:Fj,unstable_isNewReconciler:!1},rA={readContext:mn,useCallback:Ij,useContext:mn,useEffect:tg,useImperativeHandle:Dj,useInsertionEffect:Aj,useLayoutEffect:Rj,useMemo:Oj,useReducer:Sh,useRef:Tj,useState:function(){return Sh(Xo)},useDebugValue:ng,useDeferredValue:function(e){var t=pn();return Ze===null?t.memoizedState=e:Lj(t,Ze.memoizedState,e)},useTransition:function(){var e=Sh(Xo)[0],t=pn().memoizedState;return[e,t]},useMutableSource:Sj,useSyncExternalStore:_j,useId:Fj,unstable_isNewReconciler:!1};function Sn(e,t){if(e&&e.defaultProps){t=Ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Xf(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var td={isMounted:function(e){return(e=e._reactInternals)?ui(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Tt(),s=is(e),a=gr(r,s);a.payload=t,n!=null&&(a.callback=n),t=rs(e,a,s),t!==null&&(An(t,e,s,r),Pc(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Tt(),s=is(e),a=gr(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=rs(e,a,s),t!==null&&(An(t,e,s,r),Pc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Tt(),r=is(e),s=gr(n,r);s.tag=2,t!=null&&(s.callback=t),t=rs(e,s,r),t!==null&&(An(t,e,r,n),Pc(t,e,r))}};function qv(e,t,n,r,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Wo(n,r)||!Wo(s,a):!0}function Vj(e,t,n){var r=!1,s=us,a=t.contextType;return typeof a=="object"&&a!==null?a=mn(a):(s=Ut(t)?ei:St.current,r=t.contextTypes,a=(r=r!=null)?pa(e,s):us),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=td,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function Kv(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&td.enqueueReplaceState(t,t.state,null)}function Jf(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Gp(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=mn(a):(a=Ut(t)?ei:St.current,s.context=pa(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Xf(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&td.enqueueReplaceState(s,s.state,null),au(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ya(e,t){try{var n="",r=t;do n+=AE(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function _h(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Zf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var sA=typeof WeakMap=="function"?WeakMap:Map;function zj(e,t,n){n=gr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){du||(du=!0,cm=r),Zf(e,t)},n}function Wj(e,t,n){n=gr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Zf(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Zf(e,t),typeof r!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Gv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new sA;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=vA.bind(null,e,t,n),t.then(e,e))}function Yv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Qv(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=gr(-1,1),t.tag=2,rs(n,t,1))),n.lanes|=1),e)}var iA=Nr.ReactCurrentOwner,Lt=!1;function Nt(e,t,n,r){t.child=e===null?yj(t,null,n,r):xa(t,e.child,n,r)}function Xv(e,t,n,r,s){n=n.render;var a=t.ref;return Ji(t,s),r=Zp(e,t,n,r,a,s),n=eg(),e!==null&&!Lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,wr(e,t,s)):(Oe&&n&&Bp(t),t.flags|=1,Nt(e,t,r,s),t.child)}function Jv(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!ug(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Hj(e,t,a,r,s)):(e=Dc(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Wo,n(o,r)&&e.ref===t.ref)return wr(e,t,s)}return t.flags|=1,e=as(a,r),e.ref=t.ref,e.return=t,t.child=e}function Hj(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(Wo(a,r)&&e.ref===t.ref)if(Lt=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(Lt=!0);else return t.lanes=e.lanes,wr(e,t,s)}return em(e,t,n,r,s)}function qj(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(Vi,Wt),Wt|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ae(Vi,Wt),Wt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Ae(Vi,Wt),Wt|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ae(Vi,Wt),Wt|=r;return Nt(e,t,s,n),t.child}function Kj(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function em(e,t,n,r,s){var a=Ut(n)?ei:St.current;return a=pa(t,a),Ji(t,s),n=Zp(e,t,n,r,a,s),r=eg(),e!==null&&!Lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,wr(e,t,s)):(Oe&&r&&Bp(t),t.flags|=1,Nt(e,t,n,s),t.child)}function Zv(e,t,n,r,s){if(Ut(n)){var a=!0;tu(t)}else a=!1;if(Ji(t,s),t.stateNode===null)Ac(e,t),Vj(t,n,r),Jf(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=mn(u):(u=Ut(n)?ei:St.current,u=pa(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Kv(t,o,r,u),$r=!1;var f=t.memoizedState;o.state=f,au(t,r,o,s),c=t.memoizedState,l!==r||f!==c||$t.current||$r?(typeof d=="function"&&(Xf(t,n,d,r),c=t.memoizedState),(l=$r||qv(t,n,l,r,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,bj(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Sn(t.type,l),o.props=u,h=t.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=mn(c):(c=Ut(n)?ei:St.current,c=pa(t,c));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&Kv(t,o,r,c),$r=!1,f=t.memoizedState,o.state=f,au(t,r,o,s);var v=t.memoizedState;l!==h||f!==v||$t.current||$r?(typeof g=="function"&&(Xf(t,n,g,r),v=t.memoizedState),(u=$r||qv(t,n,u,r,f,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return tm(e,t,n,r,a,s)}function tm(e,t,n,r,s,a){Kj(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Fv(t,n,!1),wr(e,t,a);r=t.stateNode,iA.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=xa(t,e.child,null,a),t.child=xa(t,null,l,a)):Nt(e,t,l,a),t.memoizedState=r.state,s&&Fv(t,n,!0),t.child}function Gj(e){var t=e.stateNode;t.pendingContext?Lv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Lv(e,t.context,!1),Yp(e,t.containerInfo)}function ey(e,t,n,r,s){return ga(),zp(s),t.flags|=256,Nt(e,t,n,r),t.child}var nm={dehydrated:null,treeContext:null,retryLane:0};function rm(e){return{baseLanes:e,cachePool:null,transitions:null}}function Yj(e,t,n){var r=t.pendingProps,s=Fe.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ae(Fe,s&1),e===null)return Yf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=sd(o,r,0,null),e=Qs(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=rm(n),t.memoizedState=nm,e):rg(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return aA(e,t,o,r,l,s,n);if(a){a=r.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=as(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=as(l,a):(a=Qs(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?rm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=nm,r}return a=e.child,e=a.sibling,r=as(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function rg(e,t){return t=sd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function tc(e,t,n,r){return r!==null&&zp(r),xa(t,e.child,null,n),e=rg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function aA(e,t,n,r,s,a,o){if(n)return t.flags&256?(t.flags&=-257,r=_h(Error(W(422))),tc(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=sd({mode:"visible",children:r.children},s,0,null),a=Qs(a,s,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&xa(t,e.child,null,o),t.child.memoizedState=rm(o),t.memoizedState=nm,a);if(!(t.mode&1))return tc(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(W(419)),r=_h(a,r,void 0),tc(e,t,o,r)}if(l=(o&e.childLanes)!==0,Lt||l){if(r=st,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,yr(e,s),An(r,e,s,-1))}return cg(),r=_h(Error(W(421))),tc(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=yA.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Kt=ns(s.nextSibling),Gt=t,Oe=!0,Pn=null,e!==null&&(an[on++]=mr,an[on++]=pr,an[on++]=ti,mr=e.id,pr=e.overflow,ti=t),t=rg(t,r.children),t.flags|=4096,t)}function ty(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Qf(e.return,t,n)}function Nh(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function Qj(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(Nt(e,t,r.children,n),r=Fe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ty(e,n,t);else if(e.tag===19)ty(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ae(Fe,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ou(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Nh(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ou(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Nh(t,!0,n,null,a);break;case"together":Nh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ac(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function wr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ri|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,n=as(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=as(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function oA(e,t,n){switch(t.tag){case 3:Gj(t),ga();break;case 5:jj(t);break;case 1:Ut(t.type)&&tu(t);break;case 4:Yp(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ae(su,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ae(Fe,Fe.current&1),t.flags|=128,null):n&t.child.childLanes?Yj(e,t,n):(Ae(Fe,Fe.current&1),e=wr(e,t,n),e!==null?e.sibling:null);Ae(Fe,Fe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Qj(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ae(Fe,Fe.current),r)break;return null;case 22:case 23:return t.lanes=0,qj(e,t,n)}return wr(e,t,n)}var Xj,sm,Jj,Zj;Xj=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sm=function(){};Jj=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Bs(Qn.current);var a=null;switch(n){case"input":s=kf(e,s),r=kf(e,r),a=[];break;case"select":s=Ve({},s,{value:void 0}),r=Ve({},r,{value:void 0}),a=[];break;case"textarea":s=Ef(e,s),r=Ef(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Zc)}Af(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Lo.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Lo.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&De("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};Zj=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ja(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function gt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function lA(e,t,n){var r=t.pendingProps;switch(Vp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(t),null;case 1:return Ut(t.type)&&eu(),gt(t),null;case 3:return r=t.stateNode,va(),Ie($t),Ie(St),Xp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Zl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Pn!==null&&(hm(Pn),Pn=null))),sm(e,t),gt(t),null;case 5:Qp(t);var s=Bs(Yo.current);if(n=t.type,e!==null&&t.stateNode!=null)Jj(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(W(166));return gt(t),null}if(e=Bs(Qn.current),Zl(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Kn]=t,r[Ko]=a,e=(t.mode&1)!==0,n){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(s=0;s<uo.length;s++)De(uo[s],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":uv(r,a),De("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},De("invalid",r);break;case"textarea":hv(r,a),De("invalid",r)}Af(n,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&Jl(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Jl(r.textContent,l,e),s=["children",""+l]):Lo.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&De("scroll",r)}switch(n){case"input":Wl(r),dv(r,a,!0);break;case"textarea":Wl(r),fv(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Zc)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Cb(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Kn]=t,e[Ko]=r,Xj(e,t,!1,!1),t.stateNode=e;e:{switch(o=Rf(n,r),n){case"dialog":De("cancel",e),De("close",e),s=r;break;case"iframe":case"object":case"embed":De("load",e),s=r;break;case"video":case"audio":for(s=0;s<uo.length;s++)De(uo[s],e);s=r;break;case"source":De("error",e),s=r;break;case"img":case"image":case"link":De("error",e),De("load",e),s=r;break;case"details":De("toggle",e),s=r;break;case"input":uv(e,r),s=kf(e,r),De("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ve({},r,{value:void 0}),De("invalid",e);break;case"textarea":hv(e,r),s=Ef(e,r),De("invalid",e);break;default:s=r}Af(n,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?Tb(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Pb(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Fo(e,c):typeof c=="number"&&Fo(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Lo.hasOwnProperty(a)?c!=null&&a==="onScroll"&&De("scroll",e):c!=null&&Cp(e,a,c,o))}switch(n){case"input":Wl(e),dv(e,r,!1);break;case"textarea":Wl(e),fv(e);break;case"option":r.value!=null&&e.setAttribute("value",""+cs(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Gi(e,!!r.multiple,a,!1):r.defaultValue!=null&&Gi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Zc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return gt(t),null;case 6:if(e&&t.stateNode!=null)Zj(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(W(166));if(n=Bs(Yo.current),Bs(Qn.current),Zl(t)){if(r=t.stateNode,n=t.memoizedProps,r[Kn]=t,(a=r.nodeValue!==n)&&(e=Gt,e!==null))switch(e.tag){case 3:Jl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Jl(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Kn]=t,t.stateNode=r}return gt(t),null;case 13:if(Ie(Fe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Oe&&Kt!==null&&t.mode&1&&!(t.flags&128))xj(),ga(),t.flags|=98560,a=!1;else if(a=Zl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(W(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(W(317));a[Kn]=t}else ga(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;gt(t),a=!1}else Pn!==null&&(hm(Pn),Pn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Fe.current&1?et===0&&(et=3):cg())),t.updateQueue!==null&&(t.flags|=4),gt(t),null);case 4:return va(),sm(e,t),e===null&&Ho(t.stateNode.containerInfo),gt(t),null;case 10:return qp(t.type._context),gt(t),null;case 17:return Ut(t.type)&&eu(),gt(t),null;case 19:if(Ie(Fe),a=t.memoizedState,a===null)return gt(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)Ja(a,!1);else{if(et!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ou(e),o!==null){for(t.flags|=128,Ja(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ae(Fe,Fe.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ye()>wa&&(t.flags|=128,r=!0,Ja(a,!1),t.lanes=4194304)}else{if(!r)if(e=ou(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ja(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Oe)return gt(t),null}else 2*Ye()-a.renderingStartTime>wa&&n!==1073741824&&(t.flags|=128,r=!0,Ja(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ye(),t.sibling=null,n=Fe.current,Ae(Fe,r?n&1|2:n&1),t):(gt(t),null);case 22:case 23:return lg(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Wt&1073741824&&(gt(t),t.subtreeFlags&6&&(t.flags|=8192)):gt(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function cA(e,t){switch(Vp(t),t.tag){case 1:return Ut(t.type)&&eu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return va(),Ie($t),Ie(St),Xp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Qp(t),null;case 13:if(Ie(Fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));ga()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ie(Fe),null;case 4:return va(),null;case 10:return qp(t.type._context),null;case 22:case 23:return lg(),null;case 24:return null;default:return null}}var nc=!1,yt=!1,uA=typeof WeakSet=="function"?WeakSet:Set,te=null;function Bi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){He(e,t,r)}else n.current=null}function im(e,t,n){try{n()}catch(r){He(e,t,r)}}var ny=!1;function dA(e,t){if(Vf=Qc,e=sj(),Up(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var g;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==a||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===e)break t;if(f===n&&++u===s&&(l=o),f===a&&++d===r&&(c=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(zf={focusedElem:e,selectionRange:n},Qc=!1,te=t;te!==null;)if(t=te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,te=e;else for(;te!==null;){t=te;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,b=v.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?x:Sn(t.type,x),b);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(j){He(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,te=e;break}te=t.return}return v=ny,ny=!1,v}function jo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&im(t,n,a)}s=s.next}while(s!==r)}}function nd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function am(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function e1(e){var t=e.alternate;t!==null&&(e.alternate=null,e1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Kn],delete t[Ko],delete t[qf],delete t[KT],delete t[GT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function t1(e){return e.tag===5||e.tag===3||e.tag===4}function ry(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||t1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function om(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Zc));else if(r!==4&&(e=e.child,e!==null))for(om(e,t,n),e=e.sibling;e!==null;)om(e,t,n),e=e.sibling}function lm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(lm(e,t,n),e=e.sibling;e!==null;)lm(e,t,n),e=e.sibling}var ot=null,kn=!1;function Er(e,t,n){for(n=n.child;n!==null;)n1(e,t,n),n=n.sibling}function n1(e,t,n){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(Gu,n)}catch{}switch(n.tag){case 5:yt||Bi(n,t);case 6:var r=ot,s=kn;ot=null,Er(e,t,n),ot=r,kn=s,ot!==null&&(kn?(e=ot,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ot.removeChild(n.stateNode));break;case 18:ot!==null&&(kn?(e=ot,n=n.stateNode,e.nodeType===8?vh(e.parentNode,n):e.nodeType===1&&vh(e,n),Vo(e)):vh(ot,n.stateNode));break;case 4:r=ot,s=kn,ot=n.stateNode.containerInfo,kn=!0,Er(e,t,n),ot=r,kn=s;break;case 0:case 11:case 14:case 15:if(!yt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&im(n,t,o),s=s.next}while(s!==r)}Er(e,t,n);break;case 1:if(!yt&&(Bi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){He(n,t,l)}Er(e,t,n);break;case 21:Er(e,t,n);break;case 22:n.mode&1?(yt=(r=yt)||n.memoizedState!==null,Er(e,t,n),yt=r):Er(e,t,n);break;default:Er(e,t,n)}}function sy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new uA),t.forEach(function(r){var s=wA.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function vn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ot=l.stateNode,kn=!1;break e;case 3:ot=l.stateNode.containerInfo,kn=!0;break e;case 4:ot=l.stateNode.containerInfo,kn=!0;break e}l=l.return}if(ot===null)throw Error(W(160));n1(a,o,s),ot=null,kn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){He(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)r1(t,e),t=t.sibling}function r1(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vn(t,e),Bn(e),r&4){try{jo(3,e,e.return),nd(3,e)}catch(x){He(e,e.return,x)}try{jo(5,e,e.return)}catch(x){He(e,e.return,x)}}break;case 1:vn(t,e),Bn(e),r&512&&n!==null&&Bi(n,n.return);break;case 5:if(vn(t,e),Bn(e),r&512&&n!==null&&Bi(n,n.return),e.flags&32){var s=e.stateNode;try{Fo(s,"")}catch(x){He(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Nb(s,a),Rf(l,o);var u=Rf(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?Tb(s,h):d==="dangerouslySetInnerHTML"?Pb(s,h):d==="children"?Fo(s,h):Cp(s,d,h,u)}switch(l){case"input":Cf(s,a);break;case"textarea":kb(s,a);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?Gi(s,!!a.multiple,g,!1):f!==!!a.multiple&&(a.defaultValue!=null?Gi(s,!!a.multiple,a.defaultValue,!0):Gi(s,!!a.multiple,a.multiple?[]:"",!1))}s[Ko]=a}catch(x){He(e,e.return,x)}}break;case 6:if(vn(t,e),Bn(e),r&4){if(e.stateNode===null)throw Error(W(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(x){He(e,e.return,x)}}break;case 3:if(vn(t,e),Bn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vo(t.containerInfo)}catch(x){He(e,e.return,x)}break;case 4:vn(t,e),Bn(e);break;case 13:vn(t,e),Bn(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(ag=Ye())),r&4&&sy(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(yt=(u=yt)||d,vn(t,e),yt=u):vn(t,e),Bn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(te=e,d=e.child;d!==null;){for(h=te=d;te!==null;){switch(f=te,g=f.child,f.tag){case 0:case 11:case 14:case 15:jo(4,f,f.return);break;case 1:Bi(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(x){He(r,n,x)}}break;case 5:Bi(f,f.return);break;case 22:if(f.memoizedState!==null){ay(h);continue}}g!==null?(g.return=f,te=g):ay(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Eb("display",o))}catch(x){He(e,e.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){He(e,e.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vn(t,e),Bn(e),r&4&&sy(e);break;case 21:break;default:vn(t,e),Bn(e)}}function Bn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(t1(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Fo(s,""),r.flags&=-33);var a=ry(e);lm(e,a,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=ry(e);om(e,l,o);break;default:throw Error(W(161))}}catch(c){He(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hA(e,t,n){te=e,s1(e)}function s1(e,t,n){for(var r=(e.mode&1)!==0;te!==null;){var s=te,a=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||nc;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||yt;l=nc;var u=yt;if(nc=o,(yt=c)&&!u)for(te=s;te!==null;)o=te,c=o.child,o.tag===22&&o.memoizedState!==null?oy(s):c!==null?(c.return=o,te=c):oy(s);for(;a!==null;)te=a,s1(a),a=a.sibling;te=s,nc=l,yt=u}iy(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,te=a):iy(e)}}function iy(e){for(;te!==null;){var t=te;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:yt||nd(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!yt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Sn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&zv(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}zv(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Vo(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}yt||t.flags&512&&am(t)}catch(f){He(t,t.return,f)}}if(t===e){te=null;break}if(n=t.sibling,n!==null){n.return=t.return,te=n;break}te=t.return}}function ay(e){for(;te!==null;){var t=te;if(t===e){te=null;break}var n=t.sibling;if(n!==null){n.return=t.return,te=n;break}te=t.return}}function oy(e){for(;te!==null;){var t=te;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{nd(4,t)}catch(c){He(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){He(t,s,c)}}var a=t.return;try{am(t)}catch(c){He(t,a,c)}break;case 5:var o=t.return;try{am(t)}catch(c){He(t,o,c)}}}catch(c){He(t,t.return,c)}if(t===e){te=null;break}var l=t.sibling;if(l!==null){l.return=t.return,te=l;break}te=t.return}}var fA=Math.ceil,uu=Nr.ReactCurrentDispatcher,sg=Nr.ReactCurrentOwner,un=Nr.ReactCurrentBatchConfig,we=0,st=null,Je=null,ut=0,Wt=0,Vi=ys(0),et=0,Zo=null,ri=0,rd=0,ig=0,So=null,It=null,ag=0,wa=1/0,ur=null,du=!1,cm=null,ss=null,rc=!1,Qr=null,hu=0,_o=0,um=null,Rc=-1,Mc=0;function Tt(){return we&6?Ye():Rc!==-1?Rc:Rc=Ye()}function is(e){return e.mode&1?we&2&&ut!==0?ut&-ut:QT.transition!==null?(Mc===0&&(Mc=Vb()),Mc):(e=Ee,e!==0||(e=window.event,e=e===void 0?16:Yb(e.type)),e):1}function An(e,t,n,r){if(50<_o)throw _o=0,um=null,Error(W(185));yl(e,n,r),(!(we&2)||e!==st)&&(e===st&&(!(we&2)&&(rd|=n),et===4&&Vr(e,ut)),Bt(e,r),n===1&&we===0&&!(t.mode&1)&&(wa=Ye()+500,Zu&&ws()))}function Bt(e,t){var n=e.callbackNode;QE(e,t);var r=Yc(e,e===st?ut:0);if(r===0)n!==null&&gv(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&gv(n),t===1)e.tag===0?YT(ly.bind(null,e)):mj(ly.bind(null,e)),HT(function(){!(we&6)&&ws()}),n=null;else{switch(zb(r)){case 1:n=Rp;break;case 4:n=Ub;break;case 16:n=Gc;break;case 536870912:n=Bb;break;default:n=Gc}n=h1(n,i1.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function i1(e,t){if(Rc=-1,Mc=0,we&6)throw Error(W(327));var n=e.callbackNode;if(Zi()&&e.callbackNode!==n)return null;var r=Yc(e,e===st?ut:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=fu(e,r);else{t=r;var s=we;we|=2;var a=o1();(st!==e||ut!==t)&&(ur=null,wa=Ye()+500,Ys(e,t));do try{gA();break}catch(l){a1(e,l)}while(!0);Hp(),uu.current=a,we=s,Je!==null?t=0:(st=null,ut=0,t=et)}if(t!==0){if(t===2&&(s=Lf(e),s!==0&&(r=s,t=dm(e,s))),t===1)throw n=Zo,Ys(e,0),Vr(e,r),Bt(e,Ye()),n;if(t===6)Vr(e,r);else{if(s=e.current.alternate,!(r&30)&&!mA(s)&&(t=fu(e,r),t===2&&(a=Lf(e),a!==0&&(r=a,t=dm(e,a))),t===1))throw n=Zo,Ys(e,0),Vr(e,r),Bt(e,Ye()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(W(345));case 2:Ds(e,It,ur);break;case 3:if(Vr(e,r),(r&130023424)===r&&(t=ag+500-Ye(),10<t)){if(Yc(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Tt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Hf(Ds.bind(null,e,It,ur),t);break}Ds(e,It,ur);break;case 4:if(Vr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Tn(r);a=1<<o,o=t[o],o>s&&(s=o),r&=~a}if(r=s,r=Ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fA(r/1960))-r,10<r){e.timeoutHandle=Hf(Ds.bind(null,e,It,ur),r);break}Ds(e,It,ur);break;case 5:Ds(e,It,ur);break;default:throw Error(W(329))}}}return Bt(e,Ye()),e.callbackNode===n?i1.bind(null,e):null}function dm(e,t){var n=So;return e.current.memoizedState.isDehydrated&&(Ys(e,t).flags|=256),e=fu(e,t),e!==2&&(t=It,It=n,t!==null&&hm(t)),e}function hm(e){It===null?It=e:It.push.apply(It,e)}function mA(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!Rn(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vr(e,t){for(t&=~ig,t&=~rd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Tn(t),r=1<<n;e[n]=-1,t&=~r}}function ly(e){if(we&6)throw Error(W(327));Zi();var t=Yc(e,0);if(!(t&1))return Bt(e,Ye()),null;var n=fu(e,t);if(e.tag!==0&&n===2){var r=Lf(e);r!==0&&(t=r,n=dm(e,r))}if(n===1)throw n=Zo,Ys(e,0),Vr(e,t),Bt(e,Ye()),n;if(n===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ds(e,It,ur),Bt(e,Ye()),null}function og(e,t){var n=we;we|=1;try{return e(t)}finally{we=n,we===0&&(wa=Ye()+500,Zu&&ws())}}function si(e){Qr!==null&&Qr.tag===0&&!(we&6)&&Zi();var t=we;we|=1;var n=un.transition,r=Ee;try{if(un.transition=null,Ee=1,e)return e()}finally{Ee=r,un.transition=n,we=t,!(we&6)&&ws()}}function lg(){Wt=Vi.current,Ie(Vi)}function Ys(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,WT(n)),Je!==null)for(n=Je.return;n!==null;){var r=n;switch(Vp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&eu();break;case 3:va(),Ie($t),Ie(St),Xp();break;case 5:Qp(r);break;case 4:va();break;case 13:Ie(Fe);break;case 19:Ie(Fe);break;case 10:qp(r.type._context);break;case 22:case 23:lg()}n=n.return}if(st=e,Je=e=as(e.current,null),ut=Wt=t,et=0,Zo=null,ig=rd=ri=0,It=So=null,Us!==null){for(t=0;t<Us.length;t++)if(n=Us[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=s,r.next=o}n.pending=r}Us=null}return e}function a1(e,t){do{var n=Je;try{if(Hp(),Ec.current=cu,lu){for(var r=Be.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}lu=!1}if(ni=0,rt=Ze=Be=null,bo=!1,Qo=0,sg.current=null,n===null||n.return===null){et=1,Zo=t,Je=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=ut,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Yv(o);if(g!==null){g.flags&=-257,Qv(g,o,l,a,t),g.mode&1&&Gv(a,u,t),t=g,c=u;var v=t.updateQueue;if(v===null){var x=new Set;x.add(c),t.updateQueue=x}else v.add(c);break e}else{if(!(t&1)){Gv(a,u,t),cg();break e}c=Error(W(426))}}else if(Oe&&l.mode&1){var b=Yv(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Qv(b,o,l,a,t),zp(ya(c,l));break e}}a=c=ya(c,l),et!==4&&(et=2),So===null?So=[a]:So.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=zj(a,c,t);Vv(a,y);break e;case 1:l=c;var w=a.type,p=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ss===null||!ss.has(p)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=Wj(a,l,t);Vv(a,j);break e}}a=a.return}while(a!==null)}c1(n)}catch(S){t=S,Je===n&&n!==null&&(Je=n=n.return);continue}break}while(!0)}function o1(){var e=uu.current;return uu.current=cu,e===null?cu:e}function cg(){(et===0||et===3||et===2)&&(et=4),st===null||!(ri&268435455)&&!(rd&268435455)||Vr(st,ut)}function fu(e,t){var n=we;we|=2;var r=o1();(st!==e||ut!==t)&&(ur=null,Ys(e,t));do try{pA();break}catch(s){a1(e,s)}while(!0);if(Hp(),we=n,uu.current=r,Je!==null)throw Error(W(261));return st=null,ut=0,et}function pA(){for(;Je!==null;)l1(Je)}function gA(){for(;Je!==null&&!BE();)l1(Je)}function l1(e){var t=d1(e.alternate,e,Wt);e.memoizedProps=e.pendingProps,t===null?c1(e):Je=t,sg.current=null}function c1(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=cA(n,t),n!==null){n.flags&=32767,Je=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{et=6,Je=null;return}}else if(n=lA(n,t,Wt),n!==null){Je=n;return}if(t=t.sibling,t!==null){Je=t;return}Je=t=e}while(t!==null);et===0&&(et=5)}function Ds(e,t,n){var r=Ee,s=un.transition;try{un.transition=null,Ee=1,xA(e,t,n,r)}finally{un.transition=s,Ee=r}return null}function xA(e,t,n,r){do Zi();while(Qr!==null);if(we&6)throw Error(W(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(XE(e,a),e===st&&(Je=st=null,ut=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||rc||(rc=!0,h1(Gc,function(){return Zi(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=un.transition,un.transition=null;var o=Ee;Ee=1;var l=we;we|=4,sg.current=null,dA(e,n),r1(n,e),LT(zf),Qc=!!Vf,zf=Vf=null,e.current=n,hA(n),VE(),we=l,Ee=o,un.transition=a}else e.current=n;if(rc&&(rc=!1,Qr=e,hu=s),a=e.pendingLanes,a===0&&(ss=null),HE(n.stateNode),Bt(e,Ye()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(du)throw du=!1,e=cm,cm=null,e;return hu&1&&e.tag!==0&&Zi(),a=e.pendingLanes,a&1?e===um?_o++:(_o=0,um=e):_o=0,ws(),null}function Zi(){if(Qr!==null){var e=zb(hu),t=un.transition,n=Ee;try{if(un.transition=null,Ee=16>e?16:e,Qr===null)var r=!1;else{if(e=Qr,Qr=null,hu=0,we&6)throw Error(W(331));var s=we;for(we|=4,te=e.current;te!==null;){var a=te,o=a.child;if(te.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(te=u;te!==null;){var d=te;switch(d.tag){case 0:case 11:case 15:jo(8,d,a)}var h=d.child;if(h!==null)h.return=d,te=h;else for(;te!==null;){d=te;var f=d.sibling,g=d.return;if(e1(d),d===u){te=null;break}if(f!==null){f.return=g,te=f;break}te=g}}}var v=a.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}te=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,te=o;else e:for(;te!==null;){if(a=te,a.flags&2048)switch(a.tag){case 0:case 11:case 15:jo(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,te=y;break e}te=a.return}}var w=e.current;for(te=w;te!==null;){o=te;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,te=p;else e:for(o=w;te!==null;){if(l=te,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:nd(9,l)}}catch(S){He(l,l.return,S)}if(l===o){te=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,te=j;break e}te=l.return}}if(we=s,ws(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(Gu,e)}catch{}r=!0}return r}finally{Ee=n,un.transition=t}}return!1}function cy(e,t,n){t=ya(n,t),t=zj(e,t,1),e=rs(e,t,1),t=Tt(),e!==null&&(yl(e,1,t),Bt(e,t))}function He(e,t,n){if(e.tag===3)cy(e,e,n);else for(;t!==null;){if(t.tag===3){cy(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ss===null||!ss.has(r))){e=ya(n,e),e=Wj(t,e,1),t=rs(t,e,1),e=Tt(),t!==null&&(yl(t,1,e),Bt(t,e));break}}t=t.return}}function vA(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Tt(),e.pingedLanes|=e.suspendedLanes&n,st===e&&(ut&n)===n&&(et===4||et===3&&(ut&130023424)===ut&&500>Ye()-ag?Ys(e,0):ig|=n),Bt(e,t)}function u1(e,t){t===0&&(e.mode&1?(t=Kl,Kl<<=1,!(Kl&130023424)&&(Kl=4194304)):t=1);var n=Tt();e=yr(e,t),e!==null&&(yl(e,t,n),Bt(e,n))}function yA(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),u1(e,n)}function wA(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(t),u1(e,n)}var d1;d1=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||$t.current)Lt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Lt=!1,oA(e,t,n);Lt=!!(e.flags&131072)}else Lt=!1,Oe&&t.flags&1048576&&pj(t,ru,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ac(e,t),e=t.pendingProps;var s=pa(t,St.current);Ji(t,n),s=Zp(null,t,r,e,s,n);var a=eg();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ut(r)?(a=!0,tu(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Gp(t),s.updater=td,t.stateNode=s,s._reactInternals=t,Jf(t,r,e,n),t=tm(null,t,r,!0,a,n)):(t.tag=0,Oe&&a&&Bp(t),Nt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ac(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=jA(r),e=Sn(r,e),s){case 0:t=em(null,t,r,e,n);break e;case 1:t=Zv(null,t,r,e,n);break e;case 11:t=Xv(null,t,r,e,n);break e;case 14:t=Jv(null,t,r,Sn(r.type,e),n);break e}throw Error(W(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Sn(r,s),em(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Sn(r,s),Zv(e,t,r,s,n);case 3:e:{if(Gj(t),e===null)throw Error(W(387));r=t.pendingProps,a=t.memoizedState,s=a.element,bj(e,t),au(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=ya(Error(W(423)),t),t=ey(e,t,r,n,s);break e}else if(r!==s){s=ya(Error(W(424)),t),t=ey(e,t,r,n,s);break e}else for(Kt=ns(t.stateNode.containerInfo.firstChild),Gt=t,Oe=!0,Pn=null,n=yj(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ga(),r===s){t=wr(e,t,n);break e}Nt(e,t,r,n)}t=t.child}return t;case 5:return jj(t),e===null&&Yf(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,Wf(r,s)?o=null:a!==null&&Wf(r,a)&&(t.flags|=32),Kj(e,t),Nt(e,t,o,n),t.child;case 6:return e===null&&Yf(t),null;case 13:return Yj(e,t,n);case 4:return Yp(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=xa(t,null,r,n):Nt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Sn(r,s),Xv(e,t,r,s,n);case 7:return Nt(e,t,t.pendingProps,n),t.child;case 8:return Nt(e,t,t.pendingProps.children,n),t.child;case 12:return Nt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,Ae(su,r._currentValue),r._currentValue=o,a!==null)if(Rn(a.value,o)){if(a.children===s.children&&!$t.current){t=wr(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=gr(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Qf(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(W(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Qf(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Nt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Ji(t,n),s=mn(s),r=r(s),t.flags|=1,Nt(e,t,r,n),t.child;case 14:return r=t.type,s=Sn(r,t.pendingProps),s=Sn(r.type,s),Jv(e,t,r,s,n);case 15:return Hj(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Sn(r,s),Ac(e,t),t.tag=1,Ut(r)?(e=!0,tu(t)):e=!1,Ji(t,n),Vj(t,r,s),Jf(t,r,s,n),tm(null,t,r,!0,e,n);case 19:return Qj(e,t,n);case 22:return qj(e,t,n)}throw Error(W(156,t.tag))};function h1(e,t){return $b(e,t)}function bA(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(e,t,n,r){return new bA(e,t,n,r)}function ug(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jA(e){if(typeof e=="function")return ug(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ep)return 11;if(e===Tp)return 14}return 2}function as(e,t){var n=e.alternate;return n===null?(n=cn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,s,a){var o=2;if(r=e,typeof e=="function")ug(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ri:return Qs(n.children,s,a,t);case Pp:o=8,s|=8;break;case jf:return e=cn(12,n,t,s|2),e.elementType=jf,e.lanes=a,e;case Sf:return e=cn(13,n,t,s),e.elementType=Sf,e.lanes=a,e;case _f:return e=cn(19,n,t,s),e.elementType=_f,e.lanes=a,e;case jb:return sd(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case wb:o=10;break e;case bb:o=9;break e;case Ep:o=11;break e;case Tp:o=14;break e;case Fr:o=16,r=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=cn(o,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function Qs(e,t,n,r){return e=cn(7,e,r,t),e.lanes=n,e}function sd(e,t,n,r){return e=cn(22,e,r,t),e.elementType=jb,e.lanes=n,e.stateNode={isHidden:!1},e}function kh(e,t,n){return e=cn(6,e,null,t),e.lanes=n,e}function Ch(e,t,n){return t=cn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function SA(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=oh(0),this.expirationTimes=oh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function dg(e,t,n,r,s,a,o,l,c){return e=new SA(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=cn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gp(a),e}function _A(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ai,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function f1(e){if(!e)return us;e=e._reactInternals;e:{if(ui(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ut(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var n=e.type;if(Ut(n))return fj(e,n,t)}return t}function m1(e,t,n,r,s,a,o,l,c){return e=dg(n,r,!0,e,s,a,o,l,c),e.context=f1(null),n=e.current,r=Tt(),s=is(n),a=gr(r,s),a.callback=t??null,rs(n,a,s),e.current.lanes=s,yl(e,s,r),Bt(e,r),e}function id(e,t,n,r){var s=t.current,a=Tt(),o=is(s);return n=f1(n),t.context===null?t.context=n:t.pendingContext=n,t=gr(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=rs(s,t,o),e!==null&&(An(e,s,o,a),Pc(e,s,o)),o}function mu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function uy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function hg(e,t){uy(e,t),(e=e.alternate)&&uy(e,t)}function NA(){return null}var p1=typeof reportError=="function"?reportError:function(e){console.error(e)};function fg(e){this._internalRoot=e}ad.prototype.render=fg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));id(e,t,null,null)};ad.prototype.unmount=fg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;si(function(){id(null,e,null,null)}),t[vr]=null}};function ad(e){this._internalRoot=e}ad.prototype.unstable_scheduleHydration=function(e){if(e){var t=qb();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Br.length&&t!==0&&t<Br[n].priority;n++);Br.splice(n,0,e),n===0&&Gb(e)}};function mg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function od(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function dy(){}function kA(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var u=mu(o);a.call(u)}}var o=m1(t,r,e,0,null,!1,!1,"",dy);return e._reactRootContainer=o,e[vr]=o.current,Ho(e.nodeType===8?e.parentNode:e),si(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=mu(c);l.call(u)}}var c=dg(e,0,!1,null,null,!1,!1,"",dy);return e._reactRootContainer=c,e[vr]=c.current,Ho(e.nodeType===8?e.parentNode:e),si(function(){id(t,c,n,r)}),c}function ld(e,t,n,r,s){var a=n._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=mu(o);l.call(c)}}id(t,o,e,s)}else o=kA(n,t,e,s,r);return mu(o)}Wb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=co(t.pendingLanes);n!==0&&(Mp(t,n|1),Bt(t,Ye()),!(we&6)&&(wa=Ye()+500,ws()))}break;case 13:si(function(){var r=yr(e,1);if(r!==null){var s=Tt();An(r,e,1,s)}}),hg(e,1)}};Dp=function(e){if(e.tag===13){var t=yr(e,134217728);if(t!==null){var n=Tt();An(t,e,134217728,n)}hg(e,134217728)}};Hb=function(e){if(e.tag===13){var t=is(e),n=yr(e,t);if(n!==null){var r=Tt();An(n,e,t,r)}hg(e,t)}};qb=function(){return Ee};Kb=function(e,t){var n=Ee;try{return Ee=e,t()}finally{Ee=n}};Df=function(e,t,n){switch(t){case"input":if(Cf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Ju(r);if(!s)throw Error(W(90));_b(r),Cf(r,s)}}}break;case"textarea":kb(e,n);break;case"select":t=n.value,t!=null&&Gi(e,!!n.multiple,t,!1)}};Mb=og;Db=si;var CA={usingClientEntryPoint:!1,Events:[bl,Oi,Ju,Ab,Rb,og]},Za={findFiberByHostInstance:$s,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},PA={bundleType:Za.bundleType,version:Za.version,rendererPackageName:Za.rendererPackageName,rendererConfig:Za.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Lb(e),e===null?null:e.stateNode},findFiberByHostInstance:Za.findFiberByHostInstance||NA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sc.isDisabled&&sc.supportsFiber)try{Gu=sc.inject(PA),Yn=sc}catch{}}Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CA;Zt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mg(t))throw Error(W(200));return _A(e,t,null,n)};Zt.createRoot=function(e,t){if(!mg(e))throw Error(W(299));var n=!1,r="",s=p1;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=dg(e,1,!1,null,null,n,!1,r,s),e[vr]=t.current,Ho(e.nodeType===8?e.parentNode:e),new fg(t)};Zt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=Lb(t),e=e===null?null:e.stateNode,e};Zt.flushSync=function(e){return si(e)};Zt.hydrate=function(e,t,n){if(!od(t))throw Error(W(200));return ld(null,e,t,!0,n)};Zt.hydrateRoot=function(e,t,n){if(!mg(e))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",o=p1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=m1(t,null,e,1,n??null,s,!1,a,o),e[vr]=t.current,Ho(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new ad(t)};Zt.render=function(e,t,n){if(!od(t))throw Error(W(200));return ld(null,e,t,!1,n)};Zt.unmountComponentAtNode=function(e){if(!od(e))throw Error(W(40));return e._reactRootContainer?(si(function(){ld(null,null,e,!1,function(){e._reactRootContainer=null,e[vr]=null})}),!0):!1};Zt.unstable_batchedUpdates=og;Zt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!od(n))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return ld(e,t,n,!1,r)};Zt.version="18.3.1-next-f1338f8080-20240426";function g1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(g1)}catch(e){console.error(e)}}g1(),gb.exports=Zt;var di=gb.exports;const EA=rb(di);var x1,hy=di;x1=hy.createRoot,hy.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function el(){return el=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},el.apply(this,arguments)}var Xr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Xr||(Xr={}));const fy="popstate";function TA(e){e===void 0&&(e={});function t(r,s){let{pathname:a,search:o,hash:l}=r.location;return fm("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:pu(s)}return RA(t,n,null,e)}function Qe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function v1(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function AA(){return Math.random().toString(36).substr(2,8)}function my(e,t){return{usr:e.state,key:e.key,idx:t}}function fm(e,t,n,r){return n===void 0&&(n=null),el({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ta(t):t,{state:n,key:t&&t.key||r||AA()})}function pu(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ta(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function RA(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,o=s.history,l=Xr.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(el({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Xr.Pop;let b=d(),y=b==null?null:b-u;u=b,c&&c({action:l,location:x.location,delta:y})}function f(b,y){l=Xr.Push;let w=fm(x.location,b,y);u=d()+1;let p=my(w,u),j=x.createHref(w);try{o.pushState(p,"",j)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(j)}a&&c&&c({action:l,location:x.location,delta:1})}function g(b,y){l=Xr.Replace;let w=fm(x.location,b,y);u=d();let p=my(w,u),j=x.createHref(w);o.replaceState(p,"",j),a&&c&&c({action:l,location:x.location,delta:0})}function v(b){let y=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof b=="string"?b:pu(b);return w=w.replace(/ $/,"%20"),Qe(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let x={get action(){return l},get location(){return e(s,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(fy,h),c=b,()=>{s.removeEventListener(fy,h),c=null}},createHref(b){return t(s,b)},createURL:v,encodeLocation(b){let y=v(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:g,go(b){return o.go(b)}};return x}var py;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(py||(py={}));function MA(e,t,n){return n===void 0&&(n="/"),DA(e,t,n,!1)}function DA(e,t,n,r){let s=typeof t=="string"?Ta(t):t,a=pg(s.pathname||"/",n);if(a==null)return null;let o=y1(e);IA(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=qA(a);l=WA(o[c],u,r)}return l}function y1(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Qe(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=os([r,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(Qe(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),y1(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:VA(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of w1(a.path))s(a,o,c)}),t}function w1(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let o=w1(r.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function IA(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:zA(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const OA=/^:[\w-]+$/,LA=3,FA=2,$A=1,UA=10,BA=-2,gy=e=>e==="*";function VA(e,t){let n=e.split("/"),r=n.length;return n.some(gy)&&(r+=BA),t&&(r+=FA),n.filter(s=>!gy(s)).reduce((s,a)=>s+(OA.test(a)?LA:a===""?$A:UA),r)}function zA(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function WA(e,t,n){let{routesMeta:r}=e,s={},a="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=a==="/"?t:t.slice(a.length)||"/",h=xy({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=xy({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:os([a,h.pathname]),pathnameBase:QA(os([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=os([a,h.pathnameBase]))}return o}function xy(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=HA(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:g}=d;if(f==="*"){let x=l[h]||"";o=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const v=l[h];return g&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function HA(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),v1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function qA(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return v1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function pg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function KA(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Ta(e):e;return{pathname:n?n.startsWith("/")?n:GA(n,t):t,search:XA(r),hash:JA(s)}}function GA(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ph(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function YA(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function gg(e,t){let n=YA(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function xg(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Ta(e):(s=el({},e),Qe(!s.pathname||!s.pathname.includes("?"),Ph("?","pathname","search",s)),Qe(!s.pathname||!s.pathname.includes("#"),Ph("#","pathname","hash",s)),Qe(!s.search||!s.search.includes("#"),Ph("#","search","hash",s)));let a=e===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=KA(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const os=e=>e.join("/").replace(/\/\/+/g,"/"),QA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),XA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,JA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ZA(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const b1=["post","put","patch","delete"];new Set(b1);const eR=["get",...b1];new Set(eR);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tl(){return tl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tl.apply(this,arguments)}const vg=m.createContext(null),tR=m.createContext(null),bs=m.createContext(null),cd=m.createContext(null),kr=m.createContext({outlet:null,matches:[],isDataRoute:!1}),j1=m.createContext(null);function nR(e,t){let{relative:n}=t===void 0?{}:t;Aa()||Qe(!1);let{basename:r,navigator:s}=m.useContext(bs),{hash:a,pathname:o,search:l}=_1(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:os([r,o])),s.createHref({pathname:c,search:l,hash:a})}function Aa(){return m.useContext(cd)!=null}function hi(){return Aa()||Qe(!1),m.useContext(cd).location}function S1(e){m.useContext(bs).static||m.useLayoutEffect(e)}function be(){let{isDataRoute:e}=m.useContext(kr);return e?gR():rR()}function rR(){Aa()||Qe(!1);let e=m.useContext(vg),{basename:t,future:n,navigator:r}=m.useContext(bs),{matches:s}=m.useContext(kr),{pathname:a}=hi(),o=JSON.stringify(gg(s,n.v7_relativeSplatPath)),l=m.useRef(!1);return S1(()=>{l.current=!0}),m.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=xg(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:os([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,o,a,e])}function sR(){let{matches:e}=m.useContext(kr),t=e[e.length-1];return t?t.params:{}}function _1(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=m.useContext(bs),{matches:s}=m.useContext(kr),{pathname:a}=hi(),o=JSON.stringify(gg(s,r.v7_relativeSplatPath));return m.useMemo(()=>xg(e,JSON.parse(o),a,n==="path"),[e,o,a,n])}function iR(e,t){return aR(e,t)}function aR(e,t,n,r){Aa()||Qe(!1);let{navigator:s}=m.useContext(bs),{matches:a}=m.useContext(kr),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=hi(),d;if(t){var h;let b=typeof t=="string"?Ta(t):t;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||Qe(!1),d=b}else d=u;let f=d.pathname||"/",g=f;if(c!=="/"){let b=c.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=MA(e,{pathname:g}),x=dR(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:os([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:os([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,n,r);return t&&x?m.createElement(cd.Provider,{value:{location:tl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Xr.Pop}},x):x}function oR(){let e=pR(),t=ZA(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:s},n):null,null)}const lR=m.createElement(oR,null);class cR extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?m.createElement(kr.Provider,{value:this.props.routeContext},m.createElement(j1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uR(e){let{routeContext:t,match:n,children:r}=e,s=m.useContext(vg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(kr.Provider,{value:t},r)}function dR(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Qe(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:g}=n,v=h.route.loader&&f[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let g,v=!1,x=null,b=null;n&&(g=l&&h.route.id?l[h.route.id]:void 0,x=h.route.errorElement||lR,c&&(u<0&&f===0?(v=!0,b=null):u===f&&(v=!0,b=h.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,f+1)),w=()=>{let p;return g?p=x:v?p=b:h.route.Component?p=m.createElement(h.route.Component,null):h.route.element?p=h.route.element:p=d,m.createElement(uR,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:p})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?m.createElement(cR,{location:n.location,revalidation:n.revalidation,component:x,error:g,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var N1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(N1||{}),gu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(gu||{});function hR(e){let t=m.useContext(vg);return t||Qe(!1),t}function fR(e){let t=m.useContext(tR);return t||Qe(!1),t}function mR(e){let t=m.useContext(kr);return t||Qe(!1),t}function k1(e){let t=mR(),n=t.matches[t.matches.length-1];return n.route.id||Qe(!1),n.route.id}function pR(){var e;let t=m.useContext(j1),n=fR(gu.UseRouteError),r=k1(gu.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function gR(){let{router:e}=hR(N1.UseNavigateStable),t=k1(gu.UseNavigateStable),n=m.useRef(!1);return S1(()=>{n.current=!0}),m.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,tl({fromRouteId:t},a)))},[e,t])}function C1(e){let{to:t,replace:n,state:r,relative:s}=e;Aa()||Qe(!1);let{future:a,static:o}=m.useContext(bs),{matches:l}=m.useContext(kr),{pathname:c}=hi(),u=be(),d=xg(t,gg(l,a.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return m.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function xe(e){Qe(!1)}function xR(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Xr.Pop,navigator:a,static:o=!1,future:l}=e;Aa()&&Qe(!1);let c=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:a,static:o,future:tl({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof r=="string"&&(r=Ta(r));let{pathname:d="/",search:h="",hash:f="",state:g=null,key:v="default"}=r,x=m.useMemo(()=>{let b=pg(d,c);return b==null?null:{location:{pathname:b,search:h,hash:f,state:g,key:v},navigationType:s}},[c,d,h,f,g,v,s]);return x==null?null:m.createElement(bs.Provider,{value:u},m.createElement(cd.Provider,{children:n,value:x}))}function P1(e){let{children:t,location:n}=e;return iR(mm(t),n)}new Promise(()=>{});function mm(e,t){t===void 0&&(t=[]);let n=[];return m.Children.forEach(e,(r,s)=>{if(!m.isValidElement(r))return;let a=[...t,s];if(r.type===m.Fragment){n.push.apply(n,mm(r.props.children,a));return}r.type!==xe&&Qe(!1),!r.props.index||!r.props.children||Qe(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=mm(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pm(){return pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pm.apply(this,arguments)}function vR(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function yR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function wR(e,t){return e.button===0&&(!t||t==="_self")&&!yR(e)}function gm(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function bR(e,t){let n=gm(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(a=>{n.append(s,a)})}),n}const jR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],SR="6";try{window.__reactRouterVersion=SR}catch{}const _R="startTransition",vy=mb[_R];function NR(e){let{basename:t,children:n,future:r,window:s}=e,a=m.useRef();a.current==null&&(a.current=TA({window:s,v5Compat:!0}));let o=a.current,[l,c]=m.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=m.useCallback(h=>{u&&vy?vy(()=>c(h)):c(h)},[c,u]);return m.useLayoutEffect(()=>o.listen(d),[o,d]),m.createElement(xR,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const kR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",CR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eo=m.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=vR(t,jR),{basename:g}=m.useContext(bs),v,x=!1;if(typeof u=="string"&&CR.test(u)&&(v=u,kR))try{let p=new URL(window.location.href),j=u.startsWith("//")?new URL(p.protocol+u):new URL(u),S=pg(j.pathname,g);j.origin===p.origin&&S!=null?u=S+j.search+j.hash:x=!0}catch{}let b=nR(u,{relative:s}),y=PR(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function w(p){r&&r(p),p.defaultPrevented||y(p)}return m.createElement("a",pm({},f,{href:v||b,onClick:x||a?r:w,ref:n,target:c}))});var yy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(yy||(yy={}));var wy;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(wy||(wy={}));function PR(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=be(),u=hi(),d=_1(e,{relative:o});return m.useCallback(h=>{if(wR(h,n)){h.preventDefault();let f=r!==void 0?r:pu(u)===pu(d);c(e,{replace:f,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,r,s,n,e,a,o,l])}function ud(e){let t=m.useRef(gm(e)),n=m.useRef(!1),r=hi(),s=m.useMemo(()=>bR(r.search,n.current?null:t.current),[r.search]),a=be(),o=m.useCallback((l,c)=>{const u=gm(typeof l=="function"?l(s):l);n.current=!0,a("?"+u,c)},[a,s]);return[s,o]}var dd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},hd=typeof window>"u"||"Deno"in globalThis;function _n(){}function ER(e,t){return typeof e=="function"?e(t):e}function TR(e){return typeof e=="number"&&e>=0&&e!==1/0}function AR(e,t){return Math.max(e+(t||0)-Date.now(),0)}function by(e,t){return typeof e=="function"?e(t):e}function RR(e,t){return typeof e=="function"?e(t):e}function jy(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:a,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==yg(o,t.options))return!1}else if(!rl(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function Sy(e,t){const{exact:n,status:r,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(nl(t.options.mutationKey)!==nl(a))return!1}else if(!rl(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function yg(e,t){return((t==null?void 0:t.queryKeyHashFn)||nl)(e)}function nl(e){return JSON.stringify(e,(t,n)=>xm(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function rl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!rl(e[n],t[n])):!1}function E1(e,t){if(e===t)return e;const n=_y(e)&&_y(t);if(n||xm(e)&&xm(t)){const r=n?e:Object.keys(e),s=r.length,a=n?t:Object.keys(t),o=a.length,l=n?[]:{};let c=0;for(let u=0;u<o;u++){const d=n?u:a[u];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=E1(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return s===o&&c===s?e:l}return t}function _y(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function xm(e){if(!Ny(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Ny(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ny(e){return Object.prototype.toString.call(e)==="[object Object]"}function MR(e){return new Promise(t=>{setTimeout(t,e)})}function DR(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?E1(e,t):t}function IR(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function OR(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var wg=Symbol();function T1(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===wg?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Hs,Wr,ia,Yw,LR=(Yw=class extends dd{constructor(){super();Ne(this,Hs);Ne(this,Wr);Ne(this,ia);de(this,ia,t=>{if(!hd&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){B(this,Wr)||this.setEventListener(B(this,ia))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,Wr))==null||t.call(this),de(this,Wr,void 0))}setEventListener(t){var n;de(this,ia,t),(n=B(this,Wr))==null||n.call(this),de(this,Wr,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){B(this,Hs)!==t&&(de(this,Hs,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof B(this,Hs)=="boolean"?B(this,Hs):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Hs=new WeakMap,Wr=new WeakMap,ia=new WeakMap,Yw),A1=new LR,aa,Hr,oa,Qw,FR=(Qw=class extends dd{constructor(){super();Ne(this,aa,!0);Ne(this,Hr);Ne(this,oa);de(this,oa,t=>{if(!hd&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){B(this,Hr)||this.setEventListener(B(this,oa))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,Hr))==null||t.call(this),de(this,Hr,void 0))}setEventListener(t){var n;de(this,oa,t),(n=B(this,Hr))==null||n.call(this),de(this,Hr,t(this.setOnline.bind(this)))}setOnline(t){B(this,aa)!==t&&(de(this,aa,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return B(this,aa)}},aa=new WeakMap,Hr=new WeakMap,oa=new WeakMap,Qw),xu=new FR;function $R(){let e,t;const n=new Promise((s,a)=>{e=s,t=a});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function UR(e){return Math.min(1e3*2**e,3e4)}function R1(e){return(e??"online")==="online"?xu.isOnline():!0}var M1=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Eh(e){return e instanceof M1}function D1(e){let t=!1,n=0,r=!1,s;const a=$R(),o=x=>{var b;r||(f(new M1(x)),(b=e.abort)==null||b.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>A1.isFocused()&&(e.networkMode==="always"||xu.isOnline())&&e.canRun(),d=()=>R1(e.networkMode)&&e.canRun(),h=x=>{var b;r||(r=!0,(b=e.onSuccess)==null||b.call(e,x),s==null||s(),a.resolve(x))},f=x=>{var b;r||(r=!0,(b=e.onError)==null||b.call(e,x),s==null||s(),a.reject(x))},g=()=>new Promise(x=>{var b;s=y=>{(r||u())&&x(y)},(b=e.onPause)==null||b.call(e)}).then(()=>{var x;s=void 0,r||(x=e.onContinue)==null||x.call(e)}),v=()=>{if(r)return;let x;const b=n===0?e.initialPromise:void 0;try{x=b??e.fn()}catch(y){x=Promise.reject(y)}Promise.resolve(x).then(h).catch(y=>{var _;if(r)return;const w=e.retry??(hd?0:3),p=e.retryDelay??UR,j=typeof p=="function"?p(n,y):p,S=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,y);if(t||!S){f(y);return}n++,(_=e.onFail)==null||_.call(e,n,y),MR(j).then(()=>u()?void 0:g()).then(()=>{t?f(y):v()})})};return{promise:a,cancel:o,continue:()=>(s==null||s(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?v():g().then(v),a)}}function BR(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=l=>setTimeout(l,0);const a=l=>{t?e.push(l):s(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var kt=BR(),qs,Xw,I1=(Xw=class{constructor(){Ne(this,qs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),TR(this.gcTime)&&de(this,qs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(hd?1/0:5*60*1e3))}clearGcTimeout(){B(this,qs)&&(clearTimeout(B(this,qs)),de(this,qs,void 0))}},qs=new WeakMap,Xw),la,ca,sn,vt,gl,Ks,Nn,lr,Jw,VR=(Jw=class extends I1{constructor(t){super();Ne(this,Nn);Ne(this,la);Ne(this,ca);Ne(this,sn);Ne(this,vt);Ne(this,gl);Ne(this,Ks);de(this,Ks,!1),de(this,gl,t.defaultOptions),this.setOptions(t.options),this.observers=[],de(this,sn,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,de(this,la,WR(this.options)),this.state=t.state??B(this,la),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=B(this,vt))==null?void 0:t.promise}setOptions(t){this.options={...B(this,gl),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,sn).remove(this)}setData(t,n){const r=DR(this.state.data,t,this.options);return mt(this,Nn,lr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){mt(this,Nn,lr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=B(this,vt))==null?void 0:r.promise;return(s=B(this,vt))==null||s.cancel(t),n?n.then(_n).catch(_n):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,la))}isActive(){return this.observers.some(t=>RR(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===wg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!AR(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=B(this,vt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=B(this,vt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),B(this,sn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(B(this,vt)&&(B(this,Ks)?B(this,vt).cancel({revert:!0}):B(this,vt).cancelRetry()),this.scheduleGc()),B(this,sn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||mt(this,Nn,lr).call(this,{type:"invalidate"})}fetch(t,n){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(B(this,vt))return B(this,vt).continueRetry(),B(this,vt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(de(this,Ks,!0),r.signal)})},a=()=>{const h=T1(this.options,n),f={queryKey:this.queryKey,meta:this.meta};return s(f),de(this,Ks,!1),this.options.persister?this.options.persister(h,f,this):h(f)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};s(o),(c=this.options.behavior)==null||c.onFetch(o,this),de(this,ca,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&mt(this,Nn,lr).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const l=h=>{var f,g,v,x;Eh(h)&&h.silent||mt(this,Nn,lr).call(this,{type:"error",error:h}),Eh(h)||((g=(f=B(this,sn).config).onError)==null||g.call(f,h,this),(x=(v=B(this,sn).config).onSettled)==null||x.call(v,this.state.data,h,this)),this.scheduleGc()};return de(this,vt,D1({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var f,g,v,x;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(b){l(b);return}(g=(f=B(this,sn).config).onSuccess)==null||g.call(f,h,this),(x=(v=B(this,sn).config).onSettled)==null||x.call(v,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,f)=>{mt(this,Nn,lr).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{mt(this,Nn,lr).call(this,{type:"pause"})},onContinue:()=>{mt(this,Nn,lr).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),B(this,vt).start()}},la=new WeakMap,ca=new WeakMap,sn=new WeakMap,vt=new WeakMap,gl=new WeakMap,Ks=new WeakMap,Nn=new WeakSet,lr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...zR(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Eh(s)&&s.revert&&B(this,ca)?{...B(this,ca),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),kt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),B(this,sn).notify({query:this,type:"updated",action:t})})},Jw);function zR(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:R1(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function WR(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var zn,Zw,HR=(Zw=class extends dd{constructor(t={}){super();Ne(this,zn);this.config=t,de(this,zn,new Map)}build(t,n,r){const s=n.queryKey,a=n.queryHash??yg(s,n);let o=this.get(a);return o||(o=new VR({cache:this,queryKey:s,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){B(this,zn).has(t.queryHash)||(B(this,zn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=B(this,zn).get(t.queryHash);n&&(t.destroy(),n===t&&B(this,zn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){kt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return B(this,zn).get(t)}getAll(){return[...B(this,zn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>jy(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>jy(t,r)):n}notify(t){kt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){kt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){kt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},zn=new WeakMap,Zw),Wn,_t,Gs,Hn,Dr,eb,qR=(eb=class extends I1{constructor(t){super();Ne(this,Hn);Ne(this,Wn);Ne(this,_t);Ne(this,Gs);this.mutationId=t.mutationId,de(this,_t,t.mutationCache),de(this,Wn,[]),this.state=t.state||KR(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){B(this,Wn).includes(t)||(B(this,Wn).push(t),this.clearGcTimeout(),B(this,_t).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){de(this,Wn,B(this,Wn).filter(n=>n!==t)),this.scheduleGc(),B(this,_t).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){B(this,Wn).length||(this.state.status==="pending"?this.scheduleGc():B(this,_t).remove(this))}continue(){var t;return((t=B(this,Gs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,a,o,l,c,u,d,h,f,g,v,x,b,y,w,p,j,S,_,N;de(this,Gs,D1({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(k,T)=>{mt(this,Hn,Dr).call(this,{type:"failed",failureCount:k,error:T})},onPause:()=>{mt(this,Hn,Dr).call(this,{type:"pause"})},onContinue:()=>{mt(this,Hn,Dr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,_t).canRun(this)}));const n=this.state.status==="pending",r=!B(this,Gs).canStart();try{if(!n){mt(this,Hn,Dr).call(this,{type:"pending",variables:t,isPaused:r}),await((a=(s=B(this,_t).config).onMutate)==null?void 0:a.call(s,t,this));const T=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));T!==this.state.context&&mt(this,Hn,Dr).call(this,{type:"pending",context:T,variables:t,isPaused:r})}const k=await B(this,Gs).start();return await((u=(c=B(this,_t).config).onSuccess)==null?void 0:u.call(c,k,t,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,k,t,this.state.context)),await((g=(f=B(this,_t).config).onSettled)==null?void 0:g.call(f,k,null,this.state.variables,this.state.context,this)),await((x=(v=this.options).onSettled)==null?void 0:x.call(v,k,null,t,this.state.context)),mt(this,Hn,Dr).call(this,{type:"success",data:k}),k}catch(k){try{throw await((y=(b=B(this,_t).config).onError)==null?void 0:y.call(b,k,t,this.state.context,this)),await((p=(w=this.options).onError)==null?void 0:p.call(w,k,t,this.state.context)),await((S=(j=B(this,_t).config).onSettled)==null?void 0:S.call(j,void 0,k,this.state.variables,this.state.context,this)),await((N=(_=this.options).onSettled)==null?void 0:N.call(_,void 0,k,t,this.state.context)),k}finally{mt(this,Hn,Dr).call(this,{type:"error",error:k})}}finally{B(this,_t).runNext(this)}}},Wn=new WeakMap,_t=new WeakMap,Gs=new WeakMap,Hn=new WeakSet,Dr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),kt.batch(()=>{B(this,Wn).forEach(r=>{r.onMutationUpdate(t)}),B(this,_t).notify({mutation:this,type:"updated",action:t})})},eb);function KR(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var zt,xl,tb,GR=(tb=class extends dd{constructor(t={}){super();Ne(this,zt);Ne(this,xl);this.config=t,de(this,zt,new Map),de(this,xl,Date.now())}build(t,n,r){const s=new qR({mutationCache:this,mutationId:++Bl(this,xl)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){const n=ic(t),r=B(this,zt).get(n)??[];r.push(t),B(this,zt).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=ic(t);if(B(this,zt).has(n)){const s=(r=B(this,zt).get(n))==null?void 0:r.filter(a=>a!==t);s&&(s.length===0?B(this,zt).delete(n):B(this,zt).set(n,s))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=B(this,zt).get(ic(t)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=B(this,zt).get(ic(t)))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){kt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...B(this,zt).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Sy(n,r))}findAll(t={}){return this.getAll().filter(n=>Sy(t,n))}notify(t){kt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return kt.batch(()=>Promise.all(t.map(n=>n.continue().catch(_n))))}},zt=new WeakMap,xl=new WeakMap,tb);function ic(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function ky(e){return{onFetch:(t,n)=>{var d,h,f,g,v;const r=t.options,s=(f=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,a=((g=t.state.data)==null?void 0:g.pages)||[],o=((v=t.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let x=!1;const b=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},y=T1(t.options,t.fetchOptions),w=async(p,j,S)=>{if(x)return Promise.reject();if(j==null&&p.pages.length)return Promise.resolve(p);const _={queryKey:t.queryKey,pageParam:j,direction:S?"backward":"forward",meta:t.options.meta};b(_);const N=await y(_),{maxPages:k}=t.options,T=S?OR:IR;return{pages:T(p.pages,N,k),pageParams:T(p.pageParams,j,k)}};if(s&&a.length){const p=s==="backward",j=p?YR:Cy,S={pages:a,pageParams:o},_=j(r,S);l=await w(S,_,p)}else{const p=e??a.length;do{const j=c===0?o[0]??r.initialPageParam:Cy(r,l);if(c>0&&j==null)break;l=await w(l,j),c++}while(c<p)}return l};t.options.persister?t.fetchFn=()=>{var x,b;return(b=(x=t.options).persister)==null?void 0:b.call(x,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Cy(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function YR(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var ze,qr,Kr,ua,da,Gr,ha,fa,nb,QR=(nb=class{constructor(e={}){Ne(this,ze);Ne(this,qr);Ne(this,Kr);Ne(this,ua);Ne(this,da);Ne(this,Gr);Ne(this,ha);Ne(this,fa);de(this,ze,e.queryCache||new HR),de(this,qr,e.mutationCache||new GR),de(this,Kr,e.defaultOptions||{}),de(this,ua,new Map),de(this,da,new Map),de(this,Gr,0)}mount(){Bl(this,Gr)._++,B(this,Gr)===1&&(de(this,ha,A1.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,ze).onFocus())})),de(this,fa,xu.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,ze).onOnline())})))}unmount(){var e,t;Bl(this,Gr)._--,B(this,Gr)===0&&((e=B(this,ha))==null||e.call(this),de(this,ha,void 0),(t=B(this,fa))==null||t.call(this),de(this,fa,void 0))}isFetching(e){return B(this,ze).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return B(this,qr).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=B(this,ze).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=B(this,ze).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(by(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return B(this,ze).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=B(this,ze).get(r.queryHash),a=s==null?void 0:s.state.data,o=ER(t,a);if(o!==void 0)return B(this,ze).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return kt.batch(()=>B(this,ze).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=B(this,ze).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=B(this,ze);kt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=B(this,ze),r={type:"active",...e};return kt.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=kt.batch(()=>B(this,ze).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(_n).catch(_n)}invalidateQueries(e={},t={}){return kt.batch(()=>{if(B(this,ze).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=kt.batch(()=>B(this,ze).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,n);return n.throwOnError||(a=a.catch(_n)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(_n)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=B(this,ze).build(this,t);return n.isStaleByTime(by(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(_n).catch(_n)}fetchInfiniteQuery(e){return e.behavior=ky(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(_n).catch(_n)}ensureInfiniteQueryData(e){return e.behavior=ky(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return xu.isOnline()?B(this,qr).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,ze)}getMutationCache(){return B(this,qr)}getDefaultOptions(){return B(this,Kr)}setDefaultOptions(e){de(this,Kr,e)}setQueryDefaults(e,t){B(this,ua).set(nl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...B(this,ua).values()];let n={};return t.forEach(r=>{rl(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){B(this,da).set(nl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...B(this,da).values()];let n={};return t.forEach(r=>{rl(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...B(this,Kr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=yg(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===wg&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...B(this,Kr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){B(this,ze).clear(),B(this,qr).clear()}},ze=new WeakMap,qr=new WeakMap,Kr=new WeakMap,ua=new WeakMap,da=new WeakMap,Gr=new WeakMap,ha=new WeakMap,fa=new WeakMap,nb),XR=m.createContext(void 0),JR=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(XR.Provider,{value:e,children:t}));const ZR="modulepreload",eM=function(e){return"/"+e},Py={},Sl=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=eM(c),c in Py)return;Py[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":ZR,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,g)=>{h.addEventListener("load",f),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},tM=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Sl(async()=>{const{default:r}=await Promise.resolve().then(()=>Ra);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class bg extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class nM extends bg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Ey extends bg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Ty extends bg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var vm;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(vm||(vm={}));var rM=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class sM{constructor(t,{headers:n={},customFetch:r,region:s=vm.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=tM(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return rM(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:o}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(x=>{throw new nM(x)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new Ey(h);if(!h.ok)throw new Ty(h);let g=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return g==="application/json"?v=yield h.json():g==="application/octet-stream"?v=yield h.blob():g==="text/event-stream"?v=h:g==="multipart/form-data"?v=yield h.formData():v=yield h.text(),{data:v,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof Ty||s instanceof Ey?s.context:void 0}}})}}var Ot={},jg={},fd={},_l={},md={},pd={},iM=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ba=iM();const aM=ba.fetch,O1=ba.fetch.bind(ba),L1=ba.Headers,oM=ba.Request,lM=ba.Response,Ra=Object.freeze(Object.defineProperty({__proto__:null,Headers:L1,Request:oM,Response:lM,default:O1,fetch:aM},Symbol.toStringTag,{value:"Module"})),cM=rE(Ra);var gd={};Object.defineProperty(gd,"__esModule",{value:!0});let uM=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};gd.default=uM;var F1=fn&&fn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pd,"__esModule",{value:!0});const dM=F1(cM),hM=F1(gd);let fM=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=dM.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,l,c;let u=null,d=null,h=null,f=a.status,g=a.statusText;if(a.ok){if(this.method!=="HEAD"){const y=await a.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const x=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),b=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");x&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await a.text();try{u=JSON.parse(x),Array.isArray(u)&&a.status===404&&(d=[],u=null,f=200,g="OK")}catch{a.status===404&&x===""?(f=204,g="No Content"):u={message:x}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,g="OK"),u&&this.shouldThrowOnError)throw new hM.default(u)}return{error:u,data:d,count:h,status:f,statusText:g}});return this.shouldThrowOnError||(s=s.catch(a=>{var o,l,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};pd.default=fM;var mM=fn&&fn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(md,"__esModule",{value:!0});const pM=mM(pd);let gM=class extends pM.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:a=s}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const a=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:a=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};md.default=gM;var xM=fn&&fn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_l,"__esModule",{value:!0});const vM=xM(md);let yM=class extends vM.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${a}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};_l.default=yM;var wM=fn&&fn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fd,"__esModule",{value:!0});const to=wM(_l);let bM=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new to.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),r||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new to.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:a=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),a||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new to.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new to.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new to.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};fd.default=bM;var xd={},vd={};Object.defineProperty(vd,"__esModule",{value:!0});vd.version=void 0;vd.version="0.0.0-automated";Object.defineProperty(xd,"__esModule",{value:!0});xd.DEFAULT_HEADERS=void 0;const jM=vd;xd.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${jM.version}`};var $1=fn&&fn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jg,"__esModule",{value:!0});const SM=$1(fd),_M=$1(_l),NM=xd;let kM=class U1{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},NM.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new SM.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new U1(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:a}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",c=n);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new _M.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};jg.default=kM;var Ma=fn&&fn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.PostgrestError=Ot.PostgrestBuilder=Ot.PostgrestTransformBuilder=Ot.PostgrestFilterBuilder=Ot.PostgrestQueryBuilder=Ot.PostgrestClient=void 0;const B1=Ma(jg);Ot.PostgrestClient=B1.default;const V1=Ma(fd);Ot.PostgrestQueryBuilder=V1.default;const z1=Ma(_l);Ot.PostgrestFilterBuilder=z1.default;const W1=Ma(md);Ot.PostgrestTransformBuilder=W1.default;const H1=Ma(pd);Ot.PostgrestBuilder=H1.default;const q1=Ma(gd);Ot.PostgrestError=q1.default;var CM=Ot.default={PostgrestClient:B1.default,PostgrestQueryBuilder:V1.default,PostgrestFilterBuilder:z1.default,PostgrestTransformBuilder:W1.default,PostgrestBuilder:H1.default,PostgrestError:q1.default};const{PostgrestClient:PM,PostgrestQueryBuilder:L7,PostgrestFilterBuilder:F7,PostgrestTransformBuilder:$7,PostgrestBuilder:U7,PostgrestError:B7}=CM;function EM(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const TM=EM(),AM="2.11.15",RM=`realtime-js/${AM}`,MM="1.0.0",K1=1e4,DM=1e3;var No;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(No||(No={}));var xt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(xt||(xt={}));var Cn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Cn||(Cn={}));var ym;(function(e){e.websocket="websocket"})(ym||(ym={}));var Fs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Fs||(Fs={}));class IM{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(t.slice(o,o+s));o=o+s;const c=r.decode(t.slice(o,o+a));o=o+a;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class G1{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Te;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Te||(Te={}));const Ay=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((a,o)=>(a[o]=OM(o,e,t,s),a),{})},OM=(e,t,n,r)=>{const s=t.find(l=>l.name===e),a=s==null?void 0:s.type,o=n[e];return a&&!r.includes(a)?Y1(a,o):wm(o)},Y1=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return UM(t,n)}switch(e){case Te.bool:return LM(t);case Te.float4:case Te.float8:case Te.int2:case Te.int4:case Te.int8:case Te.numeric:case Te.oid:return FM(t);case Te.json:case Te.jsonb:return $M(t);case Te.timestamp:return BM(t);case Te.abstime:case Te.date:case Te.daterange:case Te.int4range:case Te.int8range:case Te.money:case Te.reltime:case Te.text:case Te.time:case Te.timestamptz:case Te.timetz:case Te.tsrange:case Te.tstzrange:return wm(t);default:return wm(t)}},wm=e=>e,LM=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},FM=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},$M=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},UM=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>Y1(t,l))}return e},BM=e=>typeof e=="string"?e.replace(" ","T"):e,Q1=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Th{constructor(t,n,r={},s=K1){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ry;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ry||(Ry={}));class ko{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ko.syncState(this.state,s,a,o),this.pendingDiffs.forEach(c=>{this.state=ko.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ko.syncDiff(this.state,s,a,o),l())}),this.onJoin((s,a,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:o})}),this.onLeave((s,a,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const a=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=a[u];if(h){const f=d.map(b=>b.presence_ref),g=h.map(b=>b.presence_ref),v=d.filter(b=>g.indexOf(b.presence_ref)<0),x=h.filter(b=>f.indexOf(b.presence_ref)<0);v.length>0&&(l[u]=v),x.length>0&&(c[u]=x)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(g=>g.presence_ref),f=d.filter(g=>h.indexOf(g.presence_ref)<0);t[l].unshift(...f)}r(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var My;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(My||(My={}));var Dy;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Dy||(Dy={}));var dr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(dr||(dr={}));class Sg{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=xt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Th(this,Cn.join,this.params,this.timeout),this.rejoinTimer=new G1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=xt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=xt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Cn.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new ko(this),this.broadcastEndpointURL=Q1(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==xt.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(dr.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(dr.CLOSED));const c={},u={broadcast:a,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(dr.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,g=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,v=[];for(let x=0;x<g;x++){const b=f[x],{filter:{event:y,schema:w,table:p,filter:j}}=b,S=d&&d[x];if(S&&S.event===y&&S.schema===w&&S.table===p&&S.filter===j)v.push(Object.assign(Object.assign({},b),{id:S.id}));else{this.unsubscribe(),this.state=xt.errored,t==null||t(dr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(dr.SUBSCRIBED);return}}).receive("error",d=>{this.state=xt.errored,t==null||t(dr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(dr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=xt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Cn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Th(this,Cn.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const s=new AbortController,a=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(a),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Th(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Cn;if(r&&[l,c,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var v,x,b;return((v=g.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(x=g.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(g=>g.callback(f,r)):(a=this.bindings[o])===null||a===void 0||a.filter(g=>{var v,x,b,y,w,p;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const j=g.id,S=(v=g.filter)===null||v===void 0?void 0:v.event;return j&&((x=n.ids)===null||x===void 0?void 0:x.includes(j))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const j=(w=(y=g==null?void 0:g.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return j==="*"||j===((p=n==null?void 0:n.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:x,table:b,commit_timestamp:y,type:w,errors:p}=v;f=Object.assign(Object.assign({},{schema:x,table:b,commit_timestamp:y,eventType:w,new:{},old:{},errors:p}),this._getPayloadRecords(v))}g.callback(f,r)})}_isClosed(){return this.state===xt.closed}_isJoined(){return this.state===xt.joined}_isJoining(){return this.state===xt.joining}_isLeaving(){return this.state===xt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),a={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&Sg.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Cn.close,{},t)}_onError(t){this._on(Cn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Ay(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Ay(t.columns,t.old_record)),n}}const Iy=()=>{},VM=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class zM{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=K1,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Iy,this.ref=0,this.logger=Iy,this.conn=null,this.sendBuffer=[],this.serializer=new IM,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let o;return a?o=a:typeof fetch>"u"?o=(...l)=>Sl(async()=>{const{default:c}=await Promise.resolve().then(()=>Ra);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${ym.websocket}`,this.httpEndpoint=Q1(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,o)=>o(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new G1(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=TM),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:MM}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case No.connecting:return Fs.Connecting;case No.open:return Fs.Open;case No.closing:return Fs.Closing;default:return Fs.Closed}}isConnected(){return this.connectionState()===Fs.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===r);if(s)return s;{const a=new Sg(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:s,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${a})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:RM};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Cn.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(DM,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:a,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,a),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,a,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Cn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([VM],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class _g extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function nt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class WM extends _g{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class bm extends _g{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var HM=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const X1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Sl(async()=>{const{default:r}=await Promise.resolve().then(()=>Ra);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},qM=()=>HM(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Sl(()=>Promise.resolve().then(()=>Ra),void 0)).Response:Response}),jm=e=>{if(Array.isArray(e))return e.map(n=>jm(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=jm(r)}),t};var fi=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const Ah=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),KM=(e,t,n)=>fi(void 0,void 0,void 0,function*(){const r=yield qM();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new WM(Ah(s),e.status||500))}).catch(s=>{t(new bm(Ah(s),s))}):t(new bm(Ah(e),e))}),GM=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Nl(e,t,n,r,s,a){return fi(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,GM(t,r,s,a)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>KM(c,l,r))})})}function vu(e,t,n,r){return fi(this,void 0,void 0,function*(){return Nl(e,"GET",t,n,r)})}function Ur(e,t,n,r,s){return fi(this,void 0,void 0,function*(){return Nl(e,"POST",t,r,s,n)})}function YM(e,t,n,r,s){return fi(this,void 0,void 0,function*(){return Nl(e,"PUT",t,r,s,n)})}function QM(e,t,n,r){return fi(this,void 0,void 0,function*(){return Nl(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function J1(e,t,n,r,s){return fi(this,void 0,void 0,function*(){return Nl(e,"DELETE",t,r,s,n)})}var Dt=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const XM={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Oy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class JM{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=X1(s)}uploadOrUpdate(t,n,r,s){return Dt(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},Oy),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:a,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(a){if(nt(a))return{data:null,error:a};throw a}})}upload(t,n,r){return Dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Dt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:Oy.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),f=yield h.json();return h.ok?{data:{path:a,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(nt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Dt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const a=yield Ur(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new _g("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(nt(r))return{data:null,error:r};throw r}})}update(t,n,r){return Dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Dt(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(nt(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Dt(this,void 0,void 0,function*(){try{return{data:{path:(yield Ur(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(nt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Dt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield Ur(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(s){if(nt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Dt(this,void 0,void 0,function*(){try{const s=yield Ur(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(s){if(nt(s))return{data:null,error:s};throw s}})}download(t,n){return Dt(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield vu(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(nt(l))return{data:null,error:l};throw l}})}info(t){return Dt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield vu(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:jm(r),error:null}}catch(r){if(nt(r))return{data:null,error:r};throw r}})}exists(t){return Dt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield QM(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(nt(r)&&r instanceof bm){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&s.push(a);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return Dt(this,void 0,void 0,function*(){try{return{data:yield J1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(nt(n))return{data:null,error:n};throw n}})}list(t,n,r){return Dt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},XM),n),{prefix:t||""});return{data:yield Ur(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(nt(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const ZM="2.7.1",eD={"X-Client-Info":`storage-js/${ZM}`};var yi=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class tD{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},eD),n),this.fetch=X1(r)}listBuckets(){return yi(this,void 0,void 0,function*(){try{return{data:yield vu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(nt(t))return{data:null,error:t};throw t}})}getBucket(t){return yi(this,void 0,void 0,function*(){try{return{data:yield vu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(nt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return yi(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(nt(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return yi(this,void 0,void 0,function*(){try{return{data:yield YM(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(nt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return yi(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(nt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return yi(this,void 0,void 0,function*(){try{return{data:yield J1(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(nt(n))return{data:null,error:n};throw n}})}}class nD extends tD{constructor(t,n={},r){super(t,n,r)}from(t){return new JM(this.url,this.headers,t,this.fetch)}}const rD="2.52.0";let ho="";typeof Deno<"u"?ho="deno":typeof document<"u"?ho="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ho="react-native":ho="node";const sD={"X-Client-Info":`supabase-js-${ho}/${rD}`},iD={headers:sD},aD={schema:"public"},oD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},lD={};var cD=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const uD=e=>{let t;return e?t=e:typeof fetch>"u"?t=O1:t=fetch,(...n)=>t(...n)},dD=()=>typeof Headers>"u"?L1:Headers,hD=(e,t,n)=>{const r=uD(n),s=dD();return(a,o)=>cD(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(a,Object.assign(Object.assign({},o),{headers:u}))})};var fD=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};function mD(e){return e.endsWith("/")?e:e+"/"}function pD(e,t){var n,r;const{db:s,auth:a,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>fD(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const Z1="2.71.1",Ei=30*1e3,Sm=3,Rh=Sm*Ei,gD="http://localhost:9999",xD="supabase.auth.token",vD={"X-Client-Info":`gotrue-js/${Z1}`},_m="X-Supabase-Api-Version",eS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},yD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,wD=10*60*1e3;class Ng extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ce(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class bD extends Ng{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function jD(e){return ce(e)&&e.name==="AuthApiError"}class tS extends Ng{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class js extends Ng{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Ir extends js{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function SD(e){return ce(e)&&e.name==="AuthSessionMissingError"}class ac extends js{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class oc extends js{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class lc extends js{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function _D(e){return ce(e)&&e.name==="AuthImplicitGrantRedirectError"}class Ly extends js{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Nm extends js{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Mh(e){return ce(e)&&e.name==="AuthRetryableFetchError"}class Fy extends js{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class km extends js{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const yu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$y=` 	
\r=`.split(""),ND=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<$y.length;t+=1)e[$y[t].charCodeAt(0)]=-2;for(let t=0;t<yu.length;t+=1)e[yu[t].charCodeAt(0)]=t;return e})();function Uy(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(yu[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(yu[r]),t.queuedBits-=6}}function nS(e,t,n){const r=ND[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function By(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=o=>{PD(o,r,n)};for(let o=0;o<e.length;o+=1)nS(e.charCodeAt(o),s,a);return t.join("")}function kD(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function CD(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}kD(r,t)}}function PD(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function ED(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)nS(e.charCodeAt(s),n,r);return new Uint8Array(t)}function TD(e){const t=[];return CD(e,n=>t.push(n)),new Uint8Array(t)}function AD(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>Uy(s,n,r)),Uy(null,n,r),t.join("")}function RD(e){return Math.round(Date.now()/1e3)+e}function MD(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const yn=()=>typeof window<"u"&&typeof document<"u",Ts={tested:!1,writable:!1},rS=()=>{if(!yn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ts.tested)return Ts.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ts.tested=!0,Ts.writable=!0}catch{Ts.tested=!0,Ts.writable=!1}return Ts.writable};function DD(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const sS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Sl(async()=>{const{default:r}=await Promise.resolve().then(()=>Ra);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},ID=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ti=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},As=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Tr=async(e,t)=>{await e.removeItem(t)};class yd{constructor(){this.promise=new yd.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}yd.promiseConstructor=Promise;function Dh(e){const t=e.split(".");if(t.length!==3)throw new km("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!yD.test(t[r]))throw new km("JWT not in base64url format");return{header:JSON.parse(By(t[0])),payload:JSON.parse(By(t[1])),signature:ED(t[2]),raw:{header:t[0],payload:t[1]}}}async function OD(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function LD(e,t){return new Promise((r,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){s(o);return}}})()})}function FD(e){return("0"+e.toString(16)).substr(-2)}function $D(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let a=0;a<56;a++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,FD).join("")}async function UD(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function BD(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await UD(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function wi(e,t,n=!1){const r=$D();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Ti(e,`${t}-code-verifier`,s);const a=await BD(r);return[a,r===a?"plain":"s256"]}const VD=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function zD(e){const t=e.headers.get(_m);if(!t||!t.match(VD))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function WD(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function HD(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const qD=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function bi(e){if(!qD.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ih(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Vy(e){return JSON.parse(JSON.stringify(e))}var KD=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Is=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),GD=[502,503,504];async function zy(e){var t;if(!ID(e))throw new Nm(Is(e),0);if(GD.includes(e.status))throw new Nm(Is(e),e.status);let n;try{n=await e.json()}catch(a){throw new tS(Is(a),a)}let r;const s=zD(e);if(s&&s.getTime()>=eS["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Fy(Is(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Ir}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new Fy(Is(n),e.status,n.weak_password.reasons);throw new bD(Is(n),e.status||500,r)}const YD=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function pe(e,t,n,r){var s;const a=Object.assign({},r==null?void 0:r.headers);a[_m]||(a[_m]=eS["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await QD(e,t,n+l,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function QD(e,t,n,r,s,a){const o=YD(t,r,s,a);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new Nm(Is(c),0)}if(l.ok||await zy(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await zy(c)}}function cr(e){var t;let n=null;eI(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=RD(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Wy(e){const t=cr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function zr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function XD(e){return{data:e,error:null}}function JD(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a}=e,o=KD(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function ZD(e){return e}function eI(e){return e.access_token&&e.refresh_token&&e.expires_in}const Oh=["global","local","others"];var tI=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class nI{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=sS(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Oh[0]){if(Oh.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Oh.join(", ")}`);try{return await pe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:zr})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=tI(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:JD,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ce(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await pe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:zr})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:ZD});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=x}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ce(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){bi(t);try{return await pe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:zr})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){bi(t);try{return await pe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:zr})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){bi(t);try{return await pe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:zr})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){bi(t.userId);try{const{data:n,error:r}=await pe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _deleteFactor(t){bi(t.userId),bi(t.id);try{return{data:await pe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}}}function Hy(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function rI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ji={debug:!!(globalThis&&rS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class iS extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class sI extends iS{}async function iI(e,t,n){ji.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),ji.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){ji.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{ji.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw ji.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new sI(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ji.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}rI();const aI={url:gD,storageKey:xD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:vD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function qy(e,t,n){return await n()}const Si={};class sl{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=sl.nextInstanceID,sl.nextInstanceID+=1,this.instanceID>0&&yn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},aI),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new nI({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=sS(s.fetch),this.lock=s.lock||qy,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:yn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=iI:this.lock=qy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:rS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Hy(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Hy(this.memoryStorage)),yn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Si[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Si[this.storageKey]=Object.assign(Object.assign({},Si[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Si[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Si[this.storageKey]=Object.assign(Object.assign({},Si[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Z1}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=DD(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),yn()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),_D(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ce(n)?{error:n}:{error:new tS("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const a=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:cr}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(ce(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var n,r,s;try{let a;if("email"in t){const{email:d,password:h,options:f}=t;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await wi(this.storage,this.storageKey)),a=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:v},xform:cr})}else if("phone"in t){const{phone:d,password:h,options:f}=t;a=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:cr})}else throw new oc("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(ce(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:l}=t;n=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Wy})}else if("phone"in t){const{phone:a,password:o,options:l}=t;n=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Wy})}else throw new oc("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ac}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(ce(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,a,o,l,c,u,d,h,f,g;let v,x;if("message"in t)v=t.message,x=t.signature;else{const{chain:b,wallet:y,statement:w,options:p}=t;let j;if(yn())if(typeof y=="object")j=y;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))j=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=y}const S=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in j&&j.signIn){const _=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),w?{statement:w}:null));let N;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")N=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)N=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)v=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),x=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(r=p==null?void 0:p.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const _=await j.signMessage(new TextEncoder().encode(v),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=_}}try{const{data:b,error:y}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:AD(x)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:cr});if(y)throw y;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new ac}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:y})}catch(b){if(ce(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const n=await As(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:a,error:o}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:cr});if(await Tr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new ac}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:o})}catch(a){if(ce(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:a,nonce:o}=t,l=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:cr}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ac}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(ce(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,a,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await wi(this.storage,this.storageKey));const{error:h}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new oc("You must provide either an email or phone number.")}catch(l){if(ce(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let s,a;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:cr});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(ce(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await wi(this.storage,this.storageKey)),await pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:XD})}catch(a){if(ce(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Ir;const{error:s}=await pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(ce(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:a}=t,{error:o}=await pe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:a}=t,{data:o,error:l}=await pe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new oc("You must provide either an email or phone number and a type")}catch(n){if(ce(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await As(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Rh:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await As(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Ih()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:zr}):await this._useSession(async n=>{var r,s,a;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ir}:await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:zr})})}catch(n){if(ce(n))return SD(n)&&(await this._removeSession(),await Tr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:a}=r;if(a)throw a;if(!s.session)throw new Ir;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await wi(this.storage,this.storageKey));const{data:u,error:d}=await pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:zr});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ir;const n=Date.now()/1e3;let r=n,s=!0,a=null;const{payload:o}=Dh(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(ce(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Ir;const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ce(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!yn())throw new lc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new lc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Ly("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new lc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ly("No code detected.");const{data:w,error:p}=await this._exchangeCodeForSession(t.code);if(p)throw p;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!o||!u)throw new lc("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const g=f-d;g*1e3<=Ei&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const v=f-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);const{data:x,error:b}=await this._getUser(a);if(b)throw b;const y={provider_token:r,provider_refresh_token:s,access_token:a,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(r){if(ce(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await As(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return{error:a};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(jD(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Tr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=MD(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await wi(this.storage,this.storageKey,!0));try{return await pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(ce(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async a=>{var o,l,c,u,d;const{data:h,error:f}=a;if(f)throw f;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await pe(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return yn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ce(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:a,error:o}=n;if(o)throw o;return await pe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await LD(async s=>(s>0&&await OD(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:cr})),(s,a)=>{const o=200*Math.pow(2,s);return a&&Mh(a)&&Date.now()+o-r<Ei})}catch(r){if(this._debug(n,"error",r),ce(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),yn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await As(this.storage,this.storageKey);if(s&&this.userStorage){let o=await As(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Ti(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Ih()}else if(s&&!s.user&&!s.user){const o=await As(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Tr(this.storage,this.storageKey+"-user"),await Ti(this.storage,this.storageKey,s)):s.user=Ih()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const a=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Rh;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Rh}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Mh(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Ir;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new yd;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new Ir;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),ce(a)){const o={session:null,error:a};return Mh(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Ti(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const a=Vy(s);await Ti(this.storage,this.storageKey,a)}else{const s=Vy(n);await Ti(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Tr(this.storage,this.storageKey),await Tr(this.storage,this.storageKey+"-code-verifier"),await Tr(this.storage,this.storageKey+"-user"),this.userStorage&&await Tr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&yn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ei);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Ei);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ei}ms, refresh threshold is ${Sm} ticks`),s<=Sm&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof iS)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!yn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await wi(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);s.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;return a?{data:null,error:a}:await pe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:a,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await pe(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return{data:null,error:a};const{data:o,error:l}=await pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(ce(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;return a?{data:null,error:a}:await pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ce(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Dh(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+wD>s)return r;const{data:a,error:o}=await pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,r=a.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:g,error:v}=await this.getSession();if(v||!g.session)return{data:null,error:v};r=g.session.access_token}const{header:s,payload:a,signature:o,raw:{header:l,payload:c}}=Dh(r);n!=null&&n.allowExpired||WD(a.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:a,header:s,signature:o},error:null}}const d=HD(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,TD(`${l}.${c}`)))throw new km("Invalid JWT signature");return{data:{claims:a,header:s,signature:o},error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}}}sl.nextInstanceID=0;const oI=sl;class lI extends oI{constructor(t){super(t)}}var cI=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class uI{constructor(t,n,r){var s,a,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=mD(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:aD,realtime:lD,auth:Object.assign(Object.assign({},oD),{storageKey:u}),global:iD},h=pD(r??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=h.global.headers)!==null&&a!==void 0?a:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=hD(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new PM(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new sM(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new nD(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return cI(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:a,flowType:o,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new lI({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:a,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new zM(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const dI=(e,t,n)=>new uI(e,t,n),hI="https://cwielypcfeopsgqfiioc.supabase.co",fI="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN3aWVseXBjZmVvcHNncWZpaW9jIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI5NDUxNzAsImV4cCI6MjA2ODUyMTE3MH0.PoOPjH9W-1Q9TCor8g0B2d9-JHaL4Hzk23cjufSsINg",I=dI(hI,fI,{auth:{persistSession:!0}}),aS=m.createContext(void 0),ve=()=>{const e=m.useContext(aS);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},mI=({children:e})=>{const[t,n]=m.useState(null),[r,s]=m.useState(null),[a,o]=m.useState(!0);m.useEffect(()=>{let h=!0,f=!1;const g=async()=>{var x;try{const{data:{session:b},error:y}=await I.auth.getSession();y&&console.error("Error getting session:",y),h&&!f&&(console.log("Initial session check:",(x=b==null?void 0:b.user)==null?void 0:x.id),s(b),n((b==null?void 0:b.user)??null),o(!1),f=!0)}catch(b){console.error("Error initializing auth:",b),h&&(s(null),n(null),o(!1))}},{data:{subscription:v}}=I.auth.onAuthStateChange((x,b)=>{var y;h&&((x==="SIGNED_IN"||x==="SIGNED_OUT"||x==="TOKEN_REFRESHED")&&console.log("Auth state change:",x,(y=b==null?void 0:b.user)==null?void 0:y.id),s(w=>{var p,j;return((p=w==null?void 0:w.user)==null?void 0:p.id)!==((j=b==null?void 0:b.user)==null?void 0:j.id)?b:w}),n(w=>{const p=(b==null?void 0:b.user)??null;return(w==null?void 0:w.id)!==(p==null?void 0:p.id)?p:w}),f&&o(!1))});return g(),()=>{h=!1,v.unsubscribe()}},[]);const d={user:t,session:r,loading:a,signUp:async(h,f,g)=>{const v=`${window.location.origin}/`,{data:x,error:b}=await I.auth.signUp({email:h,password:f,options:{emailRedirectTo:v,data:g?{display_name:g}:void 0}});return{data:x,error:b}},signIn:async(h,f)=>{const{error:g}=await I.auth.signInWithPassword({email:h,password:f});return{error:g}},signOut:async()=>{const{error:h}=await I.auth.signOut();return{error:h}}};return i.jsx(aS.Provider,{value:d,children:e})},tt=({children:e,adminOnly:t=!1})=>{const{user:n,loading:r}=ve(),s=hi();return r?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):n?i.jsx(i.Fragment,{children:e}):i.jsx(C1,{to:"/auth",state:{from:s},replace:!0})},pI=()=>{const{user:e}=ve();return m.useEffect(()=>{(async()=>{if(e)try{const n=Intl.DateTimeFormat().resolvedOptions().timeZone,{error:r}=await I.from("profiles").update({updated_at:new Date().toISOString()}).eq("user_id",e.id);r?console.error("Error updating user profile:",r):console.log(`✅ Detected timezone ${n} for user ${e.id}`)}catch(n){console.error("Error detecting timezone:",n)}})()},[e]),null},gI=1,xI=1e6;let Lh=0;function vI(){return Lh=(Lh+1)%Number.MAX_SAFE_INTEGER,Lh.toString()}const Fh=new Map,Ky=e=>{if(Fh.has(e))return;const t=setTimeout(()=>{Fh.delete(e),Co({type:"REMOVE_TOAST",toastId:e})},xI);Fh.set(e,t)},yI=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,gI)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Ky(n):e.toasts.forEach(r=>{Ky(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Ic=[];let Oc={toasts:[]};function Co(e){Oc=yI(Oc,e),Ic.forEach(t=>{t(Oc)})}function wI({...e}){const t=vI(),n=s=>Co({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>Co({type:"DISMISS_TOAST",toastId:t});return Co({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function Vt(){const[e,t]=m.useState(Oc);return m.useEffect(()=>(Ic.push(t),()=>{const n=Ic.indexOf(t);n>-1&&Ic.splice(n,1)}),[e]),{...e,toast:wI,dismiss:n=>Co({type:"DISMISS_TOAST",toastId:n})}}function q(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function bI(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function wd(...e){return t=>e.forEach(n=>bI(n,t))}function me(...e){return m.useCallback(wd(...e),e)}function jI(e,t=[]){let n=[];function r(a,o){const l=m.createContext(o),c=n.length;n=[...n,o];function u(h){const{scope:f,children:g,...v}=h,x=(f==null?void 0:f[e][c])||l,b=m.useMemo(()=>v,Object.values(v));return i.jsx(x.Provider,{value:b,children:g})}function d(h,f){const g=(f==null?void 0:f[e][c])||l,v=m.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=n.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,SI(s,...t)]}function SI(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var ds=m.forwardRef((e,t)=>{const{children:n,...r}=e,s=m.Children.toArray(n),a=s.find(_I);if(a){const o=a.props.children,l=s.map(c=>c===a?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:c);return i.jsx(Cm,{...r,ref:t,children:m.isValidElement(o)?m.cloneElement(o,void 0,l):null})}return i.jsx(Cm,{...r,ref:t,children:n})});ds.displayName="Slot";var Cm=m.forwardRef((e,t)=>{const{children:n,...r}=e;if(m.isValidElement(n)){const s=kI(n);return m.cloneElement(n,{...NI(r,n.props),ref:t?wd(t,s):s})}return m.Children.count(n)>1?m.Children.only(null):null});Cm.displayName="SlotClone";var oS=({children:e})=>i.jsx(i.Fragment,{children:e});function _I(e){return m.isValidElement(e)&&e.type===oS}function NI(e,t){const n={...t};for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...l)=>{a(...l),s(...l)}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function kI(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function kl(e){const t=e+"CollectionProvider",[n,r]=jI(t),[s,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:v,children:x}=g,b=ct.useRef(null),y=ct.useRef(new Map).current;return i.jsx(s,{scope:v,itemMap:y,collectionRef:b,children:x})};o.displayName=t;const l=e+"CollectionSlot",c=ct.forwardRef((g,v)=>{const{scope:x,children:b}=g,y=a(l,x),w=me(v,y.collectionRef);return i.jsx(ds,{ref:w,children:b})});c.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",h=ct.forwardRef((g,v)=>{const{scope:x,children:b,...y}=g,w=ct.useRef(null),p=me(v,w),j=a(u,x);return ct.useEffect(()=>(j.itemMap.set(w,{ref:w,...y}),()=>void j.itemMap.delete(w))),i.jsx(ds,{[d]:"",ref:p,children:b})});h.displayName=u;function f(g){const v=a(e+"CollectionConsumer",g);return ct.useCallback(()=>{const b=v.collectionRef.current;if(!b)return[];const y=Array.from(b.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((j,S)=>y.indexOf(j.ref.current)-y.indexOf(S.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:c,ItemSlot:h},f,r]}function CI(e,t){const n=m.createContext(t),r=a=>{const{children:o,...l}=a,c=m.useMemo(()=>l,Object.values(l));return i.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function s(a){const o=m.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,s]}function Ln(e,t=[]){let n=[];function r(a,o){const l=m.createContext(o),c=n.length;n=[...n,o];const u=h=>{var y;const{scope:f,children:g,...v}=h,x=((y=f==null?void 0:f[e])==null?void 0:y[c])||l,b=m.useMemo(()=>v,Object.values(v));return i.jsx(x.Provider,{value:b,children:g})};u.displayName=a+"Provider";function d(h,f){var x;const g=((x=f==null?void 0:f[e])==null?void 0:x[c])||l,v=m.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=n.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,PI(s,...t)]}function PI(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var EI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ie=EI.reduce((e,t)=>{const n=m.forwardRef((r,s)=>{const{asChild:a,...o}=r,l=a?ds:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(l,{...o,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function kg(e,t){e&&di.flushSync(()=>e.dispatchEvent(t))}function ht(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function TI(e,t=globalThis==null?void 0:globalThis.document){const n=ht(e);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var AI="DismissableLayer",Pm="dismissableLayer.update",RI="dismissableLayer.pointerDownOutside",MI="dismissableLayer.focusOutside",Gy,lS=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Cl=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,u=m.useContext(lS),[d,h]=m.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),v=me(t,N=>h(N)),x=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=x.indexOf(b),w=d?x.indexOf(d):-1,p=u.layersWithOutsidePointerEventsDisabled.size>0,j=w>=y,S=II(N=>{const k=N.target,T=[...u.branches].some(D=>D.contains(k));!j||T||(s==null||s(N),o==null||o(N),N.defaultPrevented||l==null||l())},f),_=OI(N=>{const k=N.target;[...u.branches].some(D=>D.contains(k))||(a==null||a(N),o==null||o(N),N.defaultPrevented||l==null||l())},f);return TI(N=>{w===u.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},f),m.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Gy=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Yy(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Gy)}},[d,f,n,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Yy())},[d,u]),m.useEffect(()=>{const N=()=>g({});return document.addEventListener(Pm,N),()=>document.removeEventListener(Pm,N)},[]),i.jsx(ie.div,{...c,ref:v,style:{pointerEvents:p?j?"auto":"none":void 0,...e.style},onFocusCapture:q(e.onFocusCapture,_.onFocusCapture),onBlurCapture:q(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:q(e.onPointerDownCapture,S.onPointerDownCapture)})});Cl.displayName=AI;var DI="DismissableLayerBranch",cS=m.forwardRef((e,t)=>{const n=m.useContext(lS),r=m.useRef(null),s=me(t,r);return m.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),i.jsx(ie.div,{...e,ref:s})});cS.displayName=DI;function II(e,t=globalThis==null?void 0:globalThis.document){const n=ht(e),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){uS(RI,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function OI(e,t=globalThis==null?void 0:globalThis.document){const n=ht(e),r=m.useRef(!1);return m.useEffect(()=>{const s=a=>{a.target&&!r.current&&uS(MI,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Yy(){const e=new CustomEvent(Pm);document.dispatchEvent(e)}function uS(e,t,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?kg(s,a):s.dispatchEvent(a)}var LI=Cl,FI=cS,it=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},$I="Portal",Pl=m.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,a]=m.useState(!1);it(()=>a(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?EA.createPortal(i.jsx(ie.div,{...r,ref:t}),o):null});Pl.displayName=$I;function UI(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var Fn=e=>{const{present:t,children:n}=e,r=BI(t),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),a=me(r.ref,VI(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:a}):null};Fn.displayName="Presence";function BI(e){const[t,n]=m.useState(),r=m.useRef({}),s=m.useRef(e),a=m.useRef("none"),o=e?"mounted":"unmounted",[l,c]=UI(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=cc(r.current);a.current=l==="mounted"?u:"none"},[l]),it(()=>{const u=r.current,d=s.current;if(d!==e){const f=a.current,g=cc(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),it(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=g=>{const x=cc(r.current).includes(g.animationName);if(g.target===t&&x&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},f=g=>{g.target===t&&(a.current=cc(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function cc(e){return(e==null?void 0:e.animationName)||"none"}function VI(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function rr({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=zI({defaultProp:t,onChange:n}),a=e!==void 0,o=a?e:r,l=ht(n),c=m.useCallback(u=>{if(a){const h=typeof u=="function"?u(e):u;h!==e&&l(h)}else s(u)},[a,e,s,l]);return[o,c]}function zI({defaultProp:e,onChange:t}){const n=m.useState(e),[r]=n,s=m.useRef(r),a=ht(t);return m.useEffect(()=>{s.current!==r&&(a(r),s.current=r)},[r,s,a]),n}var WI="VisuallyHidden",bd=m.forwardRef((e,t)=>i.jsx(ie.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));bd.displayName=WI;var Cg="ToastProvider",[Pg,HI,qI]=kl("Toast"),[dS,V7]=Ln("Toast",[qI]),[KI,jd]=dS(Cg),hS=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:o}=e,[l,c]=m.useState(null),[u,d]=m.useState(0),h=m.useRef(!1),f=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Cg}\`. Expected non-empty \`string\`.`),i.jsx(Pg.Provider,{scope:t,children:i.jsx(KI,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>d(g=>g+1),[]),onToastRemove:m.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};hS.displayName=Cg;var fS="ToastViewport",GI=["F8"],Em="toast.viewportPause",Tm="toast.viewportResume",mS=m.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=GI,label:s="Notifications ({hotkey})",...a}=e,o=jd(fS,n),l=HI(n),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),h=m.useRef(null),f=me(t,h,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;m.useEffect(()=>{const b=y=>{var p;r.length!==0&&r.every(j=>y[j]||y.code===j)&&((p=h.current)==null||p.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),m.useEffect(()=>{const b=c.current,y=h.current;if(v&&b&&y){const w=()=>{if(!o.isClosePausedRef.current){const _=new CustomEvent(Em);y.dispatchEvent(_),o.isClosePausedRef.current=!0}},p=()=>{if(o.isClosePausedRef.current){const _=new CustomEvent(Tm);y.dispatchEvent(_),o.isClosePausedRef.current=!1}},j=_=>{!b.contains(_.relatedTarget)&&p()},S=()=>{b.contains(document.activeElement)||p()};return b.addEventListener("focusin",w),b.addEventListener("focusout",j),b.addEventListener("pointermove",w),b.addEventListener("pointerleave",S),window.addEventListener("blur",w),window.addEventListener("focus",p),()=>{b.removeEventListener("focusin",w),b.removeEventListener("focusout",j),b.removeEventListener("pointermove",w),b.removeEventListener("pointerleave",S),window.removeEventListener("blur",w),window.removeEventListener("focus",p)}}},[v,o.isClosePausedRef]);const x=m.useCallback(({tabbingDirection:b})=>{const w=l().map(p=>{const j=p.ref.current,S=[j,...o4(j)];return b==="forwards"?S:S.reverse()});return(b==="forwards"?w.reverse():w).flat()},[l]);return m.useEffect(()=>{const b=h.current;if(b){const y=w=>{var S,_,N;const p=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!p){const k=document.activeElement,T=w.shiftKey;if(w.target===b&&T){(S=u.current)==null||S.focus();return}const P=x({tabbingDirection:T?"backwards":"forwards"}),U=P.findIndex($=>$===k);$h(P.slice(U+1))?w.preventDefault():T?(_=u.current)==null||_.focus():(N=d.current)==null||N.focus()}};return b.addEventListener("keydown",y),()=>b.removeEventListener("keydown",y)}},[l,x]),i.jsxs(FI,{ref:c,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&i.jsx(Am,{ref:u,onFocusFromOutsideViewport:()=>{const b=x({tabbingDirection:"forwards"});$h(b)}}),i.jsx(Pg.Slot,{scope:n,children:i.jsx(ie.ol,{tabIndex:-1,...a,ref:f})}),v&&i.jsx(Am,{ref:d,onFocusFromOutsideViewport:()=>{const b=x({tabbingDirection:"backwards"});$h(b)}})]})});mS.displayName=fS;var pS="ToastFocusProxy",Am=m.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,a=jd(pS,n);return i.jsx(bd,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&r()}})});Am.displayName=pS;var Sd="Toast",YI="toast.swipeStart",QI="toast.swipeMove",XI="toast.swipeCancel",JI="toast.swipeEnd",gS=m.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:a,...o}=e,[l=!0,c]=rr({prop:r,defaultProp:s,onChange:a});return i.jsx(Fn,{present:n||l,children:i.jsx(t4,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:ht(e.onPause),onResume:ht(e.onResume),onSwipeStart:q(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:q(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:q(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:q(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});gS.displayName=Sd;var[ZI,e4]=dS(Sd,{onClose(){}}),t4=m.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:g,...v}=e,x=jd(Sd,n),[b,y]=m.useState(null),w=me(t,$=>y($)),p=m.useRef(null),j=m.useRef(null),S=s||x.duration,_=m.useRef(0),N=m.useRef(S),k=m.useRef(0),{onToastAdd:T,onToastRemove:D}=x,F=ht(()=>{var K;(b==null?void 0:b.contains(document.activeElement))&&((K=x.viewport)==null||K.focus()),o()}),P=m.useCallback($=>{!$||$===1/0||(window.clearTimeout(k.current),_.current=new Date().getTime(),k.current=window.setTimeout(F,$))},[F]);m.useEffect(()=>{const $=x.viewport;if($){const K=()=>{P(N.current),u==null||u()},R=()=>{const O=new Date().getTime()-_.current;N.current=N.current-O,window.clearTimeout(k.current),c==null||c()};return $.addEventListener(Em,R),$.addEventListener(Tm,K),()=>{$.removeEventListener(Em,R),$.removeEventListener(Tm,K)}}},[x.viewport,S,c,u,P]),m.useEffect(()=>{a&&!x.isClosePausedRef.current&&P(S)},[a,S,x.isClosePausedRef,P]),m.useEffect(()=>(T(),()=>D()),[T,D]);const U=m.useMemo(()=>b?SS(b):null,[b]);return x.viewport?i.jsxs(i.Fragment,{children:[U&&i.jsx(n4,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:U}),i.jsx(ZI,{scope:n,onClose:F,children:di.createPortal(i.jsx(Pg.ItemSlot,{scope:n,children:i.jsx(LI,{asChild:!0,onEscapeKeyDown:q(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||F(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(ie.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":x.swipeDirection,...v,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:q(e.onKeyDown,$=>{$.key==="Escape"&&(l==null||l($.nativeEvent),$.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:q(e.onPointerDown,$=>{$.button===0&&(p.current={x:$.clientX,y:$.clientY})}),onPointerMove:q(e.onPointerMove,$=>{if(!p.current)return;const K=$.clientX-p.current.x,R=$.clientY-p.current.y,O=!!j.current,C=["left","right"].includes(x.swipeDirection),M=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,E=C?M(0,K):0,A=C?0:M(0,R),V=$.pointerType==="touch"?10:2,se={x:E,y:A},he={originalEvent:$,delta:se};O?(j.current=se,uc(QI,h,he,{discrete:!1})):Qy(se,x.swipeDirection,V)?(j.current=se,uc(YI,d,he,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(K)>V||Math.abs(R)>V)&&(p.current=null)}),onPointerUp:q(e.onPointerUp,$=>{const K=j.current,R=$.target;if(R.hasPointerCapture($.pointerId)&&R.releasePointerCapture($.pointerId),j.current=null,p.current=null,K){const O=$.currentTarget,C={originalEvent:$,delta:K};Qy(K,x.swipeDirection,x.swipeThreshold)?uc(JI,g,C,{discrete:!0}):uc(XI,f,C,{discrete:!0}),O.addEventListener("click",M=>M.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),n4=e=>{const{__scopeToast:t,children:n,...r}=e,s=jd(Sd,t),[a,o]=m.useState(!1),[l,c]=m.useState(!1);return i4(()=>o(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(Pl,{asChild:!0,children:i.jsx(bd,{...r,children:a&&i.jsxs(i.Fragment,{children:[s.label," ",n]})})})},r4="ToastTitle",xS=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return i.jsx(ie.div,{...r,ref:t})});xS.displayName=r4;var s4="ToastDescription",vS=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return i.jsx(ie.div,{...r,ref:t})});vS.displayName=s4;var yS="ToastAction",wS=m.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?i.jsx(jS,{altText:n,asChild:!0,children:i.jsx(Eg,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${yS}\`. Expected non-empty \`string\`.`),null)});wS.displayName=yS;var bS="ToastClose",Eg=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=e4(bS,n);return i.jsx(jS,{asChild:!0,children:i.jsx(ie.button,{type:"button",...r,ref:t,onClick:q(e.onClick,s.onClose)})})});Eg.displayName=bS;var jS=m.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return i.jsx(ie.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function SS(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),a4(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...SS(r))}}),t}function uc(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?kg(s,a):s.dispatchEvent(a)}var Qy=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),a=r>s;return t==="left"||t==="right"?a&&r>n:!a&&s>n};function i4(e=()=>{}){const t=ht(e);it(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function a4(e){return e.nodeType===e.ELEMENT_NODE}function o4(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function $h(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var l4=hS,_S=mS,NS=gS,kS=xS,CS=vS,PS=wS,ES=Eg;function TS(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=TS(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function AS(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=TS(e))&&(r&&(r+=" "),r+=t);return r}const Xy=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Jy=AS,_d=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Jy(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=t,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=a==null?void 0:a[u];if(d===null)return null;const f=Xy(d)||Xy(h);return s[u][f]}),l=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...g}=d;return Object.entries(g).every(v=>{let[x,b]=v;return Array.isArray(b)?b.includes({...a,...l}[x]):{...a,...l}[x]===b})?[...u,h,f]:u},[]);return Jy(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),RS=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var u4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:o,...l},c)=>m.createElement("svg",{ref:c,...u4,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:RS("lucide",s),...l},[...o.map(([u,d])=>m.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=(e,t)=>{const n=m.forwardRef(({className:r,...s},a)=>m.createElement(d4,{ref:a,iconNode:t,className:RS(`lucide-${c4(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=Q("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=Q("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=Q("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=Q("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=Q("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=Q("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=Q("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=Q("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=Q("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=Q("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=Q("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=Q("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=Q("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=Q("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=Q("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=Q("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=Q("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=Q("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=Q("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=Q("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=Q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=Q("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=Q("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=Q("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=Q("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=Q("Diamond",[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=Q("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=Q("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=Q("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=Q("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=Q("FileVideo",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=Q("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=Q("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=Q("HeartCrack",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"m12 13-1-1 2-2-3-3 2-2",key:"xjdxli"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=Q("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=Q("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=Q("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=Q("Images",[["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"m22 13-1.296-1.296a2.41 2.41 0 0 0-3.408 0L11 18",key:"nf6bnh"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["rect",{width:"16",height:"16",x:"6",y:"2",rx:"2",key:"12espp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=Q("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=Q("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=Q("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=Q("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=Q("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ju=Q("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=Q("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=Q("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=Q("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=Q("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=Q("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=Q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=Q("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=Q("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=Q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=Q("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=Q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=Q("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=Q("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=Q("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=Q("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=Q("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=Q("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=Q("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=Q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=Q("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=Q("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=Q("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=Q("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=Q("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=Q("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=Q("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=Q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=Q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=Q("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=Q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=Q("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Ag="-",O4=e=>{const t=F4(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(Ag);return l[0]===""&&l.length!==1&&l.shift(),GS(l,t)||L4(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},GS=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?GS(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(Ag);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},s0=/^\[(.+)\]$/,L4=e=>{if(s0.test(e)){const t=s0.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},F4=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return U4(Object.entries(e.classGroups),n).forEach(([a,o])=>{Dm(o,r,a,t)}),r},Dm=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:i0(t,s);a.classGroupId=n;return}if(typeof s=="function"){if($4(s)){Dm(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([a,o])=>{Dm(o,i0(t,a),n,r)})})},i0=(e,t)=>{let n=e;return t.split(Ag).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},$4=e=>e.isThemeGetter,U4=(e,t)=>t?e.map(([n,r])=>{const s=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[n,s]}):e,B4=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(a,o)=>{n.set(a,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return s(a,o),o},set(a,o){n.has(a)?n.set(a,o):s(a,o)}}},YS="!",V4=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],a=t.length,o=l=>{const c=[];let u=0,d=0,h;for(let b=0;b<l.length;b++){let y=l[b];if(u===0){if(y===s&&(r||l.slice(b,b+a)===t)){c.push(l.slice(d,b)),d=b+a;continue}if(y==="/"){h=b;continue}}y==="["?u++:y==="]"&&u--}const f=c.length===0?l:l.substring(d),g=f.startsWith(YS),v=g?f.substring(1):f,x=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:x}};return n?l=>n({className:l,parseClassName:o}):o},z4=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},W4=e=>({cache:B4(e.cacheSize),parseClassName:V4(e),...O4(e)}),H4=/\s+/,q4=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,a=[],o=e.trim().split(H4);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:g}=n(u);let v=!!g,x=r(v?f.substring(0,g):f);if(!x){if(!v){l=u+(l.length>0?" "+l:l);continue}if(x=r(f),!x){l=u+(l.length>0?" "+l:l);continue}v=!1}const b=z4(d).join(":"),y=h?b+YS:b,w=y+x;if(a.includes(w))continue;a.push(w);const p=s(x,v);for(let j=0;j<p.length;++j){const S=p[j];a.push(y+S)}l=u+(l.length>0?" "+l:l)}return l};function K4(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=QS(t))&&(r&&(r+=" "),r+=n);return r}const QS=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=QS(e[r]))&&(n&&(n+=" "),n+=t);return n};function G4(e,...t){let n,r,s,a=o;function o(c){const u=t.reduce((d,h)=>h(d),e());return n=W4(u),r=n.cache.get,s=n.cache.set,a=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=q4(c,n);return s(c,d),d}return function(){return a(K4.apply(null,arguments))}}const Me=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},XS=/^\[(?:([a-z-]+):)?(.+)\]$/i,Y4=/^\d+\/\d+$/,Q4=new Set(["px","full","screen"]),X4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,J4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Z4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,eO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,tO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,or=e=>ea(e)||Q4.has(e)||Y4.test(e),Ar=e=>Da(e,"length",cO),ea=e=>!!e&&!Number.isNaN(Number(e)),zh=e=>Da(e,"number",ea),no=e=>!!e&&Number.isInteger(Number(e)),nO=e=>e.endsWith("%")&&ea(e.slice(0,-1)),ue=e=>XS.test(e),Rr=e=>X4.test(e),rO=new Set(["length","size","percentage"]),sO=e=>Da(e,rO,JS),iO=e=>Da(e,"position",JS),aO=new Set(["image","url"]),oO=e=>Da(e,aO,dO),lO=e=>Da(e,"",uO),ro=()=>!0,Da=(e,t,n)=>{const r=XS.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},cO=e=>J4.test(e)&&!Z4.test(e),JS=()=>!1,uO=e=>eO.test(e),dO=e=>tO.test(e),hO=()=>{const e=Me("colors"),t=Me("spacing"),n=Me("blur"),r=Me("brightness"),s=Me("borderColor"),a=Me("borderRadius"),o=Me("borderSpacing"),l=Me("borderWidth"),c=Me("contrast"),u=Me("grayscale"),d=Me("hueRotate"),h=Me("invert"),f=Me("gap"),g=Me("gradientColorStops"),v=Me("gradientColorStopPositions"),x=Me("inset"),b=Me("margin"),y=Me("opacity"),w=Me("padding"),p=Me("saturate"),j=Me("scale"),S=Me("sepia"),_=Me("skew"),N=Me("space"),k=Me("translate"),T=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",ue,t],P=()=>[ue,t],U=()=>["",or,Ar],$=()=>["auto",ea,ue],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],R=()=>["solid","dashed","dotted","double","none"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],C=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",ue],E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>[ea,ue];return{cacheSize:500,separator:":",theme:{colors:[ro],spacing:[or,Ar],blur:["none","",Rr,ue],brightness:A(),borderColor:[e],borderRadius:["none","","full",Rr,ue],borderSpacing:P(),borderWidth:U(),contrast:A(),grayscale:M(),hueRotate:A(),invert:M(),gap:P(),gradientColorStops:[e],gradientColorStopPositions:[nO,Ar],inset:F(),margin:F(),opacity:A(),padding:P(),saturate:A(),scale:A(),sepia:M(),skew:A(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",ue]}],container:["container"],columns:[{columns:[Rr]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),ue]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",no,ue]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ue]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",no,ue]}],"grid-cols":[{"grid-cols":[ro]}],"col-start-end":[{col:["auto",{span:["full",no,ue]},ue]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[ro]}],"row-start-end":[{row:["auto",{span:[no,ue]},ue]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ue]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...C()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...C(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...C(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ue,t]}],"min-w":[{"min-w":[ue,t,"min","max","fit"]}],"max-w":[{"max-w":[ue,t,"none","full","min","max","fit","prose",{screen:[Rr]},Rr]}],h:[{h:[ue,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ue,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ue,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ue,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Rr,Ar]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",zh]}],"font-family":[{font:[ro]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ue]}],"line-clamp":[{"line-clamp":["none",ea,zh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",or,ue]}],"list-image":[{"list-image":["none",ue]}],"list-style-type":[{list:["none","disc","decimal",ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...R(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",or,Ar]}],"underline-offset":[{"underline-offset":["auto",or,ue]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),iO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",sO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},oO]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...R(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:R()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...R()]}],"outline-offset":[{"outline-offset":[or,ue]}],"outline-w":[{outline:[or,Ar]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[or,Ar]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Rr,lO]}],"shadow-color":[{shadow:[ro]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...O(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":O()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Rr,ue]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[p]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[p]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ue]}],duration:[{duration:A()}],ease:[{ease:["linear","in","out","in-out",ue]}],delay:[{delay:A()}],animate:[{animate:["none","spin","ping","pulse","bounce",ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[no,ue]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ue]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ue]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ue]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[or,Ar,zh]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},fO=G4(hO);function Z(...e){return fO(AS(e))}const mO=l4,ZS=m.forwardRef(({className:e,...t},n)=>i.jsx(_S,{ref:n,className:Z("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));ZS.displayName=_S.displayName;const pO=_d("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),e_=m.forwardRef(({className:e,variant:t,...n},r)=>i.jsx(NS,{ref:r,className:Z(pO({variant:t}),e),...n}));e_.displayName=NS.displayName;const gO=m.forwardRef(({className:e,...t},n)=>i.jsx(PS,{ref:n,className:Z("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));gO.displayName=PS.displayName;const t_=m.forwardRef(({className:e,...t},n)=>i.jsx(ES,{ref:n,className:Z("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(Dn,{className:"h-4 w-4"})}));t_.displayName=ES.displayName;const n_=m.forwardRef(({className:e,...t},n)=>i.jsx(kS,{ref:n,className:Z("text-sm font-semibold",e),...t}));n_.displayName=kS.displayName;const r_=m.forwardRef(({className:e,...t},n)=>i.jsx(CS,{ref:n,className:Z("text-sm opacity-90",e),...t}));r_.displayName=CS.displayName;function xO(){const{toasts:e}=Vt();return i.jsxs(mO,{children:[e.map(function({id:t,title:n,description:r,action:s,...a}){return i.jsxs(e_,{...a,children:[i.jsxs("div",{className:"grid gap-1",children:[n&&i.jsx(n_,{children:n}),r&&i.jsx(r_,{children:r})]}),s,i.jsx(t_,{})]},t)}),i.jsx(ZS,{})]})}const Rg=_d("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),L=m.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},a)=>{const o=r?ds:"button";return i.jsx(o,{className:Z(Rg({variant:t,size:n,className:e})),ref:a,...s})});L.displayName="Button";const s_=()=>{const[e,t]=m.useState(122564),[n,r]=m.useState(!0);return m.useEffect(()=>{let s=!1;(async()=>{try{const l="userCountIncremented";if(!sessionStorage.getItem(l)&&!s){const{data:u,error:d}=await I.rpc("increment_user_count");if(d){console.error("Error incrementing user count:",d);const{data:h,error:f}=await I.rpc("get_current_user_count");!f&&h&&t(h)}else u&&(t(u),sessionStorage.setItem(l,"true"),s=!0)}else{const{data:u,error:d}=await I.rpc("get_current_user_count");!d&&u&&t(u)}}catch(l){console.error("Error with user count:",l)}finally{r(!1)}})();const o=I.channel("global_user_counter_updates").on("postgres_changes",{event:"UPDATE",schema:"public",table:"global_user_counter"},l=>{var c;(c=l.new)!=null&&c.current_count&&t(l.new.current_count)}).subscribe();return()=>{I.removeChannel(o)}},[]),{userCount:e,isLoading:n}};function vO({onProfileClick:e}){const[t,n]=m.useState("Profit"),r=["Profit","Success","Growth","Results","Achievement","Excellence"];m.useEffect(()=>{const f=setInterval(()=>{n(g=>{const x=(r.indexOf(g)+1)%r.length;return r[x]})},3e3);return()=>clearInterval(f)},[r]);const[s,a]=m.useState(null),[o,l]=m.useState([]),[c,u]=m.useState(!0);m.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:f,error:g}=await I.from("companion_models").select("id, name, photo_url, status").eq("visibility","active");if(g)throw g;if(f&&f.length>0){const b=[...f].sort(()=>.5-Math.random()).map(y=>{let w,p;if(y.name.includes(" - ")){const j=y.name.split(" - ");w=j[0].trim(),p=j.slice(1).join(" - ").trim()||""}else if(y.name.includes("-")){const j=y.name.split("-");w=j[0].trim(),p=j.slice(1).join("-").trim()||""}else w=y.name.trim(),p="";return{id:y.id,name:w,title:p,image:y.photo_url,status:"online",statusText:y.status||"Online now"}});l(b)}}catch(f){console.error("Error fetching landing profiles:",f)}finally{u(!1)}},h=f=>{a(f.id),e&&e(f)};return i.jsxs("div",{className:"relative overflow-hidden py-8 sm:py-12 md:py-16 px-4 sm:px-6 md:px-8 text-foreground font-outfit",style:{background:"linear-gradient(180deg, #A855F7 0%, #7C3AED 50%, #6D28D9 100%)"},children:[i.jsx("div",{className:"absolute top-4 right-4 sm:top-6 sm:right-6 z-20",children:i.jsx(eo,{to:"/login",className:"text-white text-sm sm:text-base hover:underline transition",children:"Log In / Sign Up"})}),i.jsx("div",{className:"h-4 sm:h-6 md:h-8 lg:h-10"}),i.jsxs("div",{className:"max-w-6xl mx-auto relative z-10",children:[i.jsx("div",{className:"py-2 sm:py-4 px-2 sm:px-4 mb-6 sm:mb-8 lg:mb-12",children:i.jsxs("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl text-left leading-tight font-semibold text-white",children:[i.jsx("span",{className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl xl:text-8xl",children:"smshed.com"}),i.jsx("br",{}),i.jsx("span",{className:"block mt-4 sm:mt-6 md:mt-8 lg:mt-10 text-sm sm:text-lg md:text-xl lg:text-2xl xl:text-3xl",children:"An incredible companion from 1 dollar"})]})}),i.jsx(yO,{}),i.jsx("div",{className:"flex justify-center mb-4 sm:mb-6 md:mb-8",children:i.jsx("div",{className:"w-48 h-48 sm:w-56 sm:h-56 md:w-64 md:h-64 lg:w-72 lg:h-72 xl:w-80 xl:h-80 rounded-xl sm:rounded-2xl overflow-hidden shadow-2xl",children:i.jsx("img",{src:"/lovable-uploads/a0c070ed-0290-4a71-b8bc-0f633f615b7d.png",alt:"AI companion",className:"w-full h-full object-cover object-top"})})}),i.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl sm:rounded-3xl p-4 sm:p-6 md:p-8",children:[i.jsx("h3",{className:"text-lg sm:text-xl md:text-2xl lg:text-3xl font-normal text-center mb-4 sm:mb-6 md:mb-8 px-2 sm:px-4 text-white",children:"Models online now"}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-3 md:gap-4 mb-6 sm:mb-8",children:o.map(f=>i.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg sm:rounded-xl p-1.5 sm:p-2 cursor-pointer transition-all duration-300 transform hover:scale-105",onClick:()=>h(f),children:[i.jsx("div",{className:"aspect-square rounded-lg sm:rounded-xl overflow-hidden mb-1 sm:mb-2",children:i.jsx("img",{src:f.image,alt:f.name,className:"w-full h-full object-cover object-top"})}),i.jsx("h4",{className:"text-sm font-normal text-white text-center mb-0.5 sm:mb-1 truncate px-1",children:f.name}),i.jsx("p",{className:"text-xs text-white/80 text-center truncate px-1",children:f.title})]},f.id))})]}),i.jsx("div",{className:"h-8 sm:h-12 md:h-16 lg:h-20"}),i.jsxs("div",{className:"mt-12 sm:mt-16 md:mt-20 mb-12 sm:mb-16 md:mb-20 text-center text-white/70 text-sm sm:text-base space-y-4 sm:space-y-6 px-2 sm:px-4",children:[i.jsxs("div",{className:"flex flex-wrap justify-center gap-2 sm:gap-4",children:[i.jsx(eo,{to:"/privacy",className:"hover:underline",children:"Privacy"}),i.jsx(eo,{to:"/terms",className:"hover:underline",children:"Terms"}),i.jsx(eo,{to:"/affiliate",className:"hover:underline",children:"Affiliate"})]}),i.jsx("div",{children:i.jsx(eo,{to:"/creator",className:"hover:underline",children:"Creator Application"})}),i.jsxs("div",{className:"break-words",children:["Support: ",i.jsx("a",{href:"mailto:hello@smshed.com",className:"hover:underline",children:"hello@smshed.com"})]})]})]})]})}const yO=()=>{const{userCount:e,isLoading:t}=s_();return t?i.jsx("div",{className:"flex justify-center mb-6 sm:mb-8 lg:mb-12",children:i.jsx("div",{className:"bg-green-500/20 backdrop-blur-sm border border-green-400/30 rounded-full px-3 sm:px-4 md:px-6 py-2 sm:py-3",children:i.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[i.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 bg-green-500 rounded-full animate-pulse"}),i.jsx("span",{className:"text-white text-sm sm:text-base md:text-lg",children:"Loading..."})]})})}):i.jsx("div",{className:"flex justify-center mb-6 sm:mb-8 lg:mb-12",children:i.jsx("div",{className:"bg-green-500/20 backdrop-blur-sm border border-green-400/30 rounded-full px-3 sm:px-4 md:px-6 py-2 sm:py-3",children:i.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[i.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 bg-green-500 rounded-full animate-pulse"}),i.jsxs("span",{className:"text-white text-sm sm:text-base md:text-lg",children:[e.toLocaleString()," users online"]})]})})})},a0=()=>{const e=be(),t=n=>{e("/auth")};return i.jsx("div",{className:"min-h-screen font-inter relative overflow-x-hidden",style:{backgroundColor:"#F0EAFE",color:"#1F1F1F"},children:i.jsxs("div",{className:"relative z-10",children:[i.jsx(vO,{onProfileClick:t}),i.jsx("div",{className:"py-6 sm:py-8 md:py-12 bg-gradient-to-b from-purple-600/20 to-transparent",children:i.jsx("div",{className:"max-w-4xl mx-auto px-4",children:i.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-purple-300/50 to-transparent"})})}),i.jsx("section",{className:"relative py-8 sm:py-12 md:py-16 lg:py-24 px-4 overflow-hidden min-h-[50vh] sm:min-h-[60vh] bg-transparent",children:i.jsxs("div",{className:"max-w-6xl mx-auto relative z-10",children:[i.jsx("div",{className:"flex justify-center mb-3 sm:mb-4",children:[...Array(5)].map((n,r)=>i.jsx(Nd,{className:"w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6 text-yellow-400 fill-yellow-400 mx-0.5 sm:mx-1"},r))}),i.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-bold text-center mb-8 sm:mb-12 md:mb-16 lg:mb-20 text-gray-800",children:"Testimonials"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6 md:gap-8",children:[i.jsxs("div",{className:"bg-white/90 backdrop-blur-md border border-gray-200 rounded-xl sm:rounded-2xl p-4 sm:p-6 md:p-8 shadow-lg",children:[i.jsx("p",{className:"italic text-gray-800 text-base sm:text-lg md:text-xl leading-relaxed",children:'"It helped me stop feeling so alone."'}),i.jsx("p",{className:"text-gray-600 text-sm sm:text-base mt-3 sm:mt-4 font-medium",children:"— M, 34"})]}),i.jsxs("div",{className:"bg-white/90 backdrop-blur-md border border-gray-200 rounded-xl sm:rounded-2xl p-4 sm:p-6 md:p-8 shadow-lg",children:[i.jsx("p",{className:"italic text-gray-800 text-base sm:text-lg md:text-xl leading-relaxed",children:'"I chat every night before bed."'}),i.jsx("p",{className:"text-gray-600 text-sm sm:text-base mt-3 sm:mt-4 font-medium",children:"— Anonymous"})]}),i.jsxs("div",{className:"bg-white/90 backdrop-blur-md border border-gray-200 rounded-xl sm:rounded-2xl p-4 sm:p-6 md:p-8 shadow-lg",children:[i.jsx("p",{className:"italic text-gray-800 text-base sm:text-lg md:text-xl leading-relaxed",children:'"I found my self-worth again after been ghosted on dating apps"'}),i.jsx("p",{className:"text-gray-600 text-sm sm:text-base mt-3 sm:mt-4 font-medium",children:"— M, 23"})]}),i.jsxs("div",{className:"bg-white/90 backdrop-blur-md border border-gray-200 rounded-xl sm:rounded-2xl p-4 sm:p-6 md:p-8 shadow-lg",children:[i.jsx("p",{className:"italic text-gray-800 text-base sm:text-lg md:text-xl leading-relaxed",children:'"I love the multi-chat, I can speak to numerous girls at the same time. What a confidence boost"'}),i.jsx("p",{className:"text-gray-600 text-sm sm:text-base mt-3 sm:mt-4 font-medium",children:"— M, 34"})]})]})]})}),i.jsxs("footer",{className:"bg-transparent text-center py-4 sm:py-6 px-4 text-sm sm:text-base",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-2 sm:gap-4 mb-2 sm:mb-3",children:[i.jsx(L,{variant:"outline",size:"sm",onClick:()=>e("/terms-and-conditions"),className:"text-sm px-3 py-2 sm:px-4 sm:py-3",children:"Terms"}),i.jsx(L,{variant:"outline",size:"sm",onClick:()=>e("/privacy-policy"),className:"text-sm px-3 py-2 sm:px-4 sm:py-3",children:"Privacy"}),i.jsx(L,{variant:"outline",size:"sm",asChild:!0,className:"text-sm px-3 py-2 sm:px-4 sm:py-3",children:i.jsx("a",{href:"mailto:support@smshed.com",children:"Support"})})]}),i.jsx("div",{className:"text-sm sm:text-base px-2 leading-relaxed",children:"Get an incredible companion from 1 dollar"})]})]})})},fe=m.forwardRef(({className:e,type:t,...n},r)=>i.jsx("input",{type:t,className:Z("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));fe.displayName="Input";const G=m.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:Z("rounded-lg border bg-card text-card-foreground",e),...t}));G.displayName="Card";const oe=m.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:Z("flex flex-col space-y-1.5 p-6",e),...t}));oe.displayName="CardHeader";const ae=m.forwardRef(({className:e,...t},n)=>i.jsx("h3",{ref:n,className:Z("text-2xl font-semibold leading-none tracking-tight",e),...t}));ae.displayName="CardTitle";const mi=m.forwardRef(({className:e,...t},n)=>i.jsx("p",{ref:n,className:Z("text-sm text-muted-foreground",e),...t}));mi.displayName="CardDescription";const Y=m.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:Z("p-6 pt-0",e),...t}));Y.displayName="CardContent";const wO=m.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:Z("flex items-center p-6 pt-0",e),...t}));wO.displayName="CardFooter";function bO(e,t=[]){let n=[];function r(a,o){const l=m.createContext(o),c=n.length;n=[...n,o];function u(h){const{scope:f,children:g,...v}=h,x=(f==null?void 0:f[e][c])||l,b=m.useMemo(()=>v,Object.values(v));return i.jsx(x.Provider,{value:b,children:g})}function d(h,f){const g=(f==null?void 0:f[e][c])||l,v=m.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=n.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,jO(s,...t)]}function jO(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var SO=mb.useId||(()=>{}),_O=0;function Zn(e){const[t,n]=m.useState(SO());return it(()=>{e||n(r=>r??String(_O++))},[e]),e||(t?`radix-${t}`:"")}var NO=m.createContext(void 0);function Tl(e){const t=m.useContext(NO);return e||t||"ltr"}var Wh="rovingFocusGroup.onEntryFocus",kO={bubbles:!1,cancelable:!0},Cd="RovingFocusGroup",[Im,i_,CO]=kl(Cd),[PO,Pd]=bO(Cd,[CO]),[EO,TO]=PO(Cd),a_=m.forwardRef((e,t)=>i.jsx(Im.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(Im.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(AO,{...e,ref:t})})}));a_.displayName=Cd;var AO=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,f=m.useRef(null),g=me(t,f),v=Tl(a),[x=null,b]=rr({prop:o,defaultProp:l,onChange:c}),[y,w]=m.useState(!1),p=ht(u),j=i_(n),S=m.useRef(!1),[_,N]=m.useState(0);return m.useEffect(()=>{const k=f.current;if(k)return k.addEventListener(Wh,p),()=>k.removeEventListener(Wh,p)},[p]),i.jsx(EO,{scope:n,orientation:r,dir:v,loop:s,currentTabStopId:x,onItemFocus:m.useCallback(k=>b(k),[b]),onItemShiftTab:m.useCallback(()=>w(!0),[]),onFocusableItemAdd:m.useCallback(()=>N(k=>k+1),[]),onFocusableItemRemove:m.useCallback(()=>N(k=>k-1),[]),children:i.jsx(ie.div,{tabIndex:y||_===0?-1:0,"data-orientation":r,...h,ref:g,style:{outline:"none",...e.style},onMouseDown:q(e.onMouseDown,()=>{S.current=!0}),onFocus:q(e.onFocus,k=>{const T=!S.current;if(k.target===k.currentTarget&&T&&!y){const D=new CustomEvent(Wh,kO);if(k.currentTarget.dispatchEvent(D),!D.defaultPrevented){const F=j().filter(R=>R.focusable),P=F.find(R=>R.active),U=F.find(R=>R.id===x),K=[P,U,...F].filter(Boolean).map(R=>R.ref.current);c_(K,d)}}S.current=!1}),onBlur:q(e.onBlur,()=>w(!1))})})}),o_="RovingFocusGroupItem",l_=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:a,...o}=e,l=Zn(),c=a||l,u=TO(o_,n),d=u.currentTabStopId===c,h=i_(n),{onFocusableItemAdd:f,onFocusableItemRemove:g}=u;return m.useEffect(()=>{if(r)return f(),()=>g()},[r,f,g]),i.jsx(Im.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:i.jsx(ie.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:q(e.onMouseDown,v=>{r?u.onItemFocus(c):v.preventDefault()}),onFocus:q(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:q(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const x=DO(v,u.orientation,u.dir);if(x!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let y=h().filter(w=>w.focusable).map(w=>w.ref.current);if(x==="last")y.reverse();else if(x==="prev"||x==="next"){x==="prev"&&y.reverse();const w=y.indexOf(v.currentTarget);y=u.loop?IO(y,w+1):y.slice(w+1)}setTimeout(()=>c_(y))}})})})});l_.displayName=o_;var RO={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function MO(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function DO(e,t,n){const r=MO(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return RO[r]}function c_(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function IO(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var u_=a_,d_=l_,Mg="Tabs",[OO,z7]=Ln(Mg,[Pd]),h_=Pd(),[LO,Dg]=OO(Mg),f_=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Tl(l),[h,f]=rr({prop:r,onChange:s,defaultProp:a});return i.jsx(LO,{scope:n,baseId:Zn(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:c,children:i.jsx(ie.div,{dir:d,"data-orientation":o,...u,ref:t})})});f_.displayName=Mg;var m_="TabsList",p_=m.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,a=Dg(m_,n),o=h_(n);return i.jsx(u_,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:i.jsx(ie.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});p_.displayName=m_;var g_="TabsTrigger",x_=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...a}=e,o=Dg(g_,n),l=h_(n),c=w_(o.baseId,r),u=b_(o.baseId,r),d=r===o.value;return i.jsx(d_,{asChild:!0,...l,focusable:!s,active:d,children:i.jsx(ie.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:q(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:q(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:q(e.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!s&&h&&o.onValueChange(r)})})})});x_.displayName=g_;var v_="TabsContent",y_=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:a,...o}=e,l=Dg(v_,n),c=w_(l.baseId,r),u=b_(l.baseId,r),d=r===l.value,h=m.useRef(d);return m.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),i.jsx(Fn,{present:s||d,children:({present:f})=>i.jsx(ie.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&a})})});y_.displayName=v_;function w_(e,t){return`${e}-trigger-${t}`}function b_(e,t){return`${e}-content-${t}`}var FO=f_,j_=p_,S_=x_,__=y_;const N_=FO,Ig=m.forwardRef(({className:e,...t},n)=>i.jsx(j_,{ref:n,className:Z("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ig.displayName=j_.displayName;const Nu=m.forwardRef(({className:e,...t},n)=>i.jsx(S_,{ref:n,className:Z("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Nu.displayName=S_.displayName;const Vs=m.forwardRef(({className:e,...t},n)=>i.jsx(__,{ref:n,className:Z("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Vs.displayName=__.displayName;var $O="Label",k_=m.forwardRef((e,t)=>i.jsx(ie.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));k_.displayName=$O;var C_=k_;const UO=_d("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ee=m.forwardRef(({className:e,...t},n)=>i.jsx(C_,{ref:n,className:Z(UO(),e),...t}));ee.displayName=C_.displayName;function Ed(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function Td(e){const[t,n]=m.useState(void 0);return it(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Og="Switch",[BO,W7]=Ln(Og),[VO,zO]=BO(Og),P_=m.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[f,g]=m.useState(null),v=me(t,p=>g(p)),x=m.useRef(!1),b=f?d||!!f.closest("form"):!0,[y=!1,w]=rr({prop:s,defaultProp:a,onChange:u});return i.jsxs(VO,{scope:n,checked:y,disabled:l,children:[i.jsx(ie.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":A_(y),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:v,onClick:q(e.onClick,p=>{w(j=>!j),b&&(x.current=p.isPropagationStopped(),x.current||p.stopPropagation())})}),b&&i.jsx(WO,{control:f,bubbles:!x.current,name:r,value:c,checked:y,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});P_.displayName=Og;var E_="SwitchThumb",T_=m.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=zO(E_,n);return i.jsx(ie.span,{"data-state":A_(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});T_.displayName=E_;var WO=e=>{const{control:t,checked:n,bubbles:r=!0,...s}=e,a=m.useRef(null),o=Ed(n),l=Td(t);return m.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&h){const f=new Event("click",{bubbles:r});h.call(c,n),c.dispatchEvent(f)}},[o,n,r]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function A_(e){return e?"checked":"unchecked"}var R_=P_,HO=T_;const Jr=m.forwardRef(({className:e,...t},n)=>i.jsx(R_,{className:Z("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:i.jsx(HO,{className:Z("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Jr.displayName=R_.displayName;const Hh=()=>{const e=be(),{signIn:t,signUp:n,user:r}=ve(),{toast:s}=Vt(),[a,o]=m.useState(!1);ct.useEffect(()=>{r&&e("/dashboard")},[r,e]);const[l,c]=m.useState({email:"",password:""}),[u,d]=m.useState({email:"",password:"",confirmPassword:"",displayName:""}),[h,f]=m.useState(!1),[g,v]=m.useState(!1),[x,b]=m.useState(!1),[y,w]=m.useState(!1),p=async S=>{if(S.preventDefault(),!y){s({title:"Terms Required",description:"You must accept the terms and conditions and confirm you are over 18 to continue",variant:"destructive"});return}if(!l.email||!l.password){s({title:"Error",description:"Please fill in all fields",variant:"destructive"});return}o(!0);const{error:_}=await t(l.email,l.password);_?s({title:"Login Failed",description:_.message,variant:"destructive"}):(localStorage.setItem("showDashboard","true"),s({title:"Welcome back!",description:"You have successfully logged in."}),e("/dashboard")),o(!1)},j=async S=>{var k;if(S.preventDefault(),!y){s({title:"Terms Required",description:"You must accept the terms and conditions and confirm you are over 18 to continue",variant:"destructive"});return}if(!u.email||!u.password||!u.confirmPassword||!u.displayName.trim()){s({title:"Error",description:"Please fill in all fields including your name",variant:"destructive"});return}if(u.password!==u.confirmPassword){s({title:"Error",description:"Passwords do not match",variant:"destructive"});return}if(u.password.length<6){s({title:"Error",description:"Password must be at least 6 characters long",variant:"destructive"});return}o(!0);const{data:_,error:N}=await n(u.email,u.password,u.displayName);N?N.message.includes("already registered")?s({title:"Account exists",description:"This email is already registered. Please try logging in instead.",variant:"destructive"}):s({title:"Signup Failed",description:N.message,variant:"destructive"}):(console.log("✅ Signup successful, user created:",(k=_==null?void 0:_.user)==null?void 0:k.id),localStorage.setItem("newUserRegistered","true"),s({title:"Account created!",description:"Welcome to Smshed! Your trial has been set up automatically."}),e("/welcome")),o(!1)};return i.jsx("main",{className:"min-h-screen bg-white flex items-center justify-center p-4 sm:p-6",children:i.jsxs("section",{className:"w-full max-w-sm mx-auto",children:[i.jsxs("header",{className:"text-center mb-8",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[i.jsx("img",{src:"/lovable-uploads/bef3cac1-a5bf-4359-9ea2-4d2c1032e69b.png",alt:"Smshed AI companion app logo - heart shaped icon representing love and connection",className:"h-12 w-auto",width:"48",height:"48"}),i.jsx("h1",{className:"text-3xl font-bold text-foreground tracking-tight",children:"smshed"})]}),i.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2 tracking-tight",children:"Welcome back"}),i.jsx("p",{className:"text-muted-foreground text-base",children:"Sign in to your account or create a new one"})]}),i.jsx(G,{className:"border-0 shadow-clean",children:i.jsxs(Y,{className:"pt-6 px-4 sm:px-6",children:[i.jsxs(N_,{defaultValue:"login",className:"w-full",children:[i.jsxs(Ig,{className:"grid w-full grid-cols-2 mb-6",children:[i.jsx(Nu,{value:"login",className:"text-sm font-medium",children:"Sign In"}),i.jsx(Nu,{value:"signup",className:"text-sm font-medium",children:"Sign Up"})]}),i.jsx(Vs,{value:"login",className:"space-y-0",children:i.jsxs("form",{onSubmit:p,className:"space-y-5",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ee,{htmlFor:"login-email",className:"text-sm font-medium text-foreground",children:"Email"}),i.jsx(fe,{id:"login-email",type:"email",placeholder:"Enter your email address",value:l.email,onChange:S=>c({...l,email:S.target.value}),className:"h-11 px-4 text-base border-input focus:border-ring focus:ring-1 focus:ring-ring transition-all"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ee,{htmlFor:"login-password",className:"text-sm font-medium text-foreground",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(fe,{id:"login-password",type:h?"text":"password",placeholder:"Enter your password",value:l.password,onChange:S=>c({...l,password:S.target.value}),className:"h-11 px-4 pr-10 text-base border-input focus:border-ring focus:ring-1 focus:ring-ring transition-all"}),i.jsx(L,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>f(!h),children:h?i.jsx(Uh,{className:"h-4 w-4 text-muted-foreground"}):i.jsx(Lc,{className:"h-4 w-4 text-muted-foreground"})})]})]}),i.jsxs("div",{className:"space-y-4 py-4 border-t border-border",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"text-sm text-foreground leading-relaxed",children:"I have read, understood and accept the terms and conditions."}),i.jsx("p",{className:"text-sm text-foreground leading-relaxed",children:"I confirm I am over the age of 18"})]}),i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("span",{className:`text-sm font-medium transition-colors ${y?"text-emerald-600":"text-destructive"}`,children:y?"Accept":"Decline"}),i.jsx(Jr,{checked:y,onCheckedChange:w,className:`transition-colors ${y?"data-[state=checked]:bg-emerald-600":"data-[state=unchecked]:bg-destructive"}`,"aria-label":"Accept terms and age confirmation"})]})})]}),i.jsx(L,{type:"submit",className:"w-full h-12 sm:h-11 text-base font-medium bg-primary hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed touch-manipulation",disabled:a||!y,children:a?"Signing in...":"Sign In"})]})}),i.jsx(Vs,{value:"signup",className:"space-y-0",children:i.jsxs("form",{onSubmit:j,className:"space-y-5",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ee,{htmlFor:"signup-name",className:"text-sm font-medium text-foreground",children:"Full Name"}),i.jsx(fe,{id:"signup-name",type:"text",placeholder:"Enter your full name",value:u.displayName,onChange:S=>d({...u,displayName:S.target.value}),className:"h-11 px-4 text-base border-input focus:border-ring focus:ring-1 focus:ring-ring transition-all"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ee,{htmlFor:"signup-email",className:"text-sm font-medium text-foreground",children:"Email"}),i.jsx(fe,{id:"signup-email",type:"email",placeholder:"Enter your email address",value:u.email,onChange:S=>d({...u,email:S.target.value}),className:"h-11 px-4 text-base border-input focus:border-ring focus:ring-1 focus:ring-ring transition-all"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ee,{htmlFor:"signup-password",className:"text-sm font-medium text-foreground",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(fe,{id:"signup-password",type:g?"text":"password",placeholder:"Create a password (min 6 characters)",value:u.password,onChange:S=>d({...u,password:S.target.value}),className:"h-11 px-4 pr-10 text-base border-input focus:border-ring focus:ring-1 focus:ring-ring transition-all"}),i.jsx(L,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>v(!g),children:g?i.jsx(Uh,{className:"h-4 w-4 text-muted-foreground"}):i.jsx(Lc,{className:"h-4 w-4 text-muted-foreground"})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ee,{htmlFor:"signup-confirm-password",className:"text-sm font-medium text-foreground",children:"Confirm Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(fe,{id:"signup-confirm-password",type:x?"text":"password",placeholder:"Confirm your password",value:u.confirmPassword,onChange:S=>d({...u,confirmPassword:S.target.value}),className:"h-11 px-4 pr-10 text-base border-input focus:border-ring focus:ring-1 focus:ring-ring transition-all"}),i.jsx(L,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>b(!x),children:x?i.jsx(Uh,{className:"h-4 w-4 text-muted-foreground"}):i.jsx(Lc,{className:"h-4 w-4 text-muted-foreground"})})]})]}),i.jsxs("div",{className:"space-y-4 py-4 border-t border-border",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"text-sm text-foreground leading-relaxed",children:"I have read, understood and accept the terms and conditions."}),i.jsx("p",{className:"text-sm text-foreground leading-relaxed",children:"I confirm I am over the age of 18"})]}),i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("span",{className:`text-sm font-medium transition-colors ${y?"text-emerald-600":"text-destructive"}`,children:y?"Accept":"Decline"}),i.jsx(Jr,{checked:y,onCheckedChange:w,className:`transition-colors ${y?"data-[state=checked]:bg-emerald-600":"data-[state=unchecked]:bg-destructive"}`,"aria-label":"Accept terms and age confirmation"})]})})]}),i.jsx(L,{type:"submit",className:"w-full h-12 sm:h-11 text-base font-medium bg-primary hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed touch-manipulation",disabled:a||!y,children:a?"Creating account...":"Create Account"})]})})]}),i.jsx("div",{className:"mt-8 pt-6 border-t border-border",children:i.jsxs("div",{className:"flex justify-center gap-6 text-center",children:[i.jsx(L,{variant:"link",onClick:()=>e("/terms-and-conditions"),className:"text-xs text-muted-foreground hover:text-foreground p-0 h-auto font-normal",children:"Terms of Service"}),i.jsx(L,{variant:"link",onClick:()=>e("/privacy-policy"),className:"text-xs text-muted-foreground hover:text-foreground p-0 h-auto font-normal",children:"Privacy Policy"})]})})]})})]})})};var Lg="Avatar",[qO,H7]=Ln(Lg),[KO,M_]=qO(Lg),D_=m.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,a]=m.useState("idle");return i.jsx(KO,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:i.jsx(ie.span,{...r,ref:t})})});D_.displayName=Lg;var I_="AvatarImage",O_=m.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...a}=e,o=M_(I_,n),l=GO(r,a.referrerPolicy),c=ht(u=>{s(u),o.onImageLoadingStatusChange(u)});return it(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(ie.img,{...a,ref:t,src:r}):null});O_.displayName=I_;var L_="AvatarFallback",F_=m.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,a=M_(L_,n),[o,l]=m.useState(r===void 0);return m.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&a.imageLoadingStatus!=="loaded"?i.jsx(ie.span,{...s,ref:t}):null});F_.displayName=L_;function GO(e,t){const[n,r]=m.useState("idle");return it(()=>{if(!e){r("error");return}let s=!0;const a=new window.Image,o=l=>()=>{s&&r(l)};return r("loading"),a.onload=o("loaded"),a.onerror=o("error"),a.src=e,t&&(a.referrerPolicy=t),()=>{s=!1}},[e,t]),n}var $_=D_,U_=O_,B_=F_;const ku=m.forwardRef(({className:e,...t},n)=>i.jsx($_,{ref:n,className:Z("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full border-2 border-border/10 shadow-sm",e),...t}));ku.displayName=$_.displayName;const Cu=m.forwardRef(({className:e,...t},n)=>i.jsx(U_,{ref:n,className:Z("aspect-square h-full w-full object-cover",e),style:{objectPosition:"center top"},...t}));Cu.displayName=U_.displayName;const Pu=m.forwardRef(({className:e,...t},n)=>i.jsx(B_,{ref:n,className:Z("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Pu.displayName=B_.displayName;var qh=0;function Fg(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??o0()),document.body.insertAdjacentElement("beforeend",e[1]??o0()),qh++,()=>{qh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),qh--}},[])}function o0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Kh="focusScope.autoFocusOnMount",Gh="focusScope.autoFocusOnUnmount",l0={bubbles:!1,cancelable:!0},YO="FocusScope",Ad=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=e,[l,c]=m.useState(null),u=ht(s),d=ht(a),h=m.useRef(null),f=me(t,x=>c(x)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let x=function(p){if(g.paused||!l)return;const j=p.target;l.contains(j)?h.current=j:Or(h.current,{select:!0})},b=function(p){if(g.paused||!l)return;const j=p.relatedTarget;j!==null&&(l.contains(j)||Or(h.current,{select:!0}))},y=function(p){if(document.activeElement===document.body)for(const S of p)S.removedNodes.length>0&&Or(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",b);const w=new MutationObserver(y);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",b),w.disconnect()}}},[r,l,g.paused]),m.useEffect(()=>{if(l){u0.add(g);const x=document.activeElement;if(!l.contains(x)){const y=new CustomEvent(Kh,l0);l.addEventListener(Kh,u),l.dispatchEvent(y),y.defaultPrevented||(QO(t5(V_(l)),{select:!0}),document.activeElement===x&&Or(l))}return()=>{l.removeEventListener(Kh,u),setTimeout(()=>{const y=new CustomEvent(Gh,l0);l.addEventListener(Gh,d),l.dispatchEvent(y),y.defaultPrevented||Or(x??document.body,{select:!0}),l.removeEventListener(Gh,d),u0.remove(g)},0)}}},[l,u,d,g]);const v=m.useCallback(x=>{if(!n&&!r||g.paused)return;const b=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,y=document.activeElement;if(b&&y){const w=x.currentTarget,[p,j]=XO(w);p&&j?!x.shiftKey&&y===j?(x.preventDefault(),n&&Or(p,{select:!0})):x.shiftKey&&y===p&&(x.preventDefault(),n&&Or(j,{select:!0})):y===w&&x.preventDefault()}},[n,r,g.paused]);return i.jsx(ie.div,{tabIndex:-1,...o,ref:f,onKeyDown:v})});Ad.displayName=YO;function QO(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Or(r,{select:t}),document.activeElement!==n)return}function XO(e){const t=V_(e),n=c0(t,e),r=c0(t.reverse(),e);return[n,r]}function V_(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function c0(e,t){for(const n of e)if(!JO(n,{upTo:t}))return n}function JO(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ZO(e){return e instanceof HTMLInputElement&&"select"in e}function Or(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&ZO(e)&&t&&e.select()}}var u0=e5();function e5(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=d0(e,t),e.unshift(t)},remove(t){var n;e=d0(e,t),(n=e[0])==null||n.resume()}}}function d0(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function t5(e){return e.filter(t=>t.tagName!=="A")}const n5=["top","right","bottom","left"],hs=Math.min,Ht=Math.max,Eu=Math.round,dc=Math.floor,fs=e=>({x:e,y:e}),r5={left:"right",right:"left",bottom:"top",top:"bottom"},s5={start:"end",end:"start"};function Om(e,t,n){return Ht(e,hs(t,n))}function br(e,t){return typeof e=="function"?e(t):e}function jr(e){return e.split("-")[0]}function Ia(e){return e.split("-")[1]}function $g(e){return e==="x"?"y":"x"}function Ug(e){return e==="y"?"height":"width"}function ms(e){return["top","bottom"].includes(jr(e))?"y":"x"}function Bg(e){return $g(ms(e))}function i5(e,t,n){n===void 0&&(n=!1);const r=Ia(e),s=Bg(e),a=Ug(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Tu(o)),[o,Tu(o)]}function a5(e){const t=Tu(e);return[Lm(e),t,Lm(t)]}function Lm(e){return e.replace(/start|end/g,t=>s5[t])}function o5(e,t,n){const r=["left","right"],s=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?a:o;default:return[]}}function l5(e,t,n,r){const s=Ia(e);let a=o5(jr(e),n==="start",r);return s&&(a=a.map(o=>o+"-"+s),t&&(a=a.concat(a.map(Lm)))),a}function Tu(e){return e.replace(/left|right|bottom|top/g,t=>r5[t])}function c5(e){return{top:0,right:0,bottom:0,left:0,...e}}function z_(e){return typeof e!="number"?c5(e):{top:e,right:e,bottom:e,left:e}}function Au(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function h0(e,t,n){let{reference:r,floating:s}=e;const a=ms(t),o=Bg(t),l=Ug(o),c=jr(t),u=a==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,f=r[l]/2-s[l]/2;let g;switch(c){case"top":g={x:d,y:r.y-s.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:h};break;case"left":g={x:r.x-s.width,y:h};break;default:g={x:r.x,y:r.y}}switch(Ia(t)){case"start":g[o]-=f*(n&&u?-1:1);break;case"end":g[o]+=f*(n&&u?-1:1);break}return g}const u5=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=h0(u,r,c),f=r,g={},v=0;for(let x=0;x<l.length;x++){const{name:b,fn:y}=l[x],{x:w,y:p,data:j,reset:S}=await y({x:d,y:h,initialPlacement:r,placement:f,strategy:s,middlewareData:g,rects:u,platform:o,elements:{reference:e,floating:t}});d=w??d,h=p??h,g={...g,[b]:{...g[b],...j}},S&&v<=50&&(v++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:h}=h0(u,f,c)),x=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:g}};async function il(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:g=0}=br(t,e),v=z_(g),b=l[f?h==="floating"?"reference":"floating":h],y=Au(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(b)))==null||n?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),w=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,p=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),j=await(a.isElement==null?void 0:a.isElement(p))?await(a.getScale==null?void 0:a.getScale(p))||{x:1,y:1}:{x:1,y:1},S=Au(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:p,strategy:c}):w);return{top:(y.top-S.top+v.top)/j.y,bottom:(S.bottom-y.bottom+v.bottom)/j.y,left:(y.left-S.left+v.left)/j.x,right:(S.right-y.right+v.right)/j.x}}const d5=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=br(e,t)||{};if(u==null)return{};const h=z_(d),f={x:n,y:r},g=Bg(s),v=Ug(g),x=await o.getDimensions(u),b=g==="y",y=b?"top":"left",w=b?"bottom":"right",p=b?"clientHeight":"clientWidth",j=a.reference[v]+a.reference[g]-f[g]-a.floating[v],S=f[g]-a.reference[g],_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let N=_?_[p]:0;(!N||!await(o.isElement==null?void 0:o.isElement(_)))&&(N=l.floating[p]||a.floating[v]);const k=j/2-S/2,T=N/2-x[v]/2-1,D=hs(h[y],T),F=hs(h[w],T),P=D,U=N-x[v]-F,$=N/2-x[v]/2+k,K=Om(P,$,U),R=!c.arrow&&Ia(s)!=null&&$!==K&&a.reference[v]/2-($<P?D:F)-x[v]/2<0,O=R?$<P?$-P:$-U:0;return{[g]:f[g]+O,data:{[g]:K,centerOffset:$-K-O,...R&&{alignmentOffset:O}},reset:R}}}),h5=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:x=!0,...b}=br(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const y=jr(s),w=ms(l),p=jr(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=f||(p||!x?[Tu(l)]:a5(l)),_=v!=="none";!f&&_&&S.push(...l5(l,x,v,j));const N=[l,...S],k=await il(t,b),T=[];let D=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&T.push(k[y]),h){const $=i5(s,o,j);T.push(k[$[0]],k[$[1]])}if(D=[...D,{placement:s,overflows:T}],!T.every($=>$<=0)){var F,P;const $=(((F=a.flip)==null?void 0:F.index)||0)+1,K=N[$];if(K)return{data:{index:$,overflows:D},reset:{placement:K}};let R=(P=D.filter(O=>O.overflows[0]<=0).sort((O,C)=>O.overflows[1]-C.overflows[1])[0])==null?void 0:P.placement;if(!R)switch(g){case"bestFit":{var U;const O=(U=D.filter(C=>{if(_){const M=ms(C.placement);return M===w||M==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(M=>M>0).reduce((M,E)=>M+E,0)]).sort((C,M)=>C[1]-M[1])[0])==null?void 0:U[0];O&&(R=O);break}case"initialPlacement":R=l;break}if(s!==R)return{reset:{placement:R}}}return{}}}};function f0(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function m0(e){return n5.some(t=>e[t]>=0)}const f5=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=br(e,t);switch(r){case"referenceHidden":{const a=await il(t,{...s,elementContext:"reference"}),o=f0(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:m0(o)}}}case"escaped":{const a=await il(t,{...s,altBoundary:!0}),o=f0(a,n.floating);return{data:{escapedOffsets:o,escaped:m0(o)}}}default:return{}}}}};async function m5(e,t){const{placement:n,platform:r,elements:s}=e,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=jr(n),l=Ia(n),c=ms(n)==="y",u=["left","top"].includes(o)?-1:1,d=a&&c?-1:1,h=br(t,e);let{mainAxis:f,crossAxis:g,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof v=="number"&&(g=l==="end"?v*-1:v),c?{x:g*d,y:f*u}:{x:f*u,y:g*d}}const p5=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:a,placement:o,middlewareData:l}=t,c=await m5(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}},g5=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:b=>{let{x:y,y:w}=b;return{x:y,y:w}}},...c}=br(e,t),u={x:n,y:r},d=await il(t,c),h=ms(jr(s)),f=$g(h);let g=u[f],v=u[h];if(a){const b=f==="y"?"top":"left",y=f==="y"?"bottom":"right",w=g+d[b],p=g-d[y];g=Om(w,g,p)}if(o){const b=h==="y"?"top":"left",y=h==="y"?"bottom":"right",w=v+d[b],p=v-d[y];v=Om(w,v,p)}const x=l.fn({...t,[f]:g,[h]:v});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[f]:a,[h]:o}}}}}},x5=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=br(e,t),d={x:n,y:r},h=ms(s),f=$g(h);let g=d[f],v=d[h];const x=br(l,t),b=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const p=f==="y"?"height":"width",j=a.reference[f]-a.floating[p]+b.mainAxis,S=a.reference[f]+a.reference[p]-b.mainAxis;g<j?g=j:g>S&&(g=S)}if(u){var y,w;const p=f==="y"?"width":"height",j=["top","left"].includes(jr(s)),S=a.reference[h]-a.floating[p]+(j&&((y=o.offset)==null?void 0:y[h])||0)+(j?0:b.crossAxis),_=a.reference[h]+a.reference[p]+(j?0:((w=o.offset)==null?void 0:w[h])||0)-(j?b.crossAxis:0);v<S?v=S:v>_&&(v=_)}return{[f]:g,[h]:v}}}},v5=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...u}=br(e,t),d=await il(t,u),h=jr(s),f=Ia(s),g=ms(s)==="y",{width:v,height:x}=a.floating;let b,y;h==="top"||h==="bottom"?(b=h,y=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=h,b=f==="end"?"top":"bottom");const w=x-d.top-d.bottom,p=v-d.left-d.right,j=hs(x-d[b],w),S=hs(v-d[y],p),_=!t.middlewareData.shift;let N=j,k=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(k=p),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(N=w),_&&!f){const D=Ht(d.left,0),F=Ht(d.right,0),P=Ht(d.top,0),U=Ht(d.bottom,0);g?k=v-2*(D!==0||F!==0?D+F:Ht(d.left,d.right)):N=x-2*(P!==0||U!==0?P+U:Ht(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:N});const T=await o.getDimensions(l.floating);return v!==T.width||x!==T.height?{reset:{rects:!0}}:{}}}};function Rd(){return typeof window<"u"}function Oa(e){return W_(e)?(e.nodeName||"").toLowerCase():"#document"}function Qt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ar(e){var t;return(t=(W_(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function W_(e){return Rd()?e instanceof Node||e instanceof Qt(e).Node:!1}function In(e){return Rd()?e instanceof Element||e instanceof Qt(e).Element:!1}function ir(e){return Rd()?e instanceof HTMLElement||e instanceof Qt(e).HTMLElement:!1}function p0(e){return!Rd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Qt(e).ShadowRoot}function Al(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=On(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function y5(e){return["table","td","th"].includes(Oa(e))}function Md(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Vg(e){const t=zg(),n=In(e)?On(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function w5(e){let t=ps(e);for(;ir(t)&&!_a(t);){if(Vg(t))return t;if(Md(t))return null;t=ps(t)}return null}function zg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function _a(e){return["html","body","#document"].includes(Oa(e))}function On(e){return Qt(e).getComputedStyle(e)}function Dd(e){return In(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ps(e){if(Oa(e)==="html")return e;const t=e.assignedSlot||e.parentNode||p0(e)&&e.host||ar(e);return p0(t)?t.host:t}function H_(e){const t=ps(e);return _a(t)?e.ownerDocument?e.ownerDocument.body:e.body:ir(t)&&Al(t)?t:H_(t)}function al(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=H_(e),a=s===((r=e.ownerDocument)==null?void 0:r.body),o=Qt(s);if(a){const l=Fm(o);return t.concat(o,o.visualViewport||[],Al(s)?s:[],l&&n?al(l):[])}return t.concat(s,al(s,[],n))}function Fm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function q_(e){const t=On(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=ir(e),a=s?e.offsetWidth:n,o=s?e.offsetHeight:r,l=Eu(n)!==a||Eu(r)!==o;return l&&(n=a,r=o),{width:n,height:r,$:l}}function Wg(e){return In(e)?e:e.contextElement}function ta(e){const t=Wg(e);if(!ir(t))return fs(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:a}=q_(t);let o=(a?Eu(n.width):n.width)/r,l=(a?Eu(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const b5=fs(0);function K_(e){const t=Qt(e);return!zg()||!t.visualViewport?b5:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function j5(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Qt(e)?!1:t}function ii(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=Wg(e);let o=fs(1);t&&(r?In(r)&&(o=ta(r)):o=ta(e));const l=j5(a,n,r)?K_(a):fs(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(a){const f=Qt(a),g=r&&In(r)?Qt(r):r;let v=f,x=Fm(v);for(;x&&r&&g!==v;){const b=ta(x),y=x.getBoundingClientRect(),w=On(x),p=y.left+(x.clientLeft+parseFloat(w.paddingLeft))*b.x,j=y.top+(x.clientTop+parseFloat(w.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,h*=b.y,c+=p,u+=j,v=Qt(x),x=Fm(v)}}return Au({width:d,height:h,x:c,y:u})}function S5(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const a=s==="fixed",o=ar(r),l=t?Md(t.floating):!1;if(r===o||l&&a)return n;let c={scrollLeft:0,scrollTop:0},u=fs(1);const d=fs(0),h=ir(r);if((h||!h&&!a)&&((Oa(r)!=="body"||Al(o))&&(c=Dd(r)),ir(r))){const f=ii(r);u=ta(r),d.x=f.x+r.clientLeft,d.y=f.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x,y:n.y*u.y-c.scrollTop*u.y+d.y}}function _5(e){return Array.from(e.getClientRects())}function $m(e,t){const n=Dd(e).scrollLeft;return t?t.left+n:ii(ar(e)).left+n}function N5(e){const t=ar(e),n=Dd(e),r=e.ownerDocument.body,s=Ht(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Ht(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+$m(e);const l=-n.scrollTop;return On(r).direction==="rtl"&&(o+=Ht(t.clientWidth,r.clientWidth)-s),{width:s,height:a,x:o,y:l}}function k5(e,t){const n=Qt(e),r=ar(e),s=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,l=0,c=0;if(s){a=s.width,o=s.height;const u=zg();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:o,x:l,y:c}}function C5(e,t){const n=ii(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,a=ir(e)?ta(e):fs(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=r*a.y;return{width:o,height:l,x:c,y:u}}function g0(e,t,n){let r;if(t==="viewport")r=k5(e,n);else if(t==="document")r=N5(ar(e));else if(In(t))r=C5(t,n);else{const s=K_(e);r={...t,x:t.x-s.x,y:t.y-s.y}}return Au(r)}function G_(e,t){const n=ps(e);return n===t||!In(n)||_a(n)?!1:On(n).position==="fixed"||G_(n,t)}function P5(e,t){const n=t.get(e);if(n)return n;let r=al(e,[],!1).filter(l=>In(l)&&Oa(l)!=="body"),s=null;const a=On(e).position==="fixed";let o=a?ps(e):e;for(;In(o)&&!_a(o);){const l=On(o),c=Vg(o);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Al(o)&&!c&&G_(e,o))?r=r.filter(d=>d!==o):s=l,o=ps(o)}return t.set(e,r),r}function E5(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?Md(t)?[]:P5(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,d)=>{const h=g0(t,d,s);return u.top=Ht(h.top,u.top),u.right=hs(h.right,u.right),u.bottom=hs(h.bottom,u.bottom),u.left=Ht(h.left,u.left),u},g0(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function T5(e){const{width:t,height:n}=q_(e);return{width:t,height:n}}function A5(e,t,n){const r=ir(t),s=ar(t),a=n==="fixed",o=ii(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=fs(0);if(r||!r&&!a)if((Oa(t)!=="body"||Al(s))&&(l=Dd(t)),r){const g=ii(t,!0,a,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else s&&(c.x=$m(s));let u=0,d=0;if(s&&!r&&!a){const g=s.getBoundingClientRect();d=g.top+l.scrollTop,u=g.left+l.scrollLeft-$m(s,g)}const h=o.left+l.scrollLeft-c.x-u,f=o.top+l.scrollTop-c.y-d;return{x:h,y:f,width:o.width,height:o.height}}function Yh(e){return On(e).position==="static"}function x0(e,t){if(!ir(e)||On(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ar(e)===n&&(n=n.ownerDocument.body),n}function Y_(e,t){const n=Qt(e);if(Md(e))return n;if(!ir(e)){let s=ps(e);for(;s&&!_a(s);){if(In(s)&&!Yh(s))return s;s=ps(s)}return n}let r=x0(e,t);for(;r&&y5(r)&&Yh(r);)r=x0(r,t);return r&&_a(r)&&Yh(r)&&!Vg(r)?n:r||w5(e)||n}const R5=async function(e){const t=this.getOffsetParent||Y_,n=this.getDimensions,r=await n(e.floating);return{reference:A5(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function M5(e){return On(e).direction==="rtl"}const D5={convertOffsetParentRelativeRectToViewportRelativeRect:S5,getDocumentElement:ar,getClippingRect:E5,getOffsetParent:Y_,getElementRects:R5,getClientRects:_5,getDimensions:T5,getScale:ta,isElement:In,isRTL:M5};function I5(e,t){let n=null,r;const s=ar(e);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const{left:u,top:d,width:h,height:f}=e.getBoundingClientRect();if(l||t(),!h||!f)return;const g=dc(d),v=dc(s.clientWidth-(u+h)),x=dc(s.clientHeight-(d+f)),b=dc(u),w={rootMargin:-g+"px "+-v+"px "+-x+"px "+-b+"px",threshold:Ht(0,hs(1,c))||1};let p=!0;function j(S){const _=S[0].intersectionRatio;if(_!==c){if(!p)return o();_?o(!1,_):r=setTimeout(()=>{o(!1,1e-7)},1e3)}p=!1}try{n=new IntersectionObserver(j,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(j,w)}n.observe(e)}return o(!0),a}function O5(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Wg(e),d=s||a?[...u?al(u):[],...al(t)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),a&&y.addEventListener("resize",n)});const h=u&&l?I5(u,n):null;let f=-1,g=null;o&&(g=new ResizeObserver(y=>{let[w]=y;w&&w.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var p;(p=g)==null||p.observe(t)})),n()}),u&&!c&&g.observe(u),g.observe(t));let v,x=c?ii(e):null;c&&b();function b(){const y=ii(e);x&&(y.x!==x.x||y.y!==x.y||y.width!==x.width||y.height!==x.height)&&n(),x=y,v=requestAnimationFrame(b)}return n(),()=>{var y;d.forEach(w=>{s&&w.removeEventListener("scroll",n),a&&w.removeEventListener("resize",n)}),h==null||h(),(y=g)==null||y.disconnect(),g=null,c&&cancelAnimationFrame(v)}}const L5=p5,F5=g5,$5=h5,U5=v5,B5=f5,v0=d5,V5=x5,z5=(e,t,n)=>{const r=new Map,s={platform:D5,...n},a={...s.platform,_c:r};return u5(e,t,{...s,platform:a})};var Fc=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Ru(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Ru(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(!(a==="_owner"&&e.$$typeof)&&!Ru(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Q_(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function y0(e,t){const n=Q_(e);return Math.round(t*n)/n}function Qh(e){const t=m.useRef(e);return Fc(()=>{t.current=e}),t}function W5(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,g]=m.useState(r);Ru(f,r)||g(r);const[v,x]=m.useState(null),[b,y]=m.useState(null),w=m.useCallback(C=>{C!==_.current&&(_.current=C,x(C))},[]),p=m.useCallback(C=>{C!==N.current&&(N.current=C,y(C))},[]),j=a||v,S=o||b,_=m.useRef(null),N=m.useRef(null),k=m.useRef(d),T=c!=null,D=Qh(c),F=Qh(s),P=Qh(u),U=m.useCallback(()=>{if(!_.current||!N.current)return;const C={placement:t,strategy:n,middleware:f};F.current&&(C.platform=F.current),z5(_.current,N.current,C).then(M=>{const E={...M,isPositioned:P.current!==!1};$.current&&!Ru(k.current,E)&&(k.current=E,di.flushSync(()=>{h(E)}))})},[f,t,n,F,P]);Fc(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,h(C=>({...C,isPositioned:!1})))},[u]);const $=m.useRef(!1);Fc(()=>($.current=!0,()=>{$.current=!1}),[]),Fc(()=>{if(j&&(_.current=j),S&&(N.current=S),j&&S){if(D.current)return D.current(j,S,U);U()}},[j,S,U,D,T]);const K=m.useMemo(()=>({reference:_,floating:N,setReference:w,setFloating:p}),[w,p]),R=m.useMemo(()=>({reference:j,floating:S}),[j,S]),O=m.useMemo(()=>{const C={position:n,left:0,top:0};if(!R.floating)return C;const M=y0(R.floating,d.x),E=y0(R.floating,d.y);return l?{...C,transform:"translate("+M+"px, "+E+"px)",...Q_(R.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:M,top:E}},[n,l,R.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:U,refs:K,elements:R,floatingStyles:O}),[d,U,K,R,O])}const H5=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?v0({element:r.current,padding:s}).fn(n):{}:r?v0({element:r,padding:s}).fn(n):{}}}},q5=(e,t)=>({...L5(e),options:[e,t]}),K5=(e,t)=>({...F5(e),options:[e,t]}),G5=(e,t)=>({...V5(e),options:[e,t]}),Y5=(e,t)=>({...$5(e),options:[e,t]}),Q5=(e,t)=>({...U5(e),options:[e,t]}),X5=(e,t)=>({...B5(e),options:[e,t]}),J5=(e,t)=>({...H5(e),options:[e,t]});var Z5="Arrow",X_=m.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...a}=e;return i.jsx(ie.svg,{...a,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});X_.displayName=Z5;var e3=X_;function t3(e,t=[]){let n=[];function r(a,o){const l=m.createContext(o),c=n.length;n=[...n,o];function u(h){const{scope:f,children:g,...v}=h,x=(f==null?void 0:f[e][c])||l,b=m.useMemo(()=>v,Object.values(v));return i.jsx(x.Provider,{value:b,children:g})}function d(h,f){const g=(f==null?void 0:f[e][c])||l,v=m.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=n.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,n3(s,...t)]}function n3(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var Hg="Popper",[J_,Id]=t3(Hg),[r3,Z_]=J_(Hg),eN=e=>{const{__scopePopper:t,children:n}=e,[r,s]=m.useState(null);return i.jsx(r3,{scope:t,anchor:r,onAnchorChange:s,children:n})};eN.displayName=Hg;var tN="PopperAnchor",nN=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,a=Z_(tN,n),o=m.useRef(null),l=me(t,o);return m.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:i.jsx(ie.div,{...s,ref:l})});nN.displayName=tN;var qg="PopperContent",[s3,i3]=J_(qg),rN=m.forwardRef((e,t)=>{var re,ye,z,X,ne,J;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:g="optimized",onPlaced:v,...x}=e,b=Z_(qg,n),[y,w]=m.useState(null),p=me(t,Se=>w(Se)),[j,S]=m.useState(null),_=Td(j),N=(_==null?void 0:_.width)??0,k=(_==null?void 0:_.height)??0,T=r+(a!=="center"?"-"+a:""),D=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},F=Array.isArray(u)?u:[u],P=F.length>0,U={padding:D,boundary:F.filter(o3),altBoundary:P},{refs:$,floatingStyles:K,placement:R,isPositioned:O,middlewareData:C}=W5({strategy:"fixed",placement:T,whileElementsMounted:(...Se)=>O5(...Se,{animationFrame:g==="always"}),elements:{reference:b.anchor},middleware:[q5({mainAxis:s+k,alignmentAxis:o}),c&&K5({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?G5():void 0,...U}),c&&Y5({...U}),Q5({...U,apply:({elements:Se,rects:Ke,availableWidth:at,availableHeight:_e})=>{const{width:Re,height:ft}=Ke.reference,xn=Se.floating.style;xn.setProperty("--radix-popper-available-width",`${at}px`),xn.setProperty("--radix-popper-available-height",`${_e}px`),xn.setProperty("--radix-popper-anchor-width",`${Re}px`),xn.setProperty("--radix-popper-anchor-height",`${ft}px`)}}),j&&J5({element:j,padding:l}),l3({arrowWidth:N,arrowHeight:k}),f&&X5({strategy:"referenceHidden",...U})]}),[M,E]=aN(R),A=ht(v);it(()=>{O&&(A==null||A())},[O,A]);const V=(re=C.arrow)==null?void 0:re.x,se=(ye=C.arrow)==null?void 0:ye.y,he=((z=C.arrow)==null?void 0:z.centerOffset)!==0,[Ce,je]=m.useState();return it(()=>{y&&je(window.getComputedStyle(y).zIndex)},[y]),i.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:O?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ce,"--radix-popper-transform-origin":[(X=C.transformOrigin)==null?void 0:X.x,(ne=C.transformOrigin)==null?void 0:ne.y].join(" "),...((J=C.hide)==null?void 0:J.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(s3,{scope:n,placedSide:M,onArrowChange:S,arrowX:V,arrowY:se,shouldHideArrow:he,children:i.jsx(ie.div,{"data-side":M,"data-align":E,...x,ref:p,style:{...x.style,animation:O?void 0:"none"}})})})});rN.displayName=qg;var sN="PopperArrow",a3={top:"bottom",right:"left",bottom:"top",left:"right"},iN=m.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,a=i3(sN,r),o=a3[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(e3,{...s,ref:n,style:{...s.style,display:"block"}})})});iN.displayName=sN;function o3(e){return e!==null}var l3=e=>({name:"transformOrigin",options:e,fn(t){var b,y,w;const{placement:n,rects:r,middlewareData:s}=t,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=aN(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,g=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let v="",x="";return u==="bottom"?(v=o?h:`${f}px`,x=`${-c}px`):u==="top"?(v=o?h:`${f}px`,x=`${r.floating.height+c}px`):u==="right"?(v=`${-c}px`,x=o?h:`${g}px`):u==="left"&&(v=`${r.floating.width+c}px`,x=o?h:`${g}px`),{data:{x:v,y:x}}}});function aN(e){const[t,n="center"]=e.split("-");return[t,n]}var oN=eN,lN=nN,cN=rN,uN=iN,c3=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},_i=new WeakMap,hc=new WeakMap,fc={},Xh=0,dN=function(e){return e&&(e.host||dN(e.parentNode))},u3=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=dN(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},d3=function(e,t,n,r){var s=u3(t,Array.isArray(e)?e:[e]);fc[n]||(fc[n]=new WeakMap);var a=fc[n],o=[],l=new Set,c=new Set(s),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))d(f);else try{var g=f.getAttribute(r),v=g!==null&&g!=="false",x=(_i.get(f)||0)+1,b=(a.get(f)||0)+1;_i.set(f,x),a.set(f,b),o.push(f),x===1&&v&&hc.set(f,!0),b===1&&f.setAttribute(n,"true"),v||f.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return d(t),l.clear(),Xh++,function(){o.forEach(function(h){var f=_i.get(h)-1,g=a.get(h)-1;_i.set(h,f),a.set(h,g),f||(hc.has(h)||h.removeAttribute(r),hc.delete(h)),g||h.removeAttribute(n)}),Xh--,Xh||(_i=new WeakMap,_i=new WeakMap,hc=new WeakMap,fc={})}},Kg=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=c3(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),d3(r,s,n,"aria-hidden")):function(){return null}},Gn=function(){return Gn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Gn.apply(this,arguments)};function hN(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function h3(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var $c="right-scroll-bar-position",Uc="width-before-scroll-bar",f3="with-scroll-bars-hidden",m3="--removed-body-scroll-bar-size";function Jh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function p3(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var g3=typeof window<"u"?m.useLayoutEffect:m.useEffect,w0=new WeakMap;function x3(e,t){var n=p3(null,function(r){return e.forEach(function(s){return Jh(s,r)})});return g3(function(){var r=w0.get(n);if(r){var s=new Set(r),a=new Set(e),o=n.current;s.forEach(function(l){a.has(l)||Jh(l,null)}),a.forEach(function(l){s.has(l)||Jh(l,o)})}w0.set(n,e)},[e]),n}function v3(e){return e}function y3(e,t){t===void 0&&(t=v3);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function w3(e){e===void 0&&(e={});var t=y3(null);return t.options=Gn({async:!0,ssr:!1},e),t}var fN=function(e){var t=e.sideCar,n=hN(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,Gn({},n))};fN.isSideCarExport=!0;function b3(e,t){return e.useMedium(t),fN}var mN=w3(),Zh=function(){},Od=m.forwardRef(function(e,t){var n=m.useRef(null),r=m.useState({onScrollCapture:Zh,onWheelCapture:Zh,onTouchMoveCapture:Zh}),s=r[0],a=r[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,g=e.noIsolation,v=e.inert,x=e.allowPinchZoom,b=e.as,y=b===void 0?"div":b,w=e.gapMode,p=hN(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=f,S=x3([n,t]),_=Gn(Gn({},p),s);return m.createElement(m.Fragment,null,d&&m.createElement(j,{sideCar:mN,removeScrollBar:u,shards:h,noIsolation:g,inert:v,setCallbacks:a,allowPinchZoom:!!x,lockRef:n,gapMode:w}),o?m.cloneElement(m.Children.only(l),Gn(Gn({},_),{ref:S})):m.createElement(y,Gn({},_,{className:c,ref:S}),l))});Od.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Od.classNames={fullWidth:Uc,zeroRight:$c};var j3=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function S3(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=j3();return t&&e.setAttribute("nonce",t),e}function _3(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function N3(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var k3=function(){var e=0,t=null;return{add:function(n){e==0&&(t=S3())&&(_3(t,n),N3(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},C3=function(){var e=k3();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},pN=function(){var e=C3(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},P3={left:0,top:0,right:0,gap:0},ef=function(e){return parseInt(e||"",10)||0},E3=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[ef(n),ef(r),ef(s)]},T3=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return P3;var t=E3(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},A3=pN(),na="data-scroll-locked",R3=function(e,t,n,r){var s=e.left,a=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(f3,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(na,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($c,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Uc,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat($c," .").concat($c,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Uc," .").concat(Uc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(na,`] {
    `).concat(m3,": ").concat(l,`px;
  }
`)},b0=function(){var e=parseInt(document.body.getAttribute(na)||"0",10);return isFinite(e)?e:0},M3=function(){m.useEffect(function(){return document.body.setAttribute(na,(b0()+1).toString()),function(){var e=b0()-1;e<=0?document.body.removeAttribute(na):document.body.setAttribute(na,e.toString())}},[])},D3=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;M3();var a=m.useMemo(function(){return T3(s)},[s]);return m.createElement(A3,{styles:R3(a,!t,s,n?"":"!important")})},Um=!1;if(typeof window<"u")try{var mc=Object.defineProperty({},"passive",{get:function(){return Um=!0,!0}});window.addEventListener("test",mc,mc),window.removeEventListener("test",mc,mc)}catch{Um=!1}var Ni=Um?{passive:!1}:!1,I3=function(e){return e.tagName==="TEXTAREA"},gN=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!I3(e)&&n[t]==="visible")},O3=function(e){return gN(e,"overflowY")},L3=function(e){return gN(e,"overflowX")},j0=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=xN(e,r);if(s){var a=vN(e,r),o=a[1],l=a[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},F3=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},$3=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},xN=function(e,t){return e==="v"?O3(t):L3(t)},vN=function(e,t){return e==="v"?F3(t):$3(t)},U3=function(e,t){return e==="h"&&t==="rtl"?-1:1},B3=function(e,t,n,r,s){var a=U3(e,window.getComputedStyle(t).direction),o=a*r,l=n.target,c=t.contains(l),u=!1,d=o>0,h=0,f=0;do{var g=vN(e,l),v=g[0],x=g[1],b=g[2],y=x-b-a*v;(v||y)&&xN(e,l)&&(h+=y,f+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(f)<1||!s))&&(u=!0),u},pc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},S0=function(e){return[e.deltaX,e.deltaY]},_0=function(e){return e&&"current"in e?e.current:e},V3=function(e,t){return e[0]===t[0]&&e[1]===t[1]},z3=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},W3=0,ki=[];function H3(e){var t=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(W3++)[0],a=m.useState(pN)[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var x=h3([e.lockRef.current],(e.shards||[]).map(_0),!0).filter(Boolean);return x.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(x,b){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var y=pc(x),w=n.current,p="deltaX"in x?x.deltaX:w[0]-y[0],j="deltaY"in x?x.deltaY:w[1]-y[1],S,_=x.target,N=Math.abs(p)>Math.abs(j)?"h":"v";if("touches"in x&&N==="h"&&_.type==="range")return!1;var k=j0(N,_);if(!k)return!0;if(k?S=N:(S=N==="v"?"h":"v",k=j0(N,_)),!k)return!1;if(!r.current&&"changedTouches"in x&&(p||j)&&(r.current=S),!S)return!0;var T=r.current||S;return B3(T,b,x,T==="h"?p:j,!0)},[]),c=m.useCallback(function(x){var b=x;if(!(!ki.length||ki[ki.length-1]!==a)){var y="deltaY"in b?S0(b):pc(b),w=t.current.filter(function(S){return S.name===b.type&&(S.target===b.target||b.target===S.shadowParent)&&V3(S.delta,y)})[0];if(w&&w.should){b.cancelable&&b.preventDefault();return}if(!w){var p=(o.current.shards||[]).map(_0).filter(Boolean).filter(function(S){return S.contains(b.target)}),j=p.length>0?l(b,p[0]):!o.current.noIsolation;j&&b.cancelable&&b.preventDefault()}}},[]),u=m.useCallback(function(x,b,y,w){var p={name:x,delta:b,target:y,should:w,shadowParent:q3(y)};t.current.push(p),setTimeout(function(){t.current=t.current.filter(function(j){return j!==p})},1)},[]),d=m.useCallback(function(x){n.current=pc(x),r.current=void 0},[]),h=m.useCallback(function(x){u(x.type,S0(x),x.target,l(x,e.lockRef.current))},[]),f=m.useCallback(function(x){u(x.type,pc(x),x.target,l(x,e.lockRef.current))},[]);m.useEffect(function(){return ki.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Ni),document.addEventListener("touchmove",c,Ni),document.addEventListener("touchstart",d,Ni),function(){ki=ki.filter(function(x){return x!==a}),document.removeEventListener("wheel",c,Ni),document.removeEventListener("touchmove",c,Ni),document.removeEventListener("touchstart",d,Ni)}},[]);var g=e.removeScrollBar,v=e.inert;return m.createElement(m.Fragment,null,v?m.createElement(a,{styles:z3(s)}):null,g?m.createElement(D3,{gapMode:e.gapMode}):null)}function q3(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const K3=b3(mN,H3);var Ld=m.forwardRef(function(e,t){return m.createElement(Od,Gn({},e,{ref:t,sideCar:K3}))});Ld.classNames=Od.classNames;var Bm=["Enter"," "],G3=["ArrowDown","PageUp","Home"],yN=["ArrowUp","PageDown","End"],Y3=[...G3,...yN],Q3={ltr:[...Bm,"ArrowRight"],rtl:[...Bm,"ArrowLeft"]},X3={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Rl="Menu",[ol,J3,Z3]=kl(Rl),[pi,wN]=Ln(Rl,[Z3,Id,Pd]),Fd=Id(),bN=Pd(),[eL,gi]=pi(Rl),[tL,Ml]=pi(Rl),jN=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:a,modal:o=!0}=e,l=Fd(t),[c,u]=m.useState(null),d=m.useRef(!1),h=ht(a),f=Tl(s);return m.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),i.jsx(oN,{...l,children:i.jsx(eL,{scope:t,open:n,onOpenChange:h,content:c,onContentChange:u,children:i.jsx(tL,{scope:t,onClose:m.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:o,children:r})})})};jN.displayName=Rl;var nL="MenuAnchor",Gg=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Fd(n);return i.jsx(lN,{...s,...r,ref:t})});Gg.displayName=nL;var Yg="MenuPortal",[rL,SN]=pi(Yg,{forceMount:void 0}),_N=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,a=gi(Yg,t);return i.jsx(rL,{scope:t,forceMount:n,children:i.jsx(Fn,{present:n||a.open,children:i.jsx(Pl,{asChild:!0,container:s,children:r})})})};_N.displayName=Yg;var dn="MenuContent",[sL,Qg]=pi(dn),NN=m.forwardRef((e,t)=>{const n=SN(dn,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,a=gi(dn,e.__scopeMenu),o=Ml(dn,e.__scopeMenu);return i.jsx(ol.Provider,{scope:e.__scopeMenu,children:i.jsx(Fn,{present:r||a.open,children:i.jsx(ol.Slot,{scope:e.__scopeMenu,children:o.modal?i.jsx(iL,{...s,ref:t}):i.jsx(aL,{...s,ref:t})})})})}),iL=m.forwardRef((e,t)=>{const n=gi(dn,e.__scopeMenu),r=m.useRef(null),s=me(t,r);return m.useEffect(()=>{const a=r.current;if(a)return Kg(a)},[]),i.jsx(Xg,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:q(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),aL=m.forwardRef((e,t)=>{const n=gi(dn,e.__scopeMenu);return i.jsx(Xg,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Xg=m.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:g,disableOutsideScroll:v,...x}=e,b=gi(dn,n),y=Ml(dn,n),w=Fd(n),p=bN(n),j=J3(n),[S,_]=m.useState(null),N=m.useRef(null),k=me(t,N,b.onContentChange),T=m.useRef(0),D=m.useRef(""),F=m.useRef(0),P=m.useRef(null),U=m.useRef("right"),$=m.useRef(0),K=v?Ld:m.Fragment,R=v?{as:ds,allowPinchZoom:!0}:void 0,O=M=>{var re,ye;const E=D.current+M,A=j().filter(z=>!z.disabled),V=document.activeElement,se=(re=A.find(z=>z.ref.current===V))==null?void 0:re.textValue,he=A.map(z=>z.textValue),Ce=vL(he,E,se),je=(ye=A.find(z=>z.textValue===Ce))==null?void 0:ye.ref.current;(function z(X){D.current=X,window.clearTimeout(T.current),X!==""&&(T.current=window.setTimeout(()=>z(""),1e3))})(E),je&&setTimeout(()=>je.focus())};m.useEffect(()=>()=>window.clearTimeout(T.current),[]),Fg();const C=m.useCallback(M=>{var A,V;return U.current===((A=P.current)==null?void 0:A.side)&&wL(M,(V=P.current)==null?void 0:V.area)},[]);return i.jsx(sL,{scope:n,searchRef:D,onItemEnter:m.useCallback(M=>{C(M)&&M.preventDefault()},[C]),onItemLeave:m.useCallback(M=>{var E;C(M)||((E=N.current)==null||E.focus(),_(null))},[C]),onTriggerLeave:m.useCallback(M=>{C(M)&&M.preventDefault()},[C]),pointerGraceTimerRef:F,onPointerGraceIntentChange:m.useCallback(M=>{P.current=M},[]),children:i.jsx(K,{...R,children:i.jsx(Ad,{asChild:!0,trapped:s,onMountAutoFocus:q(a,M=>{var E;M.preventDefault(),(E=N.current)==null||E.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:i.jsx(Cl,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:g,children:i.jsx(u_,{asChild:!0,...p,dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:_,onEntryFocus:q(c,M=>{y.isUsingKeyboardRef.current||M.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(cN,{role:"menu","aria-orientation":"vertical","data-state":BN(b.open),"data-radix-menu-content":"",dir:y.dir,...w,...x,ref:k,style:{outline:"none",...x.style},onKeyDown:q(x.onKeyDown,M=>{const A=M.target.closest("[data-radix-menu-content]")===M.currentTarget,V=M.ctrlKey||M.altKey||M.metaKey,se=M.key.length===1;A&&(M.key==="Tab"&&M.preventDefault(),!V&&se&&O(M.key));const he=N.current;if(M.target!==he||!Y3.includes(M.key))return;M.preventDefault();const je=j().filter(re=>!re.disabled).map(re=>re.ref.current);yN.includes(M.key)&&je.reverse(),gL(je)}),onBlur:q(e.onBlur,M=>{M.currentTarget.contains(M.target)||(window.clearTimeout(T.current),D.current="")}),onPointerMove:q(e.onPointerMove,ll(M=>{const E=M.target,A=$.current!==M.clientX;if(M.currentTarget.contains(E)&&A){const V=M.clientX>$.current?"right":"left";U.current=V,$.current=M.clientX}}))})})})})})})});NN.displayName=dn;var oL="MenuGroup",Jg=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(ie.div,{role:"group",...r,ref:t})});Jg.displayName=oL;var lL="MenuLabel",kN=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(ie.div,{...r,ref:t})});kN.displayName=lL;var Mu="MenuItem",N0="menu.itemSelect",$d=m.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,a=m.useRef(null),o=Ml(Mu,e.__scopeMenu),l=Qg(Mu,e.__scopeMenu),c=me(t,a),u=m.useRef(!1),d=()=>{const h=a.current;if(!n&&h){const f=new CustomEvent(N0,{bubbles:!0,cancelable:!0});h.addEventListener(N0,g=>r==null?void 0:r(g),{once:!0}),kg(h,f),f.defaultPrevented?u.current=!1:o.onClose()}};return i.jsx(CN,{...s,ref:c,disabled:n,onClick:q(e.onClick,d),onPointerDown:h=>{var f;(f=e.onPointerDown)==null||f.call(e,h),u.current=!0},onPointerUp:q(e.onPointerUp,h=>{var f;u.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:q(e.onKeyDown,h=>{const f=l.searchRef.current!=="";n||f&&h.key===" "||Bm.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});$d.displayName=Mu;var CN=m.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...a}=e,o=Qg(Mu,n),l=bN(n),c=m.useRef(null),u=me(t,c),[d,h]=m.useState(!1),[f,g]=m.useState("");return m.useEffect(()=>{const v=c.current;v&&g((v.textContent??"").trim())},[a.children]),i.jsx(ol.ItemSlot,{scope:n,disabled:r,textValue:s??f,children:i.jsx(d_,{asChild:!0,...l,focusable:!r,children:i.jsx(ie.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:u,onPointerMove:q(e.onPointerMove,ll(v=>{r?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:q(e.onPointerLeave,ll(v=>o.onItemLeave(v))),onFocus:q(e.onFocus,()=>h(!0)),onBlur:q(e.onBlur,()=>h(!1))})})})}),cL="MenuCheckboxItem",PN=m.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return i.jsx(MN,{scope:e.__scopeMenu,checked:n,children:i.jsx($d,{role:"menuitemcheckbox","aria-checked":Du(n)?"mixed":n,...s,ref:t,"data-state":ex(n),onSelect:q(s.onSelect,()=>r==null?void 0:r(Du(n)?!0:!n),{checkForDefaultPrevented:!1})})})});PN.displayName=cL;var EN="MenuRadioGroup",[uL,dL]=pi(EN,{value:void 0,onValueChange:()=>{}}),TN=m.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,a=ht(r);return i.jsx(uL,{scope:e.__scopeMenu,value:n,onValueChange:a,children:i.jsx(Jg,{...s,ref:t})})});TN.displayName=EN;var AN="MenuRadioItem",RN=m.forwardRef((e,t)=>{const{value:n,...r}=e,s=dL(AN,e.__scopeMenu),a=n===s.value;return i.jsx(MN,{scope:e.__scopeMenu,checked:a,children:i.jsx($d,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":ex(a),onSelect:q(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});RN.displayName=AN;var Zg="MenuItemIndicator",[MN,hL]=pi(Zg,{checked:!1}),DN=m.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,a=hL(Zg,n);return i.jsx(Fn,{present:r||Du(a.checked)||a.checked===!0,children:i.jsx(ie.span,{...s,ref:t,"data-state":ex(a.checked)})})});DN.displayName=Zg;var fL="MenuSeparator",IN=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(ie.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});IN.displayName=fL;var mL="MenuArrow",ON=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Fd(n);return i.jsx(uN,{...s,...r,ref:t})});ON.displayName=mL;var pL="MenuSub",[q7,LN]=pi(pL),fo="MenuSubTrigger",FN=m.forwardRef((e,t)=>{const n=gi(fo,e.__scopeMenu),r=Ml(fo,e.__scopeMenu),s=LN(fo,e.__scopeMenu),a=Qg(fo,e.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>d,[d]),m.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),i.jsx(Gg,{asChild:!0,...u,children:i.jsx(CN,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":BN(n.open),...e,ref:wd(t,s.onTriggerChange),onClick:h=>{var f;(f=e.onClick)==null||f.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:q(e.onPointerMove,ll(h=>{a.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:q(e.onPointerLeave,ll(h=>{var g,v;d();const f=(g=n.content)==null?void 0:g.getBoundingClientRect();if(f){const x=(v=n.content)==null?void 0:v.dataset.side,b=x==="right",y=b?-5:5,w=f[b?"left":"right"],p=f[b?"right":"left"];a.onPointerGraceIntentChange({area:[{x:h.clientX+y,y:h.clientY},{x:w,y:f.top},{x:p,y:f.top},{x:p,y:f.bottom},{x:w,y:f.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(h),h.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:q(e.onKeyDown,h=>{var g;const f=a.searchRef.current!=="";e.disabled||f&&h.key===" "||Q3[r.dir].includes(h.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),h.preventDefault())})})})});FN.displayName=fo;var $N="MenuSubContent",UN=m.forwardRef((e,t)=>{const n=SN(dn,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,a=gi(dn,e.__scopeMenu),o=Ml(dn,e.__scopeMenu),l=LN($N,e.__scopeMenu),c=m.useRef(null),u=me(t,c);return i.jsx(ol.Provider,{scope:e.__scopeMenu,children:i.jsx(Fn,{present:r||a.open,children:i.jsx(ol.Slot,{scope:e.__scopeMenu,children:i.jsx(Xg,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:q(e.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:q(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:q(e.onKeyDown,d=>{var g;const h=d.currentTarget.contains(d.target),f=X3[o.dir].includes(d.key);h&&f&&(a.onOpenChange(!1),(g=l.trigger)==null||g.focus(),d.preventDefault())})})})})})});UN.displayName=$N;function BN(e){return e?"open":"closed"}function Du(e){return e==="indeterminate"}function ex(e){return Du(e)?"indeterminate":e?"checked":"unchecked"}function gL(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function xL(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function vL(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=xL(e,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function yL(e,t){const{x:n,y:r}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a].x,c=t[a].y,u=t[o].x,d=t[o].y;c>r!=d>r&&n<(u-l)*(r-c)/(d-c)+l&&(s=!s)}return s}function wL(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return yL(n,t)}function ll(e){return t=>t.pointerType==="mouse"?e(t):void 0}var bL=jN,jL=Gg,SL=_N,_L=NN,NL=Jg,kL=kN,CL=$d,PL=PN,EL=TN,TL=RN,AL=DN,RL=IN,ML=ON,DL=FN,IL=UN,tx="DropdownMenu",[OL,K7]=Ln(tx,[wN]),Mt=wN(),[LL,VN]=OL(tx),zN=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,c=Mt(t),u=m.useRef(null),[d=!1,h]=rr({prop:s,defaultProp:a,onChange:o});return i.jsx(LL,{scope:t,triggerId:Zn(),triggerRef:u,contentId:Zn(),open:d,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(f=>!f),[h]),modal:l,children:i.jsx(bL,{...c,open:d,onOpenChange:h,dir:r,modal:l,children:n})})};zN.displayName=tx;var WN="DropdownMenuTrigger",HN=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,a=VN(WN,n),o=Mt(n);return i.jsx(jL,{asChild:!0,...o,children:i.jsx(ie.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:wd(t,a.triggerRef),onPointerDown:q(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:q(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});HN.displayName=WN;var FL="DropdownMenuPortal",qN=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Mt(t);return i.jsx(SL,{...r,...n})};qN.displayName=FL;var KN="DropdownMenuContent",GN=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=VN(KN,n),a=Mt(n),o=m.useRef(!1);return i.jsx(_L,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...r,ref:t,onCloseAutoFocus:q(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:q(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});GN.displayName=KN;var $L="DropdownMenuGroup",UL=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Mt(n);return i.jsx(NL,{...s,...r,ref:t})});UL.displayName=$L;var BL="DropdownMenuLabel",YN=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Mt(n);return i.jsx(kL,{...s,...r,ref:t})});YN.displayName=BL;var VL="DropdownMenuItem",QN=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Mt(n);return i.jsx(CL,{...s,...r,ref:t})});QN.displayName=VL;var zL="DropdownMenuCheckboxItem",XN=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Mt(n);return i.jsx(PL,{...s,...r,ref:t})});XN.displayName=zL;var WL="DropdownMenuRadioGroup",HL=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Mt(n);return i.jsx(EL,{...s,...r,ref:t})});HL.displayName=WL;var qL="DropdownMenuRadioItem",JN=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Mt(n);return i.jsx(TL,{...s,...r,ref:t})});JN.displayName=qL;var KL="DropdownMenuItemIndicator",ZN=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Mt(n);return i.jsx(AL,{...s,...r,ref:t})});ZN.displayName=KL;var GL="DropdownMenuSeparator",ek=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Mt(n);return i.jsx(RL,{...s,...r,ref:t})});ek.displayName=GL;var YL="DropdownMenuArrow",QL=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Mt(n);return i.jsx(ML,{...s,...r,ref:t})});QL.displayName=YL;var XL="DropdownMenuSubTrigger",tk=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Mt(n);return i.jsx(DL,{...s,...r,ref:t})});tk.displayName=XL;var JL="DropdownMenuSubContent",nk=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Mt(n);return i.jsx(IL,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});nk.displayName=JL;var ZL=zN,eF=HN,tF=qN,rk=GN,sk=YN,ik=QN,ak=XN,ok=JN,lk=ZN,ck=ek,uk=tk,dk=nk;const hk=ZL,fk=eF,nF=m.forwardRef(({className:e,inset:t,children:n,...r},s)=>i.jsxs(uk,{ref:s,className:Z("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,i.jsx(OS,{className:"ml-auto h-4 w-4"})]}));nF.displayName=uk.displayName;const rF=m.forwardRef(({className:e,...t},n)=>i.jsx(dk,{ref:n,className:Z("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));rF.displayName=dk.displayName;const nx=m.forwardRef(({className:e,sideOffset:t=4,...n},r)=>i.jsx(tF,{children:i.jsx(rk,{ref:r,sideOffset:t,className:Z("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));nx.displayName=rk.displayName;const qn=m.forwardRef(({className:e,inset:t,...n},r)=>i.jsx(ik,{ref:r,className:Z("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));qn.displayName=ik.displayName;const sF=m.forwardRef(({className:e,children:t,checked:n,...r},s)=>i.jsxs(ak,{ref:s,className:Z("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(lk,{children:i.jsx(Sa,{className:"h-4 w-4"})})}),t]}));sF.displayName=ak.displayName;const iF=m.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(ok,{ref:r,className:Z("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(lk,{children:i.jsx(v4,{className:"h-2 w-2 fill-current"})})}),t]}));iF.displayName=ok.displayName;const aF=m.forwardRef(({className:e,inset:t,...n},r)=>i.jsx(sk,{ref:r,className:Z("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));aF.displayName=sk.displayName;const mk=m.forwardRef(({className:e,...t},n)=>i.jsx(ck,{ref:n,className:Z("-mx-1 my-1 h-px bg-muted",e),...t}));mk.displayName=ck.displayName;var rx="Dialog",[pk,gk]=Ln(rx),[oF,Un]=pk(rx),xk=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:o=!0}=e,l=m.useRef(null),c=m.useRef(null),[u=!1,d]=rr({prop:r,defaultProp:s,onChange:a});return i.jsx(oF,{scope:t,triggerRef:l,contentRef:c,contentId:Zn(),titleId:Zn(),descriptionId:Zn(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};xk.displayName=rx;var vk="DialogTrigger",yk=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Un(vk,n),a=me(t,s.triggerRef);return i.jsx(ie.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":ax(s.open),...r,ref:a,onClick:q(e.onClick,s.onOpenToggle)})});yk.displayName=vk;var sx="DialogPortal",[lF,wk]=pk(sx,{forceMount:void 0}),bk=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,a=Un(sx,t);return i.jsx(lF,{scope:t,forceMount:n,children:m.Children.map(r,o=>i.jsx(Fn,{present:n||a.open,children:i.jsx(Pl,{asChild:!0,container:s,children:o})}))})};bk.displayName=sx;var Iu="DialogOverlay",jk=m.forwardRef((e,t)=>{const n=wk(Iu,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=Un(Iu,e.__scopeDialog);return a.modal?i.jsx(Fn,{present:r||a.open,children:i.jsx(cF,{...s,ref:t})}):null});jk.displayName=Iu;var cF=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Un(Iu,n);return i.jsx(Ld,{as:ds,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(ie.div,{"data-state":ax(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),ai="DialogContent",Sk=m.forwardRef((e,t)=>{const n=wk(ai,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=Un(ai,e.__scopeDialog);return i.jsx(Fn,{present:r||a.open,children:a.modal?i.jsx(uF,{...s,ref:t}):i.jsx(dF,{...s,ref:t})})});Sk.displayName=ai;var uF=m.forwardRef((e,t)=>{const n=Un(ai,e.__scopeDialog),r=m.useRef(null),s=me(t,n.contentRef,r);return m.useEffect(()=>{const a=r.current;if(a)return Kg(a)},[]),i.jsx(_k,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:q(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:q(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:q(e.onFocusOutside,a=>a.preventDefault())})}),dF=m.forwardRef((e,t)=>{const n=Un(ai,e.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return i.jsx(_k,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),_k=m.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=e,l=Un(ai,n),c=m.useRef(null),u=me(t,c);return Fg(),i.jsxs(i.Fragment,{children:[i.jsx(Ad,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(Cl,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":ax(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(fF,{titleId:l.titleId}),i.jsx(pF,{contentRef:c,descriptionId:l.descriptionId})]})]})}),ix="DialogTitle",Nk=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Un(ix,n);return i.jsx(ie.h2,{id:s.titleId,...r,ref:t})});Nk.displayName=ix;var kk="DialogDescription",Ck=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Un(kk,n);return i.jsx(ie.p,{id:s.descriptionId,...r,ref:t})});Ck.displayName=kk;var Pk="DialogClose",Ek=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Un(Pk,n);return i.jsx(ie.button,{type:"button",...r,ref:t,onClick:q(e.onClick,()=>s.onOpenChange(!1))})});Ek.displayName=Pk;function ax(e){return e?"open":"closed"}var Tk="DialogTitleWarning",[hF,Ak]=CI(Tk,{contentName:ai,titleName:ix,docsSlug:"dialog"}),fF=({titleId:e})=>{const t=Ak(Tk),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},mF="DialogDescriptionWarning",pF=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ak(mF).contentName}}.`;return m.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Rk=xk,Mk=yk,Dk=bk,ox=jk,lx=Sk,cx=Nk,ux=Ck,dx=Ek,Ik="AlertDialog",[gF,G7]=Ln(Ik,[gk]),Cr=gk(),Ok=e=>{const{__scopeAlertDialog:t,...n}=e,r=Cr(t);return i.jsx(Rk,{...r,...n,modal:!0})};Ok.displayName=Ik;var xF="AlertDialogTrigger",Lk=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Cr(n);return i.jsx(Mk,{...s,...r,ref:t})});Lk.displayName=xF;var vF="AlertDialogPortal",Fk=e=>{const{__scopeAlertDialog:t,...n}=e,r=Cr(t);return i.jsx(Dk,{...r,...n})};Fk.displayName=vF;var yF="AlertDialogOverlay",$k=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Cr(n);return i.jsx(ox,{...s,...r,ref:t})});$k.displayName=yF;var ra="AlertDialogContent",[wF,bF]=gF(ra),Uk=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,a=Cr(n),o=m.useRef(null),l=me(t,o),c=m.useRef(null);return i.jsx(hF,{contentName:ra,titleName:Bk,docsSlug:"alert-dialog",children:i.jsx(wF,{scope:n,cancelRef:c,children:i.jsxs(lx,{role:"alertdialog",...a,...s,ref:l,onOpenAutoFocus:q(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsx(oS,{children:r}),i.jsx(SF,{contentRef:o})]})})})});Uk.displayName=ra;var Bk="AlertDialogTitle",Vk=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Cr(n);return i.jsx(cx,{...s,...r,ref:t})});Vk.displayName=Bk;var zk="AlertDialogDescription",Wk=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Cr(n);return i.jsx(ux,{...s,...r,ref:t})});Wk.displayName=zk;var jF="AlertDialogAction",Hk=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Cr(n);return i.jsx(dx,{...s,...r,ref:t})});Hk.displayName=jF;var qk="AlertDialogCancel",Kk=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=bF(qk,n),a=Cr(n),o=me(t,s);return i.jsx(dx,{...a,...r,ref:o})});Kk.displayName=qk;var SF=({contentRef:e})=>{const t=`\`${ra}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ra}\` by passing a \`${zk}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ra}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},_F=Ok,NF=Lk,kF=Fk,Gk=$k,Yk=Uk,Qk=Hk,Xk=Kk,Jk=Vk,Zk=Wk;const hx=_F,eC=NF,CF=kF,tC=m.forwardRef(({className:e,...t},n)=>i.jsx(Gk,{className:Z("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));tC.displayName=Gk.displayName;const Ud=m.forwardRef(({className:e,...t},n)=>i.jsxs(CF,{children:[i.jsx(tC,{}),i.jsx(Yk,{ref:n,className:Z("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Ud.displayName=Yk.displayName;const Bd=({className:e,...t})=>i.jsx("div",{className:Z("flex flex-col space-y-2 text-center sm:text-left",e),...t});Bd.displayName="AlertDialogHeader";const Vd=({className:e,...t})=>i.jsx("div",{className:Z("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Vd.displayName="AlertDialogFooter";const zd=m.forwardRef(({className:e,...t},n)=>i.jsx(Jk,{ref:n,className:Z("text-lg font-semibold",e),...t}));zd.displayName=Jk.displayName;const Wd=m.forwardRef(({className:e,...t},n)=>i.jsx(Zk,{ref:n,className:Z("text-sm text-muted-foreground",e),...t}));Wd.displayName=Zk.displayName;const nC=m.forwardRef(({className:e,...t},n)=>i.jsx(Qk,{ref:n,className:Z(Rg(),e),...t}));nC.displayName=Qk.displayName;const PF=m.forwardRef(({className:e,...t},n)=>i.jsx(Xk,{ref:n,className:Z(Rg({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));PF.displayName=Xk.displayName;Array(12).fill(0);ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ct.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"}));ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ct.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"}));ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ct.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"}));ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ct.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"}));var Vm=1,EF=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Vm++,a=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:n}),{...l,...e,id:s,dismissible:o,title:n}):l):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0;return r.then(async a=>{if(AF(a)&&!a.ok){s=!1;let o=typeof t.error=="function"?await t.error(`HTTP error! status: ${a.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${a.status}`):t.description;this.create({id:n,type:"error",message:o,description:l})}else if(t.success!==void 0){s=!1;let o=typeof t.success=="function"?await t.success(a):t.success,l=typeof t.description=="function"?await t.description(a):t.description;this.create({id:n,type:"success",message:o,description:l})}}).catch(async a=>{if(t.error!==void 0){s=!1;let o=typeof t.error=="function"?await t.error(a):t.error,l=typeof t.description=="function"?await t.description(a):t.description;this.create({id:n,type:"error",message:o,description:l})}}).finally(()=>{var a;s&&(this.dismiss(n),n=void 0),(a=t.finally)==null||a.call(t)}),n},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||Vm++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},wn=new EF,TF=(e,t)=>{let n=(t==null?void 0:t.id)||Vm++;return wn.addToast({title:e,...t,id:n}),n},AF=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",RF=TF,MF=()=>wn.toasts,H=Object.assign(RF,{success:wn.success,info:wn.info,warning:wn.warning,error:wn.error,custom:wn.custom,message:wn.message,promise:wn.promise,dismiss:wn.dismiss,loading:wn.loading},{getHistory:MF});function DF(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}DF(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);const La=()=>{const{user:e}=ve(),[t,n]=m.useState(null),[r,s]=m.useState(!0);return m.useEffect(()=>{(async()=>{if(!e){n(null),s(!1);return}try{console.log("🔍 Checking user role for:",e.id);const{data:u,error:d}=await I.rpc("has_role",{_user_id:e.id,_role:"admin"});if(d)throw console.error("Admin check error:",d),d;if(u)console.log("👑 User is admin"),n("admin");else{const{data:h,error:f}=await I.rpc("has_role",{_user_id:e.id,_role:"free_unlimited"});f&&console.error("Free unlimited check error:",f),console.log("🆓 Free unlimited check result:",h),n(h?"free_unlimited":"user")}}catch(u){console.error("Error checking user role:",u),n("user")}finally{s(!1)}})()},[e]),{role:t,isAdmin:t==="admin",isUser:t==="user",isFreeUnlimited:t==="free_unlimited",loading:r}},fx=()=>{const{user:e}=ve(),[t,n]=m.useState(0),[r,s]=m.useState(!0),[a,o]=m.useState(null),l=async()=>{if(!e){n(0),s(!1);return}try{s(!0),o(null);const{data:c,error:u}=await I.from("user_balances").select("balance").eq("user_id",e.id).maybeSingle();if(u){console.error("Error fetching user balance:",u),o("Failed to load balance");return}if(c)n(c.balance);else{const{data:d,error:h}=await I.from("user_balances").insert({user_id:e.id,balance:400}).select("balance").single();h?(console.error("Error creating user balance:",h),o("Failed to initialize balance"),n(400)):n(d.balance)}}catch(c){console.error("Error in fetchBalance:",c),o("Unexpected error occurred")}finally{s(!1)}};return m.useEffect(()=>{l()},[e]),m.useEffect(()=>{if(!e)return;const c=I.channel("user-balance-changes").on("postgres_changes",{event:"*",schema:"public",table:"user_balances",filter:`user_id=eq.${e.id}`},u=>{console.log("Balance updated:",u),u.new&&"balance"in u.new&&n(u.new.balance)}).subscribe();return()=>{I.removeChannel(c)}},[e]),{balance:t,loading:r,error:a}},IF=({chatId:e,companionId:t,companionName:n,onDeleted:r,isOpen:s,onClose:a})=>{const{user:o}=ve(),[l,c]=m.useState(!1),[u,d]=m.useState(!1);m.useState(!1);const h=s!==void 0?s:l,f=s!==void 0?v=>{!v&&a&&a()}:c,g=async()=>{if(!o){H.error("You must be logged in to close this chat");return}d(!0);try{console.log("Closing chat:",e,"for companion:",n);const{error:v}=await I.from("user_chats").delete().eq("id",e).eq("user_id",o.id);if(v)throw console.error("Error closing chat:",v),v;console.log("Chat closed successfully"),H.success(`Chat with ${n} closed`),f(!1),r&&r()}catch(v){console.error("Failed to close chat:",v),H.error("Failed to close chat. Please try again.")}finally{d(!1)}};return i.jsxs(hx,{open:h,onOpenChange:f,children:[s===void 0&&i.jsx(eC,{asChild:!0,children:i.jsx(L,{variant:"ghost",size:"sm",onClick:v=>v.stopPropagation(),className:"h-4 w-4 p-0 hover:bg-destructive hover:text-destructive-foreground",title:"Delete Options",children:i.jsx(Mn,{className:"h-2 w-2"})})}),i.jsxs(Ud,{children:[i.jsxs(Bd,{children:[i.jsxs(zd,{children:["Close chat with ",n]}),i.jsxs(Wd,{className:"space-y-3",children:[i.jsx("p",{children:"Are you sure you want to close this chat?"}),i.jsx("div",{className:"space-y-4",children:i.jsx("div",{className:"p-3 border rounded-md bg-muted/30",children:i.jsxs("p",{className:"text-sm text-muted-foreground",children:[n," will be removed from your current multichat. You can start a new conversation with them anytime."]})})})]})]}),i.jsx(Vd,{className:"flex-col space-y-2",children:i.jsxs("div",{className:"flex space-x-2 w-full",children:[i.jsx(L,{variant:"outline",onClick:g,disabled:u,className:"flex-1",children:u?"Closing...":"Close Chat"}),i.jsx(L,{variant:"ghost",onClick:()=>f(!1),disabled:u,className:"flex-1",children:"Cancel"})]})})]})]})},OF=({selectedChatId:e,onChatSelect:t,onNewChat:n,userProfile:r})=>{var E;const{user:s,signOut:a}=ve(),{isAdmin:o}=La();fx();const l=be(),[c,u]=m.useState([]),[d,h]=m.useState(!0),[f,g]=m.useState({}),[v,x]=m.useState(null),[b,y]=m.useState(!1),w=m.useRef(null),p=m.useRef(!1),j=m.useRef(0),S=m.useRef(null);m.useEffect(()=>{if(s){_();const A=T(),V=D();return()=>{A(),V(),w.current&&clearTimeout(w.current),S.current&&clearTimeout(S.current)}}},[s,o]);const _=async(A=0)=>{var V;if(s)try{const{data:se,error:he}=await I.from("user_chats").select("*").eq("user_id",s.id).eq("is_active",!0).order("updated_at",{ascending:!1});if(he){if(console.error("Error loading chats:",he),(V=he.message)!=null&&V.includes("Failed to fetch")&&A<3){console.log(`Retrying to load chats... Attempt ${A+1}`),setTimeout(()=>_(A+1),1e3*(A+1));return}H.error("Failed to load chats. Please check your connection.");return}const Ce=await Promise.all((se||[]).map(async je=>{const{count:re}=await I.from("chat_messages").select("*",{count:"exact",head:!0}).eq("user_chat_id",je.id).eq("is_user_message",!1).eq("is_read",!1),{data:ye}=await I.from("companion_models").select("name").eq("id",je.companion_id).maybeSingle();return{...je,unread_count:re||0,companion_models:ye?[{name:ye.name}]:[]}}));u(Ce),console.log("Loaded chats:",Ce.map(je=>({id:je.id,name:je.companion_name,unread:je.unread_count}))),N(Ce)}catch(se){console.error("Error loading chats:",se),H.error("Failed to load chats")}finally{h(!1)}},N=A=>{A.forEach(se=>{const he=f[se.id]||0;se.unread_count>he&&se.id!==e&&k(se.id)});const V={};A.forEach(se=>{V[se.id]=se.unread_count}),g(V)},k=A=>{setTimeout(()=>{const V=document.querySelector(`[data-chat-id="${A}"]`);V&&(V.scrollIntoView({behavior:"smooth",block:"center"}),V.classList.add("animate-pulse"),setTimeout(()=>{V.classList.remove("animate-pulse")},2e3))},100)},T=()=>{console.log(`🔄 Setting up ChatList realtime subscription for user: ${s==null?void 0:s.id}`);let A=null;const V=()=>{A&&clearTimeout(A),A=setTimeout(()=>{console.log("🔄 ChatList: Debounced loadChats triggered"),_()},500)},se=I.channel(`chat-list-messages-${s==null?void 0:s.id}-${Date.now()}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages",filter:`user_id=eq.${s==null?void 0:s.id}`},Ce=>{console.log(`📨 ChatList: New message for user ${s==null?void 0:s.id}:`,Ce),V()}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"chat_messages",filter:`user_id=eq.${s==null?void 0:s.id}`},Ce=>{console.log(`📝 ChatList: Message updated for user ${s==null?void 0:s.id}:`,Ce),V()}).subscribe(),he=I.channel(`user-chats-updates-${s==null?void 0:s.id}-${Date.now()}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"user_chats",filter:`user_id=eq.${s==null?void 0:s.id}`},Ce=>{console.log(`📝 ChatList: User chat updated for user ${s==null?void 0:s.id}:`,Ce),V()}).subscribe();return()=>{console.log(`🧹 ChatList: Cleaning up realtime subscriptions for user: ${s==null?void 0:s.id}`),A&&clearTimeout(A),I.removeChannel(se),I.removeChannel(he)}},D=()=>{const A=V=>{console.log("Messages marked as read, refreshing chat list:",V.detail),_()};return window.addEventListener("messagesMarkedAsRead",A),()=>{window.removeEventListener("messagesMarkedAsRead",A)}},F=()=>{_(),e&&t(""),x(null)},P=A=>{p.current=!1,w.current=setTimeout(()=>{p.current=!0,x(A),navigator.vibrate&&navigator.vibrate(50)},500)},U=()=>{w.current&&(clearTimeout(w.current),w.current=null)},$=A=>{if(!p.current){const V=Date.now(),se=V-j.current;S.current&&(clearTimeout(S.current),S.current=null),se<300?(console.log("Double click detected for chat:",A.companion_name),x(A),j.current=0):(j.current=V,S.current=setTimeout(()=>{O(A.id),S.current=null},300))}p.current=!1},K=async()=>{await a(),l("/auth")},R=A=>{l(A)},O=async A=>{if(A)try{const{error:V}=await I.from("chat_messages").update({is_read:!0}).eq("user_chat_id",A).eq("is_user_message",!1).eq("is_read",!1);V?console.error("Error marking messages as read:",V):(console.log(`Marked all unread messages as read for chat: ${A}`),window.dispatchEvent(new CustomEvent("messagesMarkedAsRead",{detail:{chatId:A}})))}catch(V){console.error("Error marking messages as read:",V)}t(A)},C=(r==null?void 0:r.display_name)||((E=s==null?void 0:s.email)==null?void 0:E.split("@")[0])||"User",M=A=>{if(A.startsWith("http"))return A;const V={photo1:"https://images.unsplash.com/photo-1649972904349-6e44c42644a7?w=400&h=400&fit=crop&crop=face",photo2:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=400&h=400&fit=crop&crop=face",photo3:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=400&h=400&fit=crop&crop=face",photo4:"https://images.unsplash.com/photo-1517841905240-472988babdf9?w=400&h=400&fit=crop&crop=face",photo5:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=400&h=400&fit=crop&crop=face",photo6:"https://images.unsplash.com/photo-1488426862026-3ee34a7d66df?w=400&h=400&fit=crop&crop=face"};return V[A]||V.photo1};return d?i.jsxs("div",{className:"w-full md:w-80 bg-card/50 backdrop-blur-sm border-r border-border/50 flex flex-col h-full",children:[i.jsx("div",{className:"p-3 border-b border-border/30",children:i.jsxs("div",{className:"animate-pulse space-y-2",children:[i.jsx("div",{className:"h-4 bg-muted rounded w-1/2"}),i.jsx("div",{className:"h-8 bg-muted rounded"})]})}),i.jsx("div",{className:"flex-1 p-3 space-y-3",children:[1,2,3].map(A=>i.jsxs("div",{className:"animate-pulse flex items-center space-x-3",children:[i.jsx("div",{className:"h-10 w-10 bg-muted rounded-full"}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),i.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})]},A))})]}):i.jsxs("div",{className:"w-full flex flex-col h-full overflow-hidden",children:[i.jsx("div",{className:"flex-shrink-0 p-4 border-b border-border",children:i.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[i.jsx("div",{className:"flex items-center space-x-3",children:i.jsxs(hk,{children:[i.jsx(fk,{asChild:!0,children:i.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:bg-muted/50 rounded-lg p-2 transition-colors",children:[i.jsxs(ku,{className:"h-8 w-8",children:[i.jsx(Cu,{src:r==null?void 0:r.avatar_url,alt:C}),i.jsx(Pu,{className:"bg-primary text-primary-foreground text-xs",children:C.charAt(0).toUpperCase()})]}),i.jsx("div",{className:"flex flex-col min-w-0"})]})}),i.jsxs(nx,{align:"start",className:"w-56",children:[i.jsxs(qn,{onClick:()=>R("/my-account"),children:[i.jsx(Jn,{className:"mr-2 h-4 w-4"}),"My Account"]}),i.jsxs(qn,{onClick:()=>y(!0),children:[i.jsx(Rm,{className:"mr-2 h-4 w-4"}),"My Personal Assistant"]}),i.jsxs(qn,{onClick:()=>R("/bucks"),children:[i.jsx(Xs,{className:"mr-2 h-4 w-4"}),"Manage Bucks"]}),i.jsxs(qn,{onClick:()=>R("/subscription"),children:[i.jsx(sr,{className:"mr-2 h-4 w-4"}),"Subscription"]}),o&&i.jsx(i.Fragment,{children:i.jsxs(qn,{onClick:()=>R("/admin"),children:[i.jsx(ln,{className:"mr-2 h-4 w-4"}),"Admin Panel"]})}),i.jsx(mk,{}),i.jsxs(qn,{onClick:K,className:"text-destructive",children:[i.jsx(VS,{className:"mr-2 h-4 w-4"}),"Sign Out"]})]})]})}),i.jsx(L,{variant:"default",size:"icon",onClick:n,className:"h-8 w-8 flex-shrink-0 bg-green-600 hover:bg-green-700 text-white rounded-full",title:"Create New Chat",children:i.jsx(Yt,{className:"h-4 w-4"})})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden",children:c.length===0?null:i.jsx("div",{className:"space-y-2 p-2",children:c.map(A=>{var V,se;return i.jsx("div",{"data-chat-id":A.id,className:`relative cursor-pointer p-3 transition-colors rounded-lg overflow-hidden ${e===A.id?"bg-primary/10 border border-primary/20":"hover:bg-muted/50"}`,title:`${((se=(V=A.companion_models)==null?void 0:V[0])==null?void 0:se.name)||A.companion_name} - ${A.personality}`,children:i.jsx("div",{className:"flex flex-col items-center space-y-2",children:i.jsxs("div",{className:"relative",onMouseDown:()=>P(A),onMouseUp:U,onMouseLeave:U,onTouchStart:()=>P(A),onTouchEnd:U,onTouchCancel:U,onClick:()=>$(A),children:[i.jsxs(ku,{className:"h-12 w-12",children:[i.jsx(Cu,{src:M(A.profile_photo),alt:A.companion_name,className:"object-cover",onError:he=>{he.currentTarget.style.display="none"}}),i.jsx(Pu,{className:"bg-gradient-romantic text-primary-foreground text-sm",children:A.companion_name.charAt(0).toUpperCase()})]}),A.unread_count>0&&i.jsx("div",{className:"absolute -top-1 -right-1 bg-green-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium border-2 border-background",children:A.unread_count>99?"99+":A.unread_count})]})})},A.id)})})}),v&&i.jsx(IF,{chatId:v.id,companionId:v.companion_id,companionName:v.companion_name,onDeleted:F,isOpen:!0,onClose:()=>x(null)}),i.jsx(hx,{open:b,onOpenChange:y,children:i.jsxs(Ud,{children:[i.jsxs(Bd,{children:[i.jsxs(zd,{className:"flex items-center gap-2",children:[i.jsx(Rm,{className:"h-5 w-5"}),"Coming Soon!"]}),i.jsx(Wd,{children:"The Personal Assistant feature is currently under development. We're working hard to bring you an amazing AI assistant experience. Stay tuned for updates!"})]}),i.jsx(Vd,{children:i.jsx(nC,{onClick:()=>y(!1),children:"Got it!"})})]})})]})},mx=m.createContext({});function px(e){const t=m.useRef(null);return t.current===null&&(t.current=e()),t.current}const gx=typeof window<"u",rC=gx?m.useLayoutEffect:m.useEffect,Hd=m.createContext(null);function xx(e,t){e.indexOf(t)===-1&&e.push(t)}function vx(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Sr=(e,t,n)=>n>t?t:n<e?e:n;let Ou=()=>{};const _r={},sC=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function iC(e){return typeof e=="object"&&e!==null}const aC=e=>/^0[^.\s]+$/u.test(e);function yx(e){let t;return()=>(t===void 0&&(t=e()),t)}const hn=e=>e,LF=(e,t)=>n=>t(e(n)),Dl=(...e)=>e.reduce(LF),cl=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class wx{constructor(){this.subscriptions=[]}add(t){return xx(this.subscriptions,t),()=>vx(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let a=0;a<s;a++){const o=this.subscriptions[a];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const er=e=>e*1e3,tr=e=>e/1e3;function oC(e,t){return t?e*(1e3/t):0}const lC=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,FF=1e-7,$F=12;function UF(e,t,n,r,s){let a,o,l=0;do o=t+(n-t)/2,a=lC(o,r,s)-e,a>0?n=o:t=o;while(Math.abs(a)>FF&&++l<$F);return o}function Il(e,t,n,r){if(e===t&&n===r)return hn;const s=a=>UF(a,0,1,e,n);return a=>a===0||a===1?a:lC(s(a),t,r)}const cC=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,uC=e=>t=>1-e(1-t),dC=Il(.33,1.53,.69,.99),bx=uC(dC),hC=cC(bx),fC=e=>(e*=2)<1?.5*bx(e):.5*(2-Math.pow(2,-10*(e-1))),jx=e=>1-Math.sin(Math.acos(e)),mC=uC(jx),pC=cC(jx),BF=Il(.42,0,1,1),VF=Il(0,0,.58,1),gC=Il(.42,0,.58,1),zF=e=>Array.isArray(e)&&typeof e[0]!="number",xC=e=>Array.isArray(e)&&typeof e[0]=="number",k0={linear:hn,easeIn:BF,easeInOut:gC,easeOut:VF,circIn:jx,circInOut:pC,circOut:mC,backIn:bx,backInOut:hC,backOut:dC,anticipate:fC},WF=e=>typeof e=="string",C0=e=>{if(xC(e)){Ou(e.length===4);const[t,n,r,s]=e;return Il(t,n,r,s)}else if(WF(e))return Ou(k0[e]!==void 0),k0[e];return e},gc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],P0={value:null,addProjectionMetrics:null};function HF(e,t){let n=new Set,r=new Set,s=!1,a=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function u(h){o.has(h)&&(d.schedule(h),e()),c++,h(l)}const d={schedule:(h,f=!1,g=!1)=>{const x=g&&s?n:r;return f&&o.add(h),x.has(h)||x.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(l=h,s){a=!0;return}s=!0,[n,r]=[r,n],n.forEach(u),t&&P0.value&&P0.value.frameloop[t].push(c),c=0,n.clear(),s=!1,a&&(a=!1,d.process(h))}};return d}const qF=40;function vC(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=gc.reduce((p,j)=>(p[j]=HF(a,t?j:void 0),p),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:h,preRender:f,render:g,postRender:v}=o,x=()=>{const p=_r.useManualTiming?s.timestamp:performance.now();n=!1,_r.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(p-s.timestamp,qF),1)),s.timestamp=p,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),h.process(s),f.process(s),g.process(s),v.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(x))},b=()=>{n=!0,r=!0,s.isProcessing||e(x)};return{schedule:gc.reduce((p,j)=>{const S=o[j];return p[j]=(_,N=!1,k=!1)=>(n||b(),S.schedule(_,N,k)),p},{}),cancel:p=>{for(let j=0;j<gc.length;j++)o[gc[j]].cancel(p)},state:s,steps:o}}const{schedule:Le,cancel:gs,state:lt,steps:tf}=vC(typeof requestAnimationFrame<"u"?requestAnimationFrame:hn,!0);let Bc;function KF(){Bc=void 0}const Ft={now:()=>(Bc===void 0&&Ft.set(lt.isProcessing||_r.useManualTiming?lt.timestamp:performance.now()),Bc),set:e=>{Bc=e,queueMicrotask(KF)}},yC=e=>t=>typeof t=="string"&&t.startsWith(e),Sx=yC("--"),GF=yC("var(--"),_x=e=>GF(e)?YF.test(e.split("/*")[0].trim()):!1,YF=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Fa={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ul={...Fa,transform:e=>Sr(0,1,e)},xc={...Fa,default:1},To=e=>Math.round(e*1e5)/1e5,Nx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function QF(e){return e==null}const XF=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,kx=(e,t)=>n=>!!(typeof n=="string"&&XF.test(n)&&n.startsWith(e)||t&&!QF(n)&&Object.prototype.hasOwnProperty.call(n,t)),wC=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,a,o,l]=r.match(Nx);return{[e]:parseFloat(s),[t]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},JF=e=>Sr(0,255,e),nf={...Fa,transform:e=>Math.round(JF(e))},zs={test:kx("rgb","red"),parse:wC("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+nf.transform(e)+", "+nf.transform(t)+", "+nf.transform(n)+", "+To(ul.transform(r))+")"};function ZF(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const zm={test:kx("#"),parse:ZF,transform:zs.transform},Ol=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Lr=Ol("deg"),nr=Ol("%"),le=Ol("px"),e$=Ol("vh"),t$=Ol("vw"),E0={...nr,parse:e=>nr.parse(e)/100,transform:e=>nr.transform(e*100)},zi={test:kx("hsl","hue"),parse:wC("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+nr.transform(To(t))+", "+nr.transform(To(n))+", "+To(ul.transform(r))+")"},Xe={test:e=>zs.test(e)||zm.test(e)||zi.test(e),parse:e=>zs.test(e)?zs.parse(e):zi.test(e)?zi.parse(e):zm.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?zs.transform(e):zi.transform(e),getAnimatableNone:e=>{const t=Xe.parse(e);return t.alpha=0,Xe.transform(t)}},n$=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function r$(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Nx))==null?void 0:t.length)||0)+(((n=e.match(n$))==null?void 0:n.length)||0)>0}const bC="number",jC="color",s$="var",i$="var(",T0="${}",a$=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function dl(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let a=0;const l=t.replace(a$,c=>(Xe.test(c)?(r.color.push(a),s.push(jC),n.push(Xe.parse(c))):c.startsWith(i$)?(r.var.push(a),s.push(s$),n.push(c)):(r.number.push(a),s.push(bC),n.push(parseFloat(c))),++a,T0)).split(T0);return{values:n,split:l,indexes:r,types:s}}function SC(e){return dl(e).values}function _C(e){const{split:t,types:n}=dl(e),r=t.length;return s=>{let a="";for(let o=0;o<r;o++)if(a+=t[o],s[o]!==void 0){const l=n[o];l===bC?a+=To(s[o]):l===jC?a+=Xe.transform(s[o]):a+=s[o]}return a}}const o$=e=>typeof e=="number"?0:Xe.test(e)?Xe.getAnimatableNone(e):e;function l$(e){const t=SC(e);return _C(e)(t.map(o$))}const xs={test:r$,parse:SC,createTransformer:_C,getAnimatableNone:l$};function rf(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function c$({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,a=0,o=0;if(!t)s=a=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=rf(c,l,e+1/3),a=rf(c,l,e),o=rf(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function Lu(e,t){return n=>n>0?t:e}const $e=(e,t,n)=>e+(t-e)*n,sf=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},u$=[zm,zs,zi],d$=e=>u$.find(t=>t.test(e));function A0(e){const t=d$(e);if(!t)return!1;let n=t.parse(e);return t===zi&&(n=c$(n)),n}const R0=(e,t)=>{const n=A0(e),r=A0(t);if(!n||!r)return Lu(e,t);const s={...n};return a=>(s.red=sf(n.red,r.red,a),s.green=sf(n.green,r.green,a),s.blue=sf(n.blue,r.blue,a),s.alpha=$e(n.alpha,r.alpha,a),zs.transform(s))},Wm=new Set(["none","hidden"]);function h$(e,t){return Wm.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function f$(e,t){return n=>$e(e,t,n)}function Cx(e){return typeof e=="number"?f$:typeof e=="string"?_x(e)?Lu:Xe.test(e)?R0:g$:Array.isArray(e)?NC:typeof e=="object"?Xe.test(e)?R0:m$:Lu}function NC(e,t){const n=[...e],r=n.length,s=e.map((a,o)=>Cx(a)(a,t[o]));return a=>{for(let o=0;o<r;o++)n[o]=s[o](a);return n}}function m$(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=Cx(e[s])(e[s],t[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}}function p$(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const a=t.types[s],o=e.indexes[a][r[a]],l=e.values[o]??0;n[s]=l,r[a]++}return n}const g$=(e,t)=>{const n=xs.createTransformer(t),r=dl(e),s=dl(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Wm.has(e)&&!s.values.length||Wm.has(t)&&!r.values.length?h$(e,t):Dl(NC(p$(r,s),s.values),n):Lu(e,t)};function kC(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?$e(e,t,n):Cx(e)(e,t)}const x$=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Le.update(t,n),stop:()=>gs(t),now:()=>lt.isProcessing?lt.timestamp:Ft.now()}},CC=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let a=0;a<s;a++)r+=Math.round(e(a/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Fu=2e4;function Px(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Fu;)t+=n,r=e.next(t);return t>=Fu?1/0:t}function v$(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(Px(r),Fu);return{type:"keyframes",ease:a=>r.next(s*a).value/t,duration:tr(s)}}const y$=5;function PC(e,t,n){const r=Math.max(t-y$,0);return oC(n-e(r),t-r)}const We={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},af=.001;function w$({duration:e=We.duration,bounce:t=We.bounce,velocity:n=We.velocity,mass:r=We.mass}){let s,a,o=1-t;o=Sr(We.minDamping,We.maxDamping,o),e=Sr(We.minDuration,We.maxDuration,tr(e)),o<1?(s=u=>{const d=u*o,h=d*e,f=d-n,g=Hm(u,o),v=Math.exp(-h);return af-f/g*v},a=u=>{const h=u*o*e,f=h*n+n,g=Math.pow(o,2)*Math.pow(u,2)*e,v=Math.exp(-h),x=Hm(Math.pow(u,2),o);return(-s(u)+af>0?-1:1)*((f-g)*v)/x}):(s=u=>{const d=Math.exp(-u*e),h=(u-n)*e+1;return-af+d*h},a=u=>{const d=Math.exp(-u*e),h=(n-u)*(e*e);return d*h});const l=5/e,c=j$(s,a,l);if(e=er(e),isNaN(c))return{stiffness:We.stiffness,damping:We.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const b$=12;function j$(e,t,n){let r=n;for(let s=1;s<b$;s++)r=r-e(r)/t(r);return r}function Hm(e,t){return e*Math.sqrt(1-t*t)}const S$=["duration","bounce"],_$=["stiffness","damping","mass"];function M0(e,t){return t.some(n=>e[n]!==void 0)}function N$(e){let t={velocity:We.velocity,stiffness:We.stiffness,damping:We.damping,mass:We.mass,isResolvedFromDuration:!1,...e};if(!M0(e,_$)&&M0(e,S$))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,a=2*Sr(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:We.mass,stiffness:s,damping:a}}else{const n=w$(e);t={...t,...n,mass:We.mass},t.isResolvedFromDuration=!0}return t}function $u(e=We.visualDuration,t=We.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:g}=N$({...n,velocity:-tr(n.velocity||0)}),v=f||0,x=u/(2*Math.sqrt(c*d)),b=o-a,y=tr(Math.sqrt(c/d)),w=Math.abs(b)<5;r||(r=w?We.restSpeed.granular:We.restSpeed.default),s||(s=w?We.restDelta.granular:We.restDelta.default);let p;if(x<1){const S=Hm(y,x);p=_=>{const N=Math.exp(-x*y*_);return o-N*((v+x*y*b)/S*Math.sin(S*_)+b*Math.cos(S*_))}}else if(x===1)p=S=>o-Math.exp(-y*S)*(b+(v+y*b)*S);else{const S=y*Math.sqrt(x*x-1);p=_=>{const N=Math.exp(-x*y*_),k=Math.min(S*_,300);return o-N*((v+x*y*b)*Math.sinh(k)+S*b*Math.cosh(k))/S}}const j={calculatedDuration:g&&h||null,next:S=>{const _=p(S);if(g)l.done=S>=h;else{let N=S===0?v:0;x<1&&(N=S===0?er(v):PC(p,S,_));const k=Math.abs(N)<=r,T=Math.abs(o-_)<=s;l.done=k&&T}return l.value=l.done?o:_,l},toString:()=>{const S=Math.min(Px(j),Fu),_=CC(N=>j.next(S*N).value,S,30);return S+"ms "+_},toTransition:()=>{}};return j}$u.applyToOptions=e=>{const t=v$(e,100,$u);return e.ease=t.ease,e.duration=er(t.duration),e.type="keyframes",e};function qm({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},g=k=>l!==void 0&&k<l||c!==void 0&&k>c,v=k=>l===void 0?c:c===void 0||Math.abs(l-k)<Math.abs(c-k)?l:c;let x=n*t;const b=h+x,y=o===void 0?b:o(b);y!==b&&(x=y-h);const w=k=>-x*Math.exp(-k/r),p=k=>y+w(k),j=k=>{const T=w(k),D=p(k);f.done=Math.abs(T)<=u,f.value=f.done?y:D};let S,_;const N=k=>{g(f.value)&&(S=k,_=$u({keyframes:[f.value,v(f.value)],velocity:PC(p,k,f.value),damping:s,stiffness:a,restDelta:u,restSpeed:d}))};return N(0),{calculatedDuration:null,next:k=>{let T=!1;return!_&&S===void 0&&(T=!0,j(k),N(k)),S!==void 0&&k>=S?_.next(k-S):(!T&&j(k),f)}}}function k$(e,t,n){const r=[],s=n||_r.mix||kC,a=e.length-1;for(let o=0;o<a;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||hn:t;l=Dl(c,l)}r.push(l)}return r}function C$(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const a=e.length;if(Ou(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=k$(t,r,s),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=cl(e[h],e[h+1],d);return l[h](f)};return n?d=>u(Sr(e[0],e[a-1],d)):u}function P$(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=cl(0,t,r);e.push($e(n,1,s))}}function E$(e){const t=[0];return P$(t,e.length-1),t}function T$(e,t){return e.map(n=>n*t)}function A$(e,t){return e.map(()=>t||gC).splice(0,e.length-1)}function Ao({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=zF(r)?r.map(C0):C0(r),a={done:!1,value:t[0]},o=T$(n&&n.length===t.length?n:E$(t),e),l=C$(o,t,{ease:Array.isArray(s)?s:A$(t,s)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const R$=e=>e!==null;function Ex(e,{repeat:t,repeatType:n="loop"},r,s=1){const a=e.filter(R$),l=s<0||t&&n!=="loop"&&t%2===1?0:a.length-1;return!l||r===void 0?a[l]:r}const M$={decay:qm,inertia:qm,tween:Ao,keyframes:Ao,spring:$u};function EC(e){typeof e.type=="string"&&(e.type=M$[e.type])}class Tx{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const D$=e=>e/100;class Ax extends Tx{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Ft.now()&&this.tick(Ft.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;EC(t);const{type:n=Ao,repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:o=0}=t;let{keyframes:l}=t;const c=n||Ao;c!==Ao&&typeof l[0]!="number"&&(this.mixKeyframes=Dl(D$,kC(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});a==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Px(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:g,type:v,onUpdate:x,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const y=this.currentTime-u*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?y<0:y>s;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let p=this.currentTime,j=r;if(h){const k=Math.min(this.currentTime,s)/l;let T=Math.floor(k),D=k%1;!D&&k>=1&&(D=1),D===1&&T--,T=Math.min(T,h+1),!!(T%2)&&(f==="reverse"?(D=1-D,g&&(D-=g/l)):f==="mirror"&&(j=o)),p=Sr(0,1,D)*l}const S=w?{done:!1,value:d[0]}:j.next(p);a&&(S.value=a(S.value));let{done:_}=S;!w&&c!==null&&(_=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&_);return N&&v!==qm&&(S.value=Ex(d,this.options,b,this.speed)),x&&x(S.value),N&&this.finish(),S}then(t,n){return this.finished.then(t,n)}get duration(){return tr(this.calculatedDuration)}get time(){return tr(this.currentTime)}set time(t){var n;t=er(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ft.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=tr(this.currentTime))}play(){var s,a;if(this.isStopped)return;const{driver:t=x$,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(a=(s=this.options).onPlay)==null||a.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ft.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function I$(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ws=e=>e*180/Math.PI,Km=e=>{const t=Ws(Math.atan2(e[1],e[0]));return Gm(t)},O$={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Km,rotateZ:Km,skewX:e=>Ws(Math.atan(e[1])),skewY:e=>Ws(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Gm=e=>(e=e%360,e<0&&(e+=360),e),D0=Km,I0=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),O0=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),L$={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:I0,scaleY:O0,scale:e=>(I0(e)+O0(e))/2,rotateX:e=>Gm(Ws(Math.atan2(e[6],e[5]))),rotateY:e=>Gm(Ws(Math.atan2(-e[2],e[0]))),rotateZ:D0,rotate:D0,skewX:e=>Ws(Math.atan(e[4])),skewY:e=>Ws(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Ym(e){return e.includes("scale")?1:0}function Qm(e,t){if(!e||e==="none")return Ym(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=L$,s=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=O$,s=l}if(!s)return Ym(t);const a=r[t],o=s[1].split(",").map($$);return typeof a=="function"?a(o):o[a]}const F$=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Qm(n,t)};function $$(e){return parseFloat(e.trim())}const $a=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ua=new Set($a),L0=e=>e===Fa||e===le,U$=new Set(["x","y","z"]),B$=$a.filter(e=>!U$.has(e));function V$(e){const t=[];return B$.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Js={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Qm(t,"x"),y:(e,{transform:t})=>Qm(t,"y")};Js.translateX=Js.x;Js.translateY=Js.y;const Zs=new Set;let Xm=!1,Jm=!1,Zm=!1;function TC(){if(Jm){const e=Array.from(Zs).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=V$(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([a,o])=>{var l;(l=r.getValue(a))==null||l.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Jm=!1,Xm=!1,Zs.forEach(e=>e.complete(Zm)),Zs.clear()}function AC(){Zs.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Jm=!0)})}function z$(){Zm=!0,AC(),TC(),Zm=!1}class Rx{constructor(t,n,r,s,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Zs.add(this),Xm||(Xm=!0,Le.read(AC),Le.resolveKeyframes(TC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const a=s==null?void 0:s.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(r&&n){const l=r.readValue(n,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),s&&a===void 0&&s.set(t[0])}I$(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Zs.delete(this)}cancel(){this.state==="scheduled"&&(Zs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const W$=e=>e.startsWith("--");function H$(e,t,n){W$(t)?e.style.setProperty(t,n):e.style[t]=n}const q$=yx(()=>window.ScrollTimeline!==void 0),K$={};function G$(e,t){const n=yx(e);return()=>K$[t]??n()}const RC=G$(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),mo=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,F0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:mo([0,.65,.55,1]),circOut:mo([.55,0,1,.45]),backIn:mo([.31,.01,.66,-.59]),backOut:mo([.33,1.53,.69,.99])};function MC(e,t){if(e)return typeof e=="function"?RC()?CC(e,t):"ease-out":xC(e)?mo(e):Array.isArray(e)?e.map(n=>MC(n,t)||F0.easeOut):F0[e]}function Y$(e,t,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:n};c&&(d.offset=c);const h=MC(l,s);Array.isArray(h)&&(d.easing=h);const f={delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),e.animate(d,f)}function DC(e){return typeof e=="function"&&"applyToOptions"in e}function Q$({type:e,...t}){return DC(e)&&RC()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class X$ extends Tx{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=t,Ou(typeof t.type!="string");const u=Q$(t);this.animation=Y$(n,r,s,u,a),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const d=Ex(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):H$(n,r,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return tr(Number(t))}get time(){return tr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=er(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&q$()?(this.animation.timeline=t,hn):n(this)}}const IC={anticipate:fC,backInOut:hC,circInOut:pC};function J$(e){return e in IC}function Z$(e){typeof e.ease=="string"&&J$(e.ease)&&(e.ease=IC[e.ease])}const $0=10;class e6 extends X${constructor(t){Z$(t),EC(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:a,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new Ax({...o,autoplay:!1}),c=er(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-$0).value,l.sample(c).value,$0),l.stop()}}const U0=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(xs.test(e)||e==="0")&&!e.startsWith("url("));function t6(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function n6(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=U0(s,t),l=U0(a,t);return!o||!l?!1:t6(e)||(n==="spring"||DC(n))&&r}function ep(e){e.duration=0,e.type}const r6=new Set(["opacity","clipPath","filter","transform"]),s6=yx(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function i6(e){var d;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:a,type:o}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return s6()&&n&&r6.has(n)&&(n!=="transform"||!u)&&!c&&!r&&s!=="mirror"&&a!==0&&o!=="inertia"}const a6=40;class o6 extends Tx{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:d,...h}){var v;super(),this.stop=()=>{var x,b;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=Ft.now();const f={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:o,name:c,motionValue:u,element:d,...h},g=(d==null?void 0:d.KeyframeResolver)||Rx;this.keyframeResolver=new g(l,(x,b,y)=>this.onKeyframesResolved(x,b,f,!y),c,u,d),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(t,n,r,s){this.keyframeResolver=void 0;const{name:a,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:d}=r;this.resolvedAt=Ft.now(),n6(t,a,o,l)||((_r.instantAnimations||!c)&&(d==null||d(Ex(t,r,n))),t[0]=t[t.length-1],ep(r),r.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>a6?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},g=!u&&i6(f)?new e6({...f,element:f.motionValue.owner.current}):new Ax(f);g.finished.then(()=>this.notifyFinished()).catch(hn),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),z$()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const l6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function c6(e){const t=l6.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function OC(e,t,n=1){const[r,s]=c6(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const o=a.trim();return sC(o)?parseFloat(o):o}return _x(s)?OC(s,t,n+1):s}function Mx(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const LC=new Set(["width","height","top","left","right","bottom",...$a]),u6={test:e=>e==="auto",parse:e=>e},FC=e=>t=>t.test(e),$C=[Fa,le,nr,Lr,t$,e$,u6],B0=e=>$C.find(FC(e));function d6(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||aC(e):!0}const h6=new Set(["brightness","contrast","saturate","opacity"]);function f6(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Nx)||[];if(!r)return e;const s=n.replace(r,"");let a=h6.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+s+")"}const m6=/\b([a-z-]*)\(.*?\)/gu,tp={...xs,getAnimatableNone:e=>{const t=e.match(m6);return t?t.map(f6).join(" "):e}},V0={...Fa,transform:Math.round},p6={rotate:Lr,rotateX:Lr,rotateY:Lr,rotateZ:Lr,scale:xc,scaleX:xc,scaleY:xc,scaleZ:xc,skew:Lr,skewX:Lr,skewY:Lr,distance:le,translateX:le,translateY:le,translateZ:le,x:le,y:le,z:le,perspective:le,transformPerspective:le,opacity:ul,originX:E0,originY:E0,originZ:le},Dx={borderWidth:le,borderTopWidth:le,borderRightWidth:le,borderBottomWidth:le,borderLeftWidth:le,borderRadius:le,radius:le,borderTopLeftRadius:le,borderTopRightRadius:le,borderBottomRightRadius:le,borderBottomLeftRadius:le,width:le,maxWidth:le,height:le,maxHeight:le,top:le,right:le,bottom:le,left:le,padding:le,paddingTop:le,paddingRight:le,paddingBottom:le,paddingLeft:le,margin:le,marginTop:le,marginRight:le,marginBottom:le,marginLeft:le,backgroundPositionX:le,backgroundPositionY:le,...p6,zIndex:V0,fillOpacity:ul,strokeOpacity:ul,numOctaves:V0},g6={...Dx,color:Xe,backgroundColor:Xe,outlineColor:Xe,fill:Xe,stroke:Xe,borderColor:Xe,borderTopColor:Xe,borderRightColor:Xe,borderBottomColor:Xe,borderLeftColor:Xe,filter:tp,WebkitFilter:tp},UC=e=>g6[e];function BC(e,t){let n=UC(e);return n!==tp&&(n=xs),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const x6=new Set(["auto","none","0"]);function v6(e,t,n){let r=0,s;for(;r<e.length&&!s;){const a=e[r];typeof a=="string"&&!x6.has(a)&&dl(a).values.length&&(s=e[r]),r++}if(s&&n)for(const a of t)e[a]=BC(n,s)}class y6 extends Rx{constructor(t,n,r,s,a){super(t,n,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),_x(u))){const d=OC(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!LC.has(r)||t.length!==2)return;const[s,a]=t,o=B0(s),l=B0(a);if(o!==l)if(L0(o)&&L0(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else Js[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||d6(t[s]))&&r.push(s);r.length&&v6(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Js[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var l;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=r.length-1,o=r[a];r[a]=Js[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function w6(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const s=document.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const VC=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function zC(e){return iC(e)&&"offsetHeight"in e}const z0=30,b6=e=>!isNaN(parseFloat(e));class j6{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var a;const s=Ft.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Ft.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=b6(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new wx);const r=this.events[t].add(n);return t==="change"?()=>{r(),Le.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ft.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>z0)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,z0);return oC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Na(e,t){return new j6(e,t)}const{schedule:Ix,cancel:Y7}=vC(queueMicrotask,!1),bn={x:!1,y:!1};function WC(){return bn.x||bn.y}function S6(e){return e==="x"||e==="y"?bn[e]?null:(bn[e]=!0,()=>{bn[e]=!1}):bn.x||bn.y?null:(bn.x=bn.y=!0,()=>{bn.x=bn.y=!1})}function HC(e,t){const n=w6(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function W0(e){return!(e.pointerType==="touch"||WC())}function _6(e,t,n={}){const[r,s,a]=HC(e,n),o=l=>{if(!W0(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=h=>{W0(h)&&(u(h),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,s)};return r.forEach(l=>{l.addEventListener("pointerenter",o,s)}),a}const qC=(e,t)=>t?e===t?!0:qC(e,t.parentElement):!1,Ox=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,N6=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function k6(e){return N6.has(e.tagName)||e.tabIndex!==-1}const Vc=new WeakSet;function H0(e){return t=>{t.key==="Enter"&&e(t)}}function of(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const C6=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=H0(()=>{if(Vc.has(n))return;of(n,"down");const s=H0(()=>{of(n,"up")}),a=()=>of(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function q0(e){return Ox(e)&&!WC()}function P6(e,t,n={}){const[r,s,a]=HC(e,n),o=l=>{const c=l.currentTarget;if(!q0(l))return;Vc.add(c);const u=t(c,l),d=(g,v)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),Vc.has(c)&&Vc.delete(c),q0(g)&&typeof u=="function"&&u(g,{success:v})},h=g=>{d(g,c===window||c===document||n.useGlobalTarget||qC(c,g.target))},f=g=>{d(g,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),zC(l)&&(l.addEventListener("focus",u=>C6(u,s)),!k6(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function KC(e){return iC(e)&&"ownerSVGElement"in e}function E6(e){return KC(e)&&e.tagName==="svg"}const wt=e=>!!(e&&e.getVelocity),T6=[...$C,Xe,xs],A6=e=>T6.find(FC(e)),Lx=m.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class R6 extends m.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=zC(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function M6({children:e,isPresent:t,anchorX:n,root:r}){const s=m.useId(),a=m.useRef(null),o=m.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=m.useContext(Lx);return m.useInsertionEffect(()=>{const{width:c,height:u,top:d,left:h,right:f}=o.current;if(t||!a.current||!c||!u)return;const g=n==="left"?`left: ${h}`:`right: ${f}`;a.current.dataset.motionPopId=s;const v=document.createElement("style");l&&(v.nonce=l);const x=r??document.head;return x.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            ${g}px !important;
            top: ${d}px !important;
          }
        `),()=>{x.contains(v)&&x.removeChild(v)}},[t]),i.jsx(R6,{isPresent:t,childRef:a,sizeRef:o,children:m.cloneElement(e,{ref:a})})}const D6=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:o,anchorX:l,root:c})=>{const u=px(I6),d=m.useId();let h=!0,f=m.useMemo(()=>(h=!1,{id:d,initial:t,isPresent:n,custom:s,onExitComplete:g=>{u.set(g,!0);for(const v of u.values())if(!v)return;r&&r()},register:g=>(u.set(g,!1),()=>u.delete(g))}),[n,u,r]);return a&&h&&(f={...f}),m.useMemo(()=>{u.forEach((g,v)=>u.set(v,!1))},[n]),m.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(e=i.jsx(M6,{isPresent:n,anchorX:l,root:c,children:e})),i.jsx(Hd.Provider,{value:f,children:e})};function I6(){return new Map}function GC(e=!0){const t=m.useContext(Hd);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,a=m.useId();m.useEffect(()=>{if(e)return s(a)},[e]);const o=m.useCallback(()=>e&&r&&r(a),[a,r,e]);return!n&&r?[!1,o]:[!0]}const vc=e=>e.key||"";function K0(e){const t=[];return m.Children.forEach(e,n=>{m.isValidElement(n)&&t.push(n)}),t}const np=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:a="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[u,d]=GC(o),h=m.useMemo(()=>K0(e),[e]),f=o&&!u?[]:h.map(vc),g=m.useRef(!0),v=m.useRef(h),x=px(()=>new Map),[b,y]=m.useState(h),[w,p]=m.useState(h);rC(()=>{g.current=!1,v.current=h;for(let _=0;_<w.length;_++){const N=vc(w[_]);f.includes(N)?x.delete(N):x.get(N)!==!0&&x.set(N,!1)}},[w,f.length,f.join("-")]);const j=[];if(h!==b){let _=[...h];for(let N=0;N<w.length;N++){const k=w[N],T=vc(k);f.includes(T)||(_.splice(N,0,k),j.push(k))}return a==="wait"&&j.length&&(_=j),p(K0(_)),y(h),null}const{forceRender:S}=m.useContext(mx);return i.jsx(i.Fragment,{children:w.map(_=>{const N=vc(_),k=o&&!u?!1:h===w||f.includes(N),T=()=>{if(x.has(N))x.set(N,!0);else return;let D=!0;x.forEach(F=>{F||(D=!1)}),D&&(S==null||S(),p(v.current),o&&(d==null||d()),r&&r())};return i.jsx(D6,{isPresent:k,initial:!g.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:a,root:c,onExitComplete:k?void 0:T,anchorX:l,children:_},N)})})},YC=m.createContext({strict:!1}),G0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ka={};for(const e in G0)ka[e]={isEnabled:t=>G0[e].some(n=>!!t[n])};function O6(e){for(const t in e)ka[t]={...ka[t],...e[t]}}const L6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Uu(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||L6.has(e)}let QC=e=>!Uu(e);function F6(e){typeof e=="function"&&(QC=t=>t.startsWith("on")?!Uu(t):e(t))}try{F6(require("@emotion/is-prop-valid").default)}catch{}function $6(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(QC(s)||n===!0&&Uu(s)||!t&&!Uu(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const qd=m.createContext({});function Kd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function hl(e){return typeof e=="string"||Array.isArray(e)}const Fx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$x=["initial",...Fx];function Gd(e){return Kd(e.animate)||$x.some(t=>hl(e[t]))}function XC(e){return!!(Gd(e)||e.variants)}function U6(e,t){if(Gd(e)){const{initial:n,animate:r}=e;return{initial:n===!1||hl(n)?n:void 0,animate:hl(r)?r:void 0}}return e.inherit!==!1?t:{}}function B6(e){const{initial:t,animate:n}=U6(e,m.useContext(qd));return m.useMemo(()=>({initial:t,animate:n}),[Y0(t),Y0(n)])}function Y0(e){return Array.isArray(e)?e.join(" "):e}const fl={};function V6(e){for(const t in e)fl[t]=e[t],Sx(t)&&(fl[t].isCSSVariable=!0)}function JC(e,{layout:t,layoutId:n}){return Ua.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!fl[e]||e==="opacity")}const z6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},W6=$a.length;function H6(e,t,n){let r="",s=!0;for(let a=0;a<W6;a++){const o=$a[a],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=VC(l,Dx[o]);if(!c){s=!1;const d=z6[o]||o;r+=`${d}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function Ux(e,t,n){const{style:r,vars:s,transformOrigin:a}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(Ua.has(c)){o=!0;continue}else if(Sx(c)){s[c]=u;continue}else{const d=VC(u,Dx[c]);c.startsWith("origin")?(l=!0,a[c]=d):r[c]=d}}if(t.transform||(o||n?r.transform=H6(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=a;r.transformOrigin=`${c} ${u} ${d}`}}const Bx=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ZC(e,t,n){for(const r in t)!wt(t[r])&&!JC(r,n)&&(e[r]=t[r])}function q6({transformTemplate:e},t){return m.useMemo(()=>{const n=Bx();return Ux(n,t,e),Object.assign({},n.vars,n.style)},[t])}function K6(e,t){const n=e.style||{},r={};return ZC(r,n,e),Object.assign(r,q6(e,t)),r}function G6(e,t){const n={},r=K6(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const Y6={offset:"stroke-dashoffset",array:"stroke-dasharray"},Q6={offset:"strokeDashoffset",array:"strokeDasharray"};function X6(e,t,n=1,r=0,s=!0){e.pathLength=1;const a=s?Y6:Q6;e[a.offset]=le.transform(-r);const o=le.transform(t),l=le.transform(n);e[a.array]=`${o} ${l}`}function e2(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:a=1,pathOffset:o=0,...l},c,u,d){if(Ux(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:f}=e;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&X6(h,s,a,o,!1)}const t2=()=>({...Bx(),attrs:{}}),n2=e=>typeof e=="string"&&e.toLowerCase()==="svg";function J6(e,t,n,r){const s=m.useMemo(()=>{const a=t2();return e2(a,t,n2(r),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};ZC(a,e.style,e),s.style={...a,...s.style}}return s}const Z6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Vx(e){return typeof e!="string"||e.includes("-")?!1:!!(Z6.indexOf(e)>-1||/[A-Z]/u.test(e))}function eU(e,t,n,{latestValues:r},s,a=!1){const l=(Vx(e)?J6:G6)(t,r,s,e),c=$6(t,typeof e=="string",a),u=e!==m.Fragment?{...c,...l,ref:n}:{},{children:d}=t,h=m.useMemo(()=>wt(d)?d.get():d,[d]);return m.createElement(e,{...u,children:h})}function Q0(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function zx(e,t,n,r){if(typeof t=="function"){const[s,a]=Q0(r);t=t(n!==void 0?n:e.custom,s,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,a]=Q0(r);t=t(n!==void 0?n:e.custom,s,a)}return t}function zc(e){return wt(e)?e.get():e}function tU({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:nU(n,r,s,e),renderState:t()}}function nU(e,t,n,r){const s={},a=r(e,{});for(const f in a)s[f]=zc(a[f]);let{initial:o,animate:l}=e;const c=Gd(e),u=XC(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?l:o;if(h&&typeof h!="boolean"&&!Kd(h)){const f=Array.isArray(h)?h:[h];for(let g=0;g<f.length;g++){const v=zx(e,f[g]);if(v){const{transitionEnd:x,transition:b,...y}=v;for(const w in y){let p=y[w];if(Array.isArray(p)){const j=d?p.length-1:0;p=p[j]}p!==null&&(s[w]=p)}for(const w in x)s[w]=x[w]}}}return s}const r2=e=>(t,n)=>{const r=m.useContext(qd),s=m.useContext(Hd),a=()=>tU(e,t,r,s);return n?a():px(a)};function Wx(e,t,n){var a;const{style:r}=e,s={};for(const o in r)(wt(r[o])||t.style&&wt(t.style[o])||JC(o,e)||((a=n==null?void 0:n.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const rU=r2({scrapeMotionValuesFromProps:Wx,createRenderState:Bx});function s2(e,t,n){const r=Wx(e,t,n);for(const s in e)if(wt(e[s])||wt(t[s])){const a=$a.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=e[s]}return r}const sU=r2({scrapeMotionValuesFromProps:s2,createRenderState:t2}),iU=Symbol.for("motionComponentSymbol");function Wi(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function aU(e,t,n){return m.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Wi(n)&&(n.current=r))},[t])}const Hx=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),oU="framerAppearId",i2="data-"+Hx(oU),a2=m.createContext({});function lU(e,t,n,r,s){var x,b;const{visualElement:a}=m.useContext(qd),o=m.useContext(YC),l=m.useContext(Hd),c=m.useContext(Lx).reducedMotion,u=m.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:a,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,h=m.useContext(a2);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&cU(u.current,n,s,h);const f=m.useRef(!1);m.useInsertionEffect(()=>{d&&f.current&&d.update(n,l)});const g=n[i2],v=m.useRef(!!g&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,g))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,g)));return rC(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),v.current&&d.animationState&&d.animationState.animateChanges())}),m.useEffect(()=>{d&&(!v.current&&d.animationState&&d.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,g)}),v.current=!1),d.enteringChildren=void 0)}),d}function cU(e,t,n,r){const{layoutId:s,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:o2(e.parent)),e.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!o||l&&Wi(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:u})}function o2(e){if(e)return e.options.allowProjection!==!1?e.projection:o2(e.parent)}function lf(e,{forwardMotionProps:t=!1}={},n,r){n&&O6(n);const s=Vx(e)?sU:rU;function a(l,c){let u;const d={...m.useContext(Lx),...l,layoutId:uU(l)},{isStatic:h}=d,f=B6(l),g=s(l,h);if(!h&&gx){dU();const v=hU(d);u=v.MeasureLayout,f.visualElement=lU(e,g,d,r,v.ProjectionNode)}return i.jsxs(qd.Provider,{value:f,children:[u&&f.visualElement?i.jsx(u,{visualElement:f.visualElement,...d}):null,eU(e,l,aU(g,f.visualElement,c),g,h,t)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=m.forwardRef(a);return o[iU]=e,o}function uU({layoutId:e}){const t=m.useContext(mx).id;return t&&e!==void 0?t+"-"+e:e}function dU(e,t){m.useContext(YC).strict}function hU(e){const{drag:t,layout:n}=ka;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function fU(e,t){if(typeof Proxy>"u")return lf;const n=new Map,r=(a,o)=>lf(a,o,e,t),s=(a,o)=>r(a,o);return new Proxy(s,{get:(a,o)=>o==="create"?r:(n.has(o)||n.set(o,lf(o,void 0,e,t)),n.get(o))})}function l2({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function mU({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function pU(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function cf(e){return e===void 0||e===1}function rp({scale:e,scaleX:t,scaleY:n}){return!cf(e)||!cf(t)||!cf(n)}function Os(e){return rp(e)||c2(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function c2(e){return X0(e.x)||X0(e.y)}function X0(e){return e&&e!=="0%"}function Bu(e,t,n){const r=e-n,s=t*r;return n+s}function J0(e,t,n,r,s){return s!==void 0&&(e=Bu(e,s,r)),Bu(e,n,r)+t}function sp(e,t=0,n=1,r,s){e.min=J0(e.min,t,n,r,s),e.max=J0(e.max,t,n,r,s)}function u2(e,{x:t,y:n}){sp(e.x,t.translate,t.scale,t.originPoint),sp(e.y,n.translate,n.scale,n.originPoint)}const Z0=.999999999999,ew=1.0000000000001;function gU(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let a,o;for(let l=0;l<s;l++){a=n[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&qi(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,u2(e,o)),r&&Os(a.latestValues)&&qi(e,a.latestValues))}t.x<ew&&t.x>Z0&&(t.x=1),t.y<ew&&t.y>Z0&&(t.y=1)}function Hi(e,t){e.min=e.min+t,e.max=e.max+t}function tw(e,t,n,r,s=.5){const a=$e(e.min,e.max,s);sp(e,t,n,a,r)}function qi(e,t){tw(e.x,t.x,t.scaleX,t.scale,t.originX),tw(e.y,t.y,t.scaleY,t.scale,t.originY)}function d2(e,t){return l2(pU(e.getBoundingClientRect(),t))}function xU(e,t,n){const r=d2(e,n),{scroll:s}=t;return s&&(Hi(r.x,s.offset.x),Hi(r.y,s.offset.y)),r}const nw=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ki=()=>({x:nw(),y:nw()}),rw=()=>({min:0,max:0}),Ge=()=>({x:rw(),y:rw()}),ip={current:null},h2={current:!1};function vU(){if(h2.current=!0,!!gx)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ip.current=e.matches;e.addEventListener("change",t),t()}else ip.current=!1}const yU=new WeakMap;function wU(e,t,n){for(const r in t){const s=t[r],a=n[r];if(wt(s))e.addValue(r,s);else if(wt(a))e.addValue(r,Na(s,{owner:e}));else if(a!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,Na(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const sw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class bU{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Rx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Ft.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Le.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=Gd(n),this.isVariantNode=XC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const g=h[f];c[f]!==void 0&&wt(g)&&g.set(c[f])}}mount(t){var n;this.current=t,yU.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),h2.current||vU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ip.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),gs(this.notifyUpdate),gs(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Ua.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Le.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ka){const n=ka[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ge()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<sw.length;r++){const s=sw[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,o=t[a];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=wU(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Na(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(sC(r)||aC(r))?r=parseFloat(r):!A6(r)&&xs.test(n)&&(r=BC(t,n)),this.setBaseTarget(t,wt(r)?r.get():r)),wt(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var a;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=zx(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!wt(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new wx),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Ix.render(this.render)}}class f2 extends bU{constructor(){super(...arguments),this.KeyframeResolver=y6}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;wt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function m2(e,{style:t,vars:n},r,s){const a=e.style;let o;for(o in t)a[o]=t[o];s==null||s.applyProjectionStyles(a,r);for(o in n)a.setProperty(o,n[o])}function jU(e){return window.getComputedStyle(e)}class SU extends f2{constructor(){super(...arguments),this.type="html",this.renderInstance=m2}readValueFromInstance(t,n){var r;if(Ua.has(n))return(r=this.projection)!=null&&r.isProjecting?Ym(n):F$(t,n);{const s=jU(t),a=(Sx(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return d2(t,n)}build(t,n,r){Ux(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Wx(t,n,r)}}const p2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _U(e,t,n,r){m2(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(p2.has(s)?s:Hx(s),t.attrs[s])}class NU extends f2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ge}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ua.has(n)){const r=UC(n);return r&&r.default||0}return n=p2.has(n)?n:Hx(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return s2(t,n,r)}build(t,n,r){e2(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){_U(t,n,r,s)}mount(t){this.isSVGTag=n2(t.tagName),super.mount(t)}}const kU=(e,t)=>Vx(e)?new NU(t):new SU(t,{allowProjection:e!==m.Fragment});function sa(e,t,n){const r=e.getProps();return zx(r,t,n!==void 0?n:r.custom,e)}const ap=e=>Array.isArray(e);function CU(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Na(n))}function PU(e){return ap(e)?e[e.length-1]||0:e}function EU(e,t){const n=sa(e,t);let{transitionEnd:r={},transition:s={},...a}=n||{};a={...a,...r};for(const o in a){const l=PU(a[o]);CU(e,o,l)}}function TU(e){return!!(wt(e)&&e.add)}function op(e,t){const n=e.getValue("willChange");if(TU(n))return n.add(t);if(!n&&_r.WillChange){const r=new _r.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function g2(e){return e.props[i2]}const AU=e=>e!==null;function RU(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(AU),a=t&&n!=="loop"&&t%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const MU={type:"spring",stiffness:500,damping:25,restSpeed:10},DU=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),IU={type:"keyframes",duration:.8},OU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},LU=(e,{keyframes:t})=>t.length>2?IU:Ua.has(e)?e.startsWith("scale")?DU(t[1]):MU:OU;function FU({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const qx=(e,t,n,r={},s,a)=>o=>{const l=Mx(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-er(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:s};FU(l)||Object.assign(d,LU(e,d)),d.duration&&(d.duration=er(d.duration)),d.repeatDelay&&(d.repeatDelay=er(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(ep(d),d.delay===0&&(h=!0)),(_r.instantAnimations||_r.skipAnimations)&&(h=!0,ep(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,h&&!a&&t.get()!==void 0){const f=RU(d.keyframes,l);if(f!==void 0){Le.update(()=>{d.onUpdate(f),d.onComplete()});return}}return l.isSync?new Ax(d):new o6(d)};function $U({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function x2(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=t;r&&(a=r);const c=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const d in l){const h=e.getValue(d,e.latestValues[d]??null),f=l[d];if(f===void 0||u&&$U(u,d))continue;const g={delay:n,...Mx(a||{},d)},v=h.get();if(v!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===v&&!g.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const y=g2(e);if(y){const w=window.MotionHandoffAnimation(y,d,Le);w!==null&&(g.startTime=w,x=!0)}}op(e,d),h.start(qx(d,h,f,e.shouldReduceMotion&&LC.has(d)?{type:!1}:g,e,x));const b=h.animation;b&&c.push(b)}return o&&Promise.all(c).then(()=>{Le.update(()=>{o&&EU(e,o)})}),c}function v2(e,t,n,r=0,s=1){const a=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),o=e.size,l=(o-1)*r;return typeof n=="function"?n(a,o):s===1?a*r:l-a*r}function lp(e,t,n={}){var c;const r=sa(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const a=r?()=>Promise.all(x2(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return UU(e,t,u,d,h,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,d]=l==="beforeChildren"?[a,o]:[o,a];return u().then(()=>d())}else return Promise.all([a(),o(n.delay)])}function UU(e,t,n=0,r=0,s=0,a=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(lp(c,t,{...o,delay:n+(typeof r=="function"?0:r)+v2(e.variantChildren,c,r,s,a)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function BU(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(a=>lp(e,a,n));r=Promise.all(s)}else if(typeof t=="string")r=lp(e,t,n);else{const s=typeof t=="function"?sa(e,t,n.custom):t;r=Promise.all(x2(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function y2(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const VU=$x.length;function w2(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?w2(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<VU;n++){const r=$x[n],s=e.props[r];(hl(s)||s===!1)&&(t[r]=s)}return t}const zU=[...Fx].reverse(),WU=Fx.length;function HU(e){return t=>Promise.all(t.map(({animation:n,options:r})=>BU(e,n,r)))}function qU(e){let t=HU(e),n=iw(),r=!0;const s=c=>(u,d)=>{var f;const h=sa(e,d,c==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:g,transitionEnd:v,...x}=h;u={...u,...x,...v}}return u};function a(c){t=c(e)}function o(c){const{props:u}=e,d=w2(e.parent)||{},h=[],f=new Set;let g={},v=1/0;for(let b=0;b<WU;b++){const y=zU[b],w=n[y],p=u[y]!==void 0?u[y]:d[y],j=hl(p),S=y===c?w.isActive:null;S===!1&&(v=b);let _=p===d[y]&&p!==u[y]&&j;if(_&&r&&e.manuallyAnimateOnMount&&(_=!1),w.protectedKeys={...g},!w.isActive&&S===null||!p&&!w.prevProp||Kd(p)||typeof p=="boolean")continue;const N=KU(w.prevProp,p);let k=N||y===c&&w.isActive&&!_&&j||b>v&&j,T=!1;const D=Array.isArray(p)?p:[p];let F=D.reduce(s(y),{});S===!1&&(F={});const{prevResolvedValues:P={}}=w,U={...P,...F},$=O=>{k=!0,f.has(O)&&(T=!0,f.delete(O)),w.needsAnimating[O]=!0;const C=e.getValue(O);C&&(C.liveStyle=!1)};for(const O in U){const C=F[O],M=P[O];if(g.hasOwnProperty(O))continue;let E=!1;ap(C)&&ap(M)?E=!y2(C,M):E=C!==M,E?C!=null?$(O):f.add(O):C!==void 0&&f.has(O)?$(O):w.protectedKeys[O]=!0}w.prevProp=p,w.prevResolvedValues=F,w.isActive&&(g={...g,...F}),r&&e.blockInitialAnimation&&(k=!1);const K=_&&N;k&&(!K||T)&&h.push(...D.map(O=>{const C={type:y};if(typeof O=="string"&&r&&!K&&e.manuallyAnimateOnMount&&e.parent){const{parent:M}=e,E=sa(M,O);if(M.enteringChildren&&E){const{delayChildren:A}=E.transition||{};C.delay=v2(M.enteringChildren,e,A)}}return{animation:O,options:C}}))}if(f.size){const b={};if(typeof u.initial!="boolean"){const y=sa(e,Array.isArray(u.initial)?u.initial[0]:u.initial);y&&y.transition&&(b.transition=y.transition)}f.forEach(y=>{const w=e.getBaseTarget(y),p=e.getValue(y);p&&(p.liveStyle=!0),b[y]=w??null}),h.push({animation:b})}let x=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(x=!1),r=!1,x?t(h):Promise.resolve()}function l(c,u){var h;if(n[c].isActive===u)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(f=>{var g;return(g=f.animationState)==null?void 0:g.setActive(c,u)}),n[c].isActive=u;const d=o(c);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>n,reset:()=>{n=iw(),r=!0}}}function KU(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!y2(t,e):!1}function Rs(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function iw(){return{animate:Rs(!0),whileInView:Rs(),whileHover:Rs(),whileTap:Rs(),whileDrag:Rs(),whileFocus:Rs(),exit:Rs()}}class Ss{constructor(t){this.isMounted=!1,this.node=t}update(){}}class GU extends Ss{constructor(t){super(t),t.animationState||(t.animationState=qU(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Kd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let YU=0;class QU extends Ss{constructor(){super(...arguments),this.id=YU++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const XU={animation:{Feature:GU},exit:{Feature:QU}};function ml(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Ll(e){return{point:{x:e.pageX,y:e.pageY}}}const JU=e=>t=>Ox(t)&&e(t,Ll(t));function Ro(e,t,n,r){return ml(e,t,JU(n),r)}const b2=1e-4,ZU=1-b2,eB=1+b2,j2=.01,tB=0-j2,nB=0+j2;function Ct(e){return e.max-e.min}function rB(e,t,n){return Math.abs(e-t)<=n}function aw(e,t,n,r=.5){e.origin=r,e.originPoint=$e(t.min,t.max,e.origin),e.scale=Ct(n)/Ct(t),e.translate=$e(n.min,n.max,e.origin)-e.originPoint,(e.scale>=ZU&&e.scale<=eB||isNaN(e.scale))&&(e.scale=1),(e.translate>=tB&&e.translate<=nB||isNaN(e.translate))&&(e.translate=0)}function Mo(e,t,n,r){aw(e.x,t.x,n.x,r?r.originX:void 0),aw(e.y,t.y,n.y,r?r.originY:void 0)}function ow(e,t,n){e.min=n.min+t.min,e.max=e.min+Ct(t)}function sB(e,t,n){ow(e.x,t.x,n.x),ow(e.y,t.y,n.y)}function lw(e,t,n){e.min=t.min-n.min,e.max=e.min+Ct(t)}function Do(e,t,n){lw(e.x,t.x,n.x),lw(e.y,t.y,n.y)}function rn(e){return[e("x"),e("y")]}const S2=({current:e})=>e?e.ownerDocument.defaultView:null,cw=(e,t)=>Math.abs(e-t);function iB(e,t){const n=cw(e.x,t.x),r=cw(e.y,t.y);return Math.sqrt(n**2+r**2)}class _2{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=df(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,v=iB(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!v)return;const{point:x}=f,{timestamp:b}=lt;this.history.push({...x,timestamp:b});const{onStart:y,onMove:w}=this.handlers;g||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,f)},this.handlePointerMove=(f,g)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=uf(g,this.transformPagePoint),Le.update(this.updatePoint,!0)},this.handlePointerUp=(f,g)=>{this.end();const{onEnd:v,onSessionEnd:x,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=df(f.type==="pointercancel"?this.lastMoveEventInfo:uf(g,this.transformPagePoint),this.history);this.startEvent&&v&&v(f,y),x&&x(f,y)},!Ox(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const l=Ll(t),c=uf(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=lt;this.history=[{...u,timestamp:d}];const{onSessionStart:h}=n;h&&h(t,df(c,this.history)),this.removeListeners=Dl(Ro(this.contextWindow,"pointermove",this.handlePointerMove),Ro(this.contextWindow,"pointerup",this.handlePointerUp),Ro(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),gs(this.updatePoint)}}function uf(e,t){return t?{point:t(e.point)}:e}function uw(e,t){return{x:e.x-t.x,y:e.y-t.y}}function df({point:e},t){return{point:e,delta:uw(e,N2(t)),offset:uw(e,aB(t)),velocity:oB(t,.1)}}function aB(e){return e[0]}function N2(e){return e[e.length-1]}function oB(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=N2(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>er(t)));)n--;if(!r)return{x:0,y:0};const a=tr(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function lB(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?$e(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?$e(n,e,r.max):Math.min(e,n)),e}function dw(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function cB(e,{top:t,left:n,bottom:r,right:s}){return{x:dw(e.x,n,s),y:dw(e.y,t,r)}}function hw(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function uB(e,t){return{x:hw(e.x,t.x),y:hw(e.y,t.y)}}function dB(e,t){let n=.5;const r=Ct(e),s=Ct(t);return s>r?n=cl(t.min,t.max-r,e.min):r>s&&(n=cl(e.min,e.max-s,t.min)),Sr(0,1,n)}function hB(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const cp=.35;function fB(e=cp){return e===!1?e=0:e===!0&&(e=cp),{x:fw(e,"left","right"),y:fw(e,"top","bottom")}}function fw(e,t,n){return{min:mw(e,t),max:mw(e,n)}}function mw(e,t){return typeof e=="number"?e:e[t]||0}const mB=new WeakMap;class pB{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ge(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ll(h).point)},o=(h,f)=>{const{drag:g,dragPropagation:v,onDragStart:x}=this.getProps();if(g&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=S6(g),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),rn(y=>{let w=this.getAxisMotionValue(y).get()||0;if(nr.test(w)){const{projection:p}=this.visualElement;if(p&&p.layout){const j=p.layout.layoutBox[y];j&&(w=Ct(j)*(parseFloat(w)/100))}}this.originPoint[y]=w}),x&&Le.postRender(()=>x(h,f)),op(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:g,dragDirectionLock:v,onDirectionLock:x,onDrag:b}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:y}=f;if(v&&this.currentDirection===null){this.currentDirection=gB(y),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),b&&b(h,f)},c=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>rn(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new _2(t,{onSessionStart:a,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:S2(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Le.postRender(()=>l(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!yc(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=lB(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,s=this.constraints;t&&Wi(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=cB(r.layoutBox,t):this.constraints=!1,this.elastic=fB(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&rn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=hB(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Wi(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=xU(r,s.root,this.visualElement.getTransformPagePoint());let o=uB(s.layout.layoutBox,a);if(n){const l=n(mU(o));this.hasMutatedConstraints=!!l,l&&(o=l2(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=rn(d=>{if(!yc(d,n,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,g=s?40:1e7,v={type:"inertia",velocity:r?t[d]:0,bounceStiffness:f,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return op(this.visualElement,t),r.start(qx(t,r,0,n,this.visualElement,!1))}stopAnimation(){rn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){rn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){rn(n=>{const{drag:r}=this.getProps();if(!yc(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];a.set(t[n]-$e(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Wi(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};rn(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=dB({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),rn(o=>{if(!yc(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set($e(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;mB.set(this.visualElement,this);const t=this.visualElement.current,n=Ro(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Wi(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Le.read(r);const o=ml(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(rn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:o=cp,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function yc(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function gB(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class xB extends Ss{constructor(t){super(t),this.removeGroupControls=hn,this.removeListeners=hn,this.controls=new pB(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||hn}unmount(){this.removeGroupControls(),this.removeListeners()}}const pw=e=>(t,n)=>{e&&Le.postRender(()=>e(t,n))};class vB extends Ss{constructor(){super(...arguments),this.removePointerDownListener=hn}onPointerDown(t){this.session=new _2(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:S2(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:pw(t),onStart:pw(n),onMove:r,onEnd:(a,o)=>{delete this.session,s&&Le.postRender(()=>s(a,o))}}}mount(){this.removePointerDownListener=Ro(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Wc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function gw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const so={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(le.test(e))e=parseFloat(e);else return e;const n=gw(e,t.target.x),r=gw(e,t.target.y);return`${n}% ${r}%`}},yB={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=xs.parse(e);if(s.length>5)return r;const a=xs.createTransformer(e),o=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const u=$e(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),a(s)}};let hf=!1;class wB extends m.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=t;V6(bB),a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),hf&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Wc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,{projection:o}=r;return o&&(o.isPresent=a,hf=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==a?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||Le.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Ix.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;hf=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function k2(e){const[t,n]=GC(),r=m.useContext(mx);return i.jsx(wB,{...e,layoutGroup:r,switchLayoutGroup:m.useContext(a2),isPresent:t,safeToRemove:n})}const bB={borderRadius:{...so,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:so,borderTopRightRadius:so,borderBottomLeftRadius:so,borderBottomRightRadius:so,boxShadow:yB};function jB(e,t,n){const r=wt(e)?e:Na(e);return r.start(qx("",r,t,n)),r.animation}const SB=(e,t)=>e.depth-t.depth;class _B{constructor(){this.children=[],this.isDirty=!1}add(t){xx(this.children,t),this.isDirty=!0}remove(t){vx(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(SB),this.isDirty=!1,this.children.forEach(t)}}function NB(e,t){const n=Ft.now(),r=({timestamp:s})=>{const a=s-n;a>=t&&(gs(r),e(a-t))};return Le.setup(r,!0),()=>gs(r)}const C2=["TopLeft","TopRight","BottomLeft","BottomRight"],kB=C2.length,xw=e=>typeof e=="string"?parseFloat(e):e,vw=e=>typeof e=="number"||le.test(e);function CB(e,t,n,r,s,a){s?(e.opacity=$e(0,n.opacity??1,PB(r)),e.opacityExit=$e(t.opacity??1,0,EB(r))):a&&(e.opacity=$e(t.opacity??1,n.opacity??1,r));for(let o=0;o<kB;o++){const l=`border${C2[o]}Radius`;let c=yw(t,l),u=yw(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||vw(c)===vw(u)?(e[l]=Math.max($e(xw(c),xw(u),r),0),(nr.test(u)||nr.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=$e(t.rotate||0,n.rotate||0,r))}function yw(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const PB=P2(0,.5,mC),EB=P2(.5,.95,hn);function P2(e,t,n){return r=>r<e?0:r>t?1:n(cl(e,t,r))}function ww(e,t){e.min=t.min,e.max=t.max}function nn(e,t){ww(e.x,t.x),ww(e.y,t.y)}function bw(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function jw(e,t,n,r,s){return e-=t,e=Bu(e,1/n,r),s!==void 0&&(e=Bu(e,1/s,r)),e}function TB(e,t=0,n=1,r=.5,s,a=e,o=e){if(nr.test(t)&&(t=parseFloat(t),t=$e(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=$e(a.min,a.max,r);e===a&&(l-=t),e.min=jw(e.min,t,n,l,s),e.max=jw(e.max,t,n,l,s)}function Sw(e,t,[n,r,s],a,o){TB(e,t[n],t[r],t[s],t.scale,a,o)}const AB=["x","scaleX","originX"],RB=["y","scaleY","originY"];function _w(e,t,n,r){Sw(e.x,t,AB,n?n.x:void 0,r?r.x:void 0),Sw(e.y,t,RB,n?n.y:void 0,r?r.y:void 0)}function Nw(e){return e.translate===0&&e.scale===1}function E2(e){return Nw(e.x)&&Nw(e.y)}function kw(e,t){return e.min===t.min&&e.max===t.max}function MB(e,t){return kw(e.x,t.x)&&kw(e.y,t.y)}function Cw(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function T2(e,t){return Cw(e.x,t.x)&&Cw(e.y,t.y)}function Pw(e){return Ct(e.x)/Ct(e.y)}function Ew(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class DB{constructor(){this.members=[]}add(t){xx(this.members,t),t.scheduleRender()}remove(t){if(vx(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function IB(e,t,n){let r="";const s=e.x.translate/t.x,a=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||a||o)&&(r=`translate3d(${s}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:g,skewY:v}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),g&&(r+=`skewX(${g}deg) `),v&&(r+=`skewY(${v}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const ff=["","X","Y","Z"],OB=1e3;let LB=0;function mf(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function A2(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=g2(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Le,!(s||a))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&A2(r)}function R2({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=LB++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(UB),this.nodes.forEach(WB),this.nodes.forEach(HB),this.nodes.forEach(BB)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new _B)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new wx),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=KC(o)&&!E6(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,h=0;const f=()=>this.root.updateBlockedByResize=!1;Le.read(()=>{h=window.innerWidth}),e(o,()=>{const g=window.innerWidth;g!==h&&(h=g,this.root.updateBlockedByResize=!0,d&&d(),d=NB(f,250),Wc.hasAnimatedSinceResize&&(Wc.hasAnimatedSinceResize=!1,this.nodes.forEach(Rw)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||QB,{onLayoutAnimationStart:x,onLayoutAnimationComplete:b}=u.getProps(),y=!this.targetLayout||!T2(this.targetLayout,g),w=!h&&f;if(this.options.layoutRoot||this.resumeFrom||w||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const p={...Mx(v,"layout"),onPlay:x,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(p.delay=0,p.type=!1),this.startAnimation(p),this.setAnimationOrigin(d,w)}else h||Rw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),gs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(qB),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&A2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Tw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Aw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(zB),this.nodes.forEach(FB),this.nodes.forEach($B)):this.nodes.forEach(Aw),this.clearAllSnapshots();const l=Ft.now();lt.delta=Sr(0,1e3/60,l-lt.timestamp),lt.timestamp=l,lt.isProcessing=!0,tf.update.process(lt),tf.preRender.process(lt),tf.render.process(lt),lt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ix.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(VB),this.sharedNodes.forEach(KB)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Le.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Le.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ct(this.snapshot.measuredBox.x)&&!Ct(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ge(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!E2(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||Os(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),XB(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Ge();const l=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(JB))){const{scroll:d}=this.root;d&&(Hi(l.x,d.offset.x),Hi(l.y,d.offset.y))}return l}removeElementScroll(o){var c;const l=Ge();if(nn(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&nn(l,o),Hi(l.x,h.offset.x),Hi(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const c=Ge();nn(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&qi(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Os(d.latestValues)&&qi(c,d.latestValues)}return Os(this.latestValues)&&qi(c,this.latestValues),c}removeTransform(o){const l=Ge();nn(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Os(u.latestValues))continue;rp(u.latestValues)&&u.updateSnapshot();const d=Ge(),h=u.measurePageBox();nn(d,h),_w(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Os(this.latestValues)&&_w(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==lt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=lt.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ge(),this.relativeTargetOrigin=Ge(),Do(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),nn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ge(),this.targetWithTransforms=Ge()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),sB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):nn(this.target,this.layout.layoutBox),u2(this.target,this.targetDelta)):nn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ge(),this.relativeTargetOrigin=Ge(),Do(this.relativeTargetOrigin,this.target,g.target),nn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||rp(this.parent.latestValues)||c2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===lt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;nn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;gU(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ge());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(bw(this.prevProjectionDelta.x,this.projectionDelta.x),bw(this.prevProjectionDelta.y,this.projectionDelta.y)),Mo(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!Ew(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ew(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ki(),this.projectionDelta=Ki(),this.projectionDeltaWithTransform=Ki()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Ki();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=Ge(),g=c?c.source:void 0,v=this.layout?this.layout.source:void 0,x=g!==v,b=this.getStack(),y=!b||b.members.length<=1,w=!!(x&&!y&&this.options.crossfade===!0&&!this.path.some(YB));this.animationProgress=0;let p;this.mixTargetDelta=j=>{const S=j/1e3;Mw(h.x,o.x,S),Mw(h.y,o.y,S),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Do(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),GB(this.relativeTarget,this.relativeTargetOrigin,f,S),p&&MB(this.relativeTarget,p)&&(this.isProjectionDirty=!1),p||(p=Ge()),nn(p,this.relativeTarget)),x&&(this.animationValues=d,CB(d,u,this.latestValues,S,w,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(gs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Le.update(()=>{Wc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Na(0)),this.currentAnimation=jB(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(OB),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&M2(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Ge();const h=Ct(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=Ct(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}nn(l,c),qi(l,d),Mo(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new DB),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&mf("z",o,u,this.animationValues);for(let d=0;d<ff.length;d++)mf(`rotate${ff[d]}`,o,u,this.animationValues),mf(`skew${ff[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=zc(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=zc(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Os(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=IB(this.projectionDeltaWithTransform,this.treeScale,d);c&&(h=c(d,h)),o.transform=h;const{x:f,y:g}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${g.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in fl){if(d[v]===void 0)continue;const{correct:x,applyTo:b,isCSSVariable:y}=fl[v],w=h==="none"?d[v]:x(d[v],u);if(b){const p=b.length;for(let j=0;j<p;j++)o[b[j]]=w}else y?this.options.visualElement.renderState.vars[v]=w:o[v]=w}this.options.layoutId&&(o.pointerEvents=u===this?zc(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(Tw),this.root.sharedNodes.clear()}}}function FB(e){e.updateLayout()}function $B(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:a}=e.options,o=t.source!==e.layout.source;a==="size"?rn(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],g=Ct(f);f.min=r[h].min,f.max=f.min+g}):M2(a,t.layoutBox,r)&&rn(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],g=Ct(r[h]);f.max=f.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+g)});const l=Ki();Mo(l,r,t.layoutBox);const c=Ki();o?Mo(c,e.applyTransform(s,!0),t.measuredBox):Mo(c,r,t.layoutBox);const u=!E2(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:g}=h;if(f&&g){const v=Ge();Do(v,t.layoutBox,f.layoutBox);const x=Ge();Do(x,r,g.layoutBox),T2(v,x)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=v,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function UB(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function BB(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function VB(e){e.clearSnapshot()}function Tw(e){e.clearMeasurements()}function Aw(e){e.isLayoutDirty=!1}function zB(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Rw(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function WB(e){e.resolveTargetDelta()}function HB(e){e.calcProjection()}function qB(e){e.resetSkewAndRotation()}function KB(e){e.removeLeadSnapshot()}function Mw(e,t,n){e.translate=$e(t.translate,0,n),e.scale=$e(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Dw(e,t,n,r){e.min=$e(t.min,n.min,r),e.max=$e(t.max,n.max,r)}function GB(e,t,n,r){Dw(e.x,t.x,n.x,r),Dw(e.y,t.y,n.y,r)}function YB(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const QB={duration:.45,ease:[.4,0,.1,1]},Iw=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Ow=Iw("applewebkit/")&&!Iw("chrome/")?Math.round:hn;function Lw(e){e.min=Ow(e.min),e.max=Ow(e.max)}function XB(e){Lw(e.x),Lw(e.y)}function M2(e,t,n){return e==="position"||e==="preserve-aspect"&&!rB(Pw(t),Pw(n),.2)}function JB(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const ZB=R2({attachResizeListener:(e,t)=>ml(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),pf={current:void 0},D2=R2({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!pf.current){const e=new ZB({});e.mount(window),e.setOptions({layoutScroll:!0}),pf.current=e}return pf.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),e8={pan:{Feature:vB},drag:{Feature:xB,ProjectionNode:D2,MeasureLayout:k2}};function Fw(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=r[s];a&&Le.postRender(()=>a(t,Ll(t)))}class t8 extends Ss{mount(){const{current:t}=this.node;t&&(this.unmount=_6(t,(n,r)=>(Fw(this.node,r,"Start"),s=>Fw(this.node,s,"End"))))}unmount(){}}class n8 extends Ss{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Dl(ml(this.node.current,"focus",()=>this.onFocus()),ml(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function $w(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=r[s];a&&Le.postRender(()=>a(t,Ll(t)))}class r8 extends Ss{mount(){const{current:t}=this.node;t&&(this.unmount=P6(t,(n,r)=>($w(this.node,r,"Start"),(s,{success:a})=>$w(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const up=new WeakMap,gf=new WeakMap,s8=e=>{const t=up.get(e.target);t&&t(e)},i8=e=>{e.forEach(s8)};function a8({root:e,...t}){const n=e||document;gf.has(n)||gf.set(n,{});const r=gf.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(i8,{root:e,...t})),r[s]}function o8(e,t,n){const r=a8(t);return up.set(e,n),r.observe(e),()=>{up.delete(e),r.unobserve(e)}}const l8={some:0,all:1};class c8 extends Ss{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:l8[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return o8(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(u8(t,n))&&this.startObserver()}unmount(){}}function u8({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const d8={inView:{Feature:c8},tap:{Feature:r8},focus:{Feature:n8},hover:{Feature:t8}},h8={layout:{ProjectionNode:D2,MeasureLayout:k2}},f8={...XU,...d8,...e8,...h8},dp=fU(f8,kU),m8=_d("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ue({className:e,variant:t,...n}){return i.jsx("div",{className:Z(m8({variant:t}),e),...n})}const p8=({show:e,infoType:t,message:n})=>{const[r,s]=m.useState(!1);m.useEffect(()=>{if(e){s(!0);const l=setTimeout(()=>{s(!1)},4e3);return()=>clearTimeout(l)}},[e]);const a=()=>{switch(t){case"name":return i.jsx(Jn,{className:"w-3 h-3"});case"location":return i.jsx(zS,{className:"w-3 h-3"});case"occupation":return i.jsx(f4,{className:"w-3 h-3"});case"birthday":return i.jsx(ja,{className:"w-3 h-3"});default:return i.jsx(Su,{className:"w-3 h-3"})}},o=()=>{if(n)return n;switch(t){case"name":return"I'll remember your name!";case"location":return"Got it - I'll remember where you're from!";case"occupation":return"Interesting job - I'll remember that!";case"birthday":return"I'll make sure to wish you happy birthday!";default:return"Learning more about you!"}};return i.jsx(np,{children:r&&i.jsx(dp.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.9},transition:{duration:.3,ease:"easeOut"},className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-50",children:i.jsxs(Ue,{variant:"default",className:"bg-primary/90 text-primary-foreground shadow-lg border-0 px-3 py-2 flex items-center gap-2",children:[a(),i.jsx("span",{className:"text-sm font-medium",children:o()})]})})})},_s=Rk,Yd=Mk,g8=Dk,I2=m.forwardRef(({className:e,...t},n)=>i.jsx(ox,{ref:n,className:Z("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));I2.displayName=ox.displayName;const Pr=m.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(g8,{children:[i.jsx(I2,{}),i.jsxs(lx,{ref:r,className:Z("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,i.jsxs(dx,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(Dn,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Pr.displayName=lx.displayName;const Ns=({className:e,...t})=>i.jsx("div",{className:Z("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ns.displayName="DialogHeader";const O2=({className:e,...t})=>i.jsx("div",{className:Z("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});O2.displayName="DialogFooter";const ks=m.forwardRef(({className:e,...t},n)=>i.jsx(cx,{ref:n,className:Z("text-lg font-semibold leading-none tracking-tight",e),...t}));ks.displayName=cx.displayName;const Ba=m.forwardRef(({className:e,...t},n)=>i.jsx(ux,{ref:n,className:Z("text-sm text-muted-foreground",e),...t}));Ba.displayName=ux.displayName;const x8="/assets/chocolates-DaPzePSH.jpg",v8="/assets/candies-LSnXaryY.jpg",y8="/assets/pink-roses-Z4t2JO1j.jpg",w8="/assets/red-roses-CFcceATV.jpg",b8="/assets/white-roses-D6R-1LP2.jpg",j8="/assets/tulips-7GMOSjEo.jpg",S8="/assets/sunflowers-NyHNRO6J.jpg",_8="/assets/daisies-E3uHuzOQ.jpg",N8="/assets/cactus-M-I_B0qp.jpg",k8="/assets/kitten-Bxr82a3M.jpg",C8="/assets/puppy-BS_0erD4.jpg",P8="/assets/audi-r8-D-Sr1zXg.jpg",E8="/assets/range-rover-DHjBCxCK.jpg",T8="/assets/beautiful-house-Cu0KPTDN.jpg",A8="/assets/lingerie-red-CxmpQUgX.jpg",R8="/assets/lingerie-black-DZ-H7y_H.jpg",M8="/assets/lingerie-white-B_KrxFzW.jpg",D8="/assets/silk-nightgown-DFas0EPO.jpg",I8="/assets/satin-robe-DWvdLart.jpg",O8="/assets/perfume-myGh6FRq.jpg",L8="/assets/ferrari--hOscwCh.jpg",F8="/assets/porsche-911-DRnQjgar.jpg",$8="/assets/coca-cola-Cg7TwmsH.jpg",U8="/assets/pepsi-Ca2JH_-5.jpg",B8="/assets/mars-chocolate-DMEy0LyI.jpg",V8="/assets/bose-headphones-BjF-s4aT.jpg",z8="/assets/romantic-vacation-DzQCIpHa.jpg",W8="/assets/thank-you-card-BREf0k5K.jpg",H8="/assets/love-you-card-CRegbusO.jpg",q8="/assets/pink-handcuffs-ClVac8qr.jpg",K8="/assets/cappuccino-IsSCaENu.jpg",G8="/assets/iced-coffee-GF3_Zdv4.jpg",Y8="/assets/matcha-drink-CZ5w7AqZ.jpg",Q8="/assets/tea-9bPGCg13.jpg",X8="/assets/tequila-DOfqU5P_.jpg",J8="/assets/merlot-BcGmD49q.jpg",Z8="/assets/pinotage-DvzbG30V.jpg",eV="/assets/sauvignon-blanc-DQDi50Ry.jpg",tV="/assets/chardonnay-MIZlcH7d.jpg",nV="/assets/moet-chandon-tLCDEYzU.jpg",rV="/assets/cadbury-dairy-milk-ASGpOo1E.jpg",sV="/assets/lindt-excellence-DcudqrA6.jpg",iV="/assets/ferrero-rocher-NCxtHiD_.jpg",aV="/assets/milky-bar-m_RhadQZ.jpg",oV="/assets/smarties-rYw8nYVc.jpg",lV="/assets/lays-lightly-salted-CBjAd-G9.jpg",cV="/assets/pringles-CjLpaYcp.jpg",uV="/assets/chicken-pie-Gxoy3tJe.jpg",dV="/assets/cornish-pie-DsBre6DJ.jpg",hV="/assets/steak-pepper-pie-Ba4M2GXl.jpg",fV="/assets/rubber-plant-BSFouPcE.jpg",mV="/assets/snake-plant-qBB6C4Lh.jpg",pV="/assets/spider-plant-BK8haLM5.jpg",gV="/assets/zz-plant-D1h-r_r3.jpg",xV="/assets/aloe-vera-B9deIHlP.jpg",vV="/assets/fiddle-leaf-fig-rZGlZQKQ.jpg",yV="/assets/peace-lily-Cvsh4Ej1.jpg",wV="/assets/pothos-DShYCpUd.jpg",bV="/assets/monstera-deliciosa-Dyda_aYP.jpg",jV="/assets/french-bulldog-CJ_WdY2y.jpg",SV="/assets/labrador-retriever-Z1jIUIMV.jpg",_V="/assets/golden-retriever-Dwr7qM-T.jpg",NV="/assets/german-shepherd-B3LsXmCv.jpg",kV="/assets/poodle-DfYIc9me.jpg",CV="/assets/beagle-WrQn4wwO.jpg",PV="/assets/dachshund--J39vXPg.jpg",EV="/assets/rottweiler-GdhRkEki.jpg",TV="/assets/german-shorthaired-pointer-CHTs-Qjp.jpg",AV="/assets/yorkshire-terrier-ByA7OL2c.jpg",RV="/assets/mercedes-s-class-npLrbo7_.jpg",MV="/assets/bmw-7-series-ChwydU0F.jpg",DV="/assets/rolls-royce-phantom-Ci0pkXjZ.jpg",IV="/assets/porsche-cayenne-efu9IxqU.jpg",OV="/assets/lexus-rx-CwzUhNli.jpg",LV="/assets/tesla-model-x-Dg5jJQ7U.jpg",FV="/assets/bentley-bentayga-B6qbohxl.jpg",$V="/assets/bentley-continental-gt-Ci12jJDo.jpg",UV="/assets/iphone-8hnbqCh7.jpg",BV="/assets/ipad-B_SrQWFD.jpg",VV="/assets/imac-Dv_6ABeU.jpg",zV="/assets/macbook-C8aCpVnx.jpg",WV="/assets/samsung-tv-B0SqMObh.jpg",xf=[{id:"chocolates",name:"Premium Chocolates",category:"Sweet Treats",imageUrl:x8,price:"25 Bucks"},{id:"candies",name:"Colorful Candies",category:"Sweet Treats",imageUrl:v8,price:"15 Bucks"},{id:"pink-roses",name:"Pink Roses",category:"Flowers",imageUrl:y8,price:"40 Bucks"},{id:"red-roses",name:"Red Roses",category:"Flowers",imageUrl:w8,price:"45 Bucks"},{id:"white-roses",name:"White Roses",category:"Flowers",imageUrl:b8,price:"40 Bucks"},{id:"tulips",name:"Colorful Tulips",category:"Flowers",imageUrl:j8,price:"35 Bucks"},{id:"sunflowers",name:"Bright Sunflowers",category:"Flowers",imageUrl:S8,price:"30 Bucks"},{id:"daisies",name:"White Daisies",category:"Flowers",imageUrl:_8,price:"25 Bucks"},{id:"cactus",name:"Cute Cactus",category:"Plants",imageUrl:N8,price:"20 Bucks"},{id:"kitten",name:"Adorable Kitten",category:"Pets",imageUrl:k8,price:"500 Bucks"},{id:"puppy",name:"Cute Puppy",category:"Pets",imageUrl:C8,price:"500 Bucks"},{id:"audi-r8",name:"Audi R8",category:"Luxury Cars",imageUrl:P8,price:"5000 Bucks"},{id:"range-rover",name:"Range Rover",category:"Luxury Cars",imageUrl:E8,price:"4000 Bucks"},{id:"beautiful-house",name:"Beautiful House",category:"Real Estate",imageUrl:T8,price:"10000 Bucks"},{id:"lingerie-red",name:"Red Lingerie Set",category:"Intimate",imageUrl:A8,price:"150 Bucks"},{id:"lingerie-black",name:"Black Lingerie Set",category:"Intimate",imageUrl:R8,price:"150 Bucks"},{id:"lingerie-white",name:"White Lingerie Set",category:"Intimate",imageUrl:M8,price:"150 Bucks"},{id:"silk-nightgown",name:"Silk Nightgown",category:"Intimate",imageUrl:D8,price:"200 Bucks"},{id:"satin-robe",name:"Satin Robe",category:"Intimate",imageUrl:I8,price:"120 Bucks"},{id:"perfume",name:"Romantic Perfume",category:"Intimate",imageUrl:O8,price:"80 Bucks"},{id:"ferrari",name:"Ferrari",category:"Luxury Cars",imageUrl:L8,price:"6000 Bucks"},{id:"porsche-911",name:"Porsche 911",category:"Luxury Cars",imageUrl:F8,price:"5500 Bucks"},{id:"coca-cola",name:"Coca Cola",category:"Beverages",imageUrl:$8,price:"5 Bucks"},{id:"pepsi",name:"Pepsi",category:"Beverages",imageUrl:U8,price:"5 Bucks"},{id:"mars-chocolate",name:"Mars Chocolate Bar",category:"Sweet Treats",imageUrl:B8,price:"10 Bucks"},{id:"cadbury-dairy-milk",name:"Cadbury Dairy Milk",category:"Sweet Treats",imageUrl:rV,price:"12 Bucks"},{id:"lindt-excellence",name:"Lindt Excellence",category:"Sweet Treats",imageUrl:sV,price:"18 Bucks"},{id:"ferrero-rocher",name:"Ferrero Rocher",category:"Sweet Treats",imageUrl:iV,price:"22 Bucks"},{id:"milky-bar",name:"Milky Bar",category:"Sweet Treats",imageUrl:aV,price:"8 Bucks"},{id:"bose-headphones",name:"BOSE Headphones",category:"Electronics",imageUrl:V8,price:"300 Bucks"},{id:"romantic-vacation",name:"Romantic Vacation for 2",category:"Experiences",imageUrl:z8,price:"2000 Bucks"},{id:"thank-you-card",name:"Thank You Card",category:"Cards",imageUrl:W8,price:"5 Bucks"},{id:"love-you-card",name:"I Love You Card",category:"Cards",imageUrl:H8,price:"5 Bucks"},{id:"pink-handcuffs",name:"Pink Fluffy Handcuffs",category:"Intimate",imageUrl:q8,price:"75 Bucks"},{id:"cappuccino",name:"Cappuccino",category:"Beverages",imageUrl:K8,price:"8 Bucks"},{id:"iced-coffee",name:"Iced Coffee",category:"Beverages",imageUrl:G8,price:"7 Bucks"},{id:"matcha-drink",name:"Matcha Drink",category:"Beverages",imageUrl:Y8,price:"9 Bucks"},{id:"tea",name:"Tea",category:"Beverages",imageUrl:Q8,price:"6 Bucks"},{id:"tequila",name:"Tequila",category:"Wine & Spirits",imageUrl:X8,price:"120 Bucks"},{id:"merlot",name:"Bottle of Merlot",category:"Wine & Spirits",imageUrl:J8,price:"85 Bucks"},{id:"pinotage",name:"Bottle of Pinotage",category:"Wine & Spirits",imageUrl:Z8,price:"75 Bucks"},{id:"sauvignon-blanc",name:"Sauvignon Blanc",category:"Wine & Spirits",imageUrl:eV,price:"70 Bucks"},{id:"chardonnay",name:"Chardonnay",category:"Wine & Spirits",imageUrl:tV,price:"80 Bucks"},{id:"moet-chandon",name:"Moet & Chandon",category:"Wine & Spirits",imageUrl:nV,price:"200 Bucks"},{id:"smarties",name:"Smarties",category:"Sweet Treats",imageUrl:oV,price:"7 Bucks"},{id:"lays-lightly-salted",name:"Lays Lightly Salted",category:"Snacks",imageUrl:lV,price:"15 Bucks"},{id:"pringles",name:"Pringles",category:"Snacks",imageUrl:cV,price:"18 Bucks"},{id:"chicken-pie",name:"Chicken Pie",category:"Food",imageUrl:uV,price:"45 Bucks"},{id:"cornish-pie",name:"Cornish Pie",category:"Food",imageUrl:dV,price:"35 Bucks"},{id:"steak-pepper-pie",name:"Steak and Pepper Pie",category:"Food",imageUrl:hV,price:"55 Bucks"},{id:"rubber-plant",name:"Rubber Plant",category:"Plants",imageUrl:fV,price:"45 Bucks"},{id:"snake-plant",name:"Snake Plant",category:"Plants",imageUrl:mV,price:"35 Bucks"},{id:"spider-plant",name:"Spider Plant",category:"Plants",imageUrl:pV,price:"30 Bucks"},{id:"zz-plant",name:"ZZ Plant",category:"Plants",imageUrl:gV,price:"40 Bucks"},{id:"aloe-vera",name:"Aloe Vera",category:"Plants",imageUrl:xV,price:"25 Bucks"},{id:"fiddle-leaf-fig",name:"Fiddle Leaf Fig",category:"Plants",imageUrl:vV,price:"65 Bucks"},{id:"peace-lily",name:"Peace Lily",category:"Plants",imageUrl:yV,price:"35 Bucks"},{id:"pothos",name:"Pothos",category:"Plants",imageUrl:wV,price:"25 Bucks"},{id:"monstera-deliciosa",name:"Monstera Deliciosa",category:"Plants",imageUrl:bV,price:"55 Bucks"},{id:"french-bulldog",name:"French Bulldog",category:"Pets",imageUrl:jV,price:"800 Bucks"},{id:"labrador-retriever",name:"Labrador Retriever",category:"Pets",imageUrl:SV,price:"600 Bucks"},{id:"golden-retriever",name:"Golden Retriever",category:"Pets",imageUrl:_V,price:"650 Bucks"},{id:"german-shepherd",name:"German Shepherd",category:"Pets",imageUrl:NV,price:"700 Bucks"},{id:"poodle",name:"Poodle",category:"Pets",imageUrl:kV,price:"550 Bucks"},{id:"beagle",name:"Beagle",category:"Pets",imageUrl:CV,price:"500 Bucks"},{id:"dachshund",name:"Dachshund",category:"Pets",imageUrl:PV,price:"450 Bucks"},{id:"rottweiler",name:"Rottweiler",category:"Pets",imageUrl:EV,price:"750 Bucks"},{id:"german-shorthaired-pointer",name:"German Shorthaired Pointer",category:"Pets",imageUrl:TV,price:"600 Bucks"},{id:"yorkshire-terrier",name:"Yorkshire Terrier",category:"Pets",imageUrl:AV,price:"400 Bucks"},{id:"mercedes-s-class",name:"Mercedes-Benz S-Class",category:"Luxury Cars",imageUrl:RV,price:"7500 Bucks"},{id:"bmw-7-series",name:"BMW 7 Series",category:"Luxury Cars",imageUrl:MV,price:"7000 Bucks"},{id:"rolls-royce-phantom",name:"Rolls-Royce Phantom",category:"Luxury Cars",imageUrl:DV,price:"15000 Bucks"},{id:"porsche-cayenne",name:"Porsche Cayenne",category:"Luxury Cars",imageUrl:IV,price:"4500 Bucks"},{id:"lexus-rx",name:"Lexus RX",category:"Luxury Cars",imageUrl:OV,price:"3500 Bucks"},{id:"tesla-model-x",name:"Tesla Model X",category:"Luxury Cars",imageUrl:LV,price:"4000 Bucks"},{id:"bentley-bentayga",name:"Bentley Bentayga",category:"Luxury Cars",imageUrl:FV,price:"12000 Bucks"},{id:"bentley-continental-gt",name:"Bentley Continental GT",category:"Luxury Cars",imageUrl:$V,price:"11000 Bucks"},{id:"iphone",name:"iPhone",category:"Electronics",imageUrl:UV,price:"1200 Bucks"},{id:"ipad",name:"iPad",category:"Electronics",imageUrl:BV,price:"800 Bucks"},{id:"imac",name:"iMac",category:"Electronics",imageUrl:VV,price:"1500 Bucks"},{id:"macbook",name:"MacBook",category:"Electronics",imageUrl:zV,price:"2000 Bucks"},{id:"samsung-tv",name:"Samsung TV",category:"Electronics",imageUrl:WV,price:"1000 Bucks"}],HV=({isOpen:e,onClose:t,onSelectGift:n})=>{const[r,s]=m.useState("all"),[a,o]=m.useState(!1);m.useEffect(()=>{const d=()=>{o(window.innerWidth<=768)};return d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]);const l=["all",...Array.from(new Set(xf.map(d=>d.category)))],c=r==="all"?xf:xf.filter(d=>d.category===r),u=d=>{n(d),t()};return i.jsx(_s,{open:e,onOpenChange:t,children:i.jsxs(Pr,{className:"max-w-4xl w-[95vw] h-[85vh] p-0 overflow-hidden flex flex-col",children:[i.jsxs(Ns,{className:"p-4 pb-3 border-b bg-gradient-to-r from-pink-50 to-purple-50",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ks,{className:"text-2xl font-bold bg-gradient-romantic bg-clip-text text-transparent",children:"Choose the Perfect Gift 💝"}),i.jsx(L,{variant:"ghost",size:"sm",onClick:t,className:"h-8 w-8 p-0",children:i.jsx(Dn,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"flex gap-2 mt-3 overflow-x-auto pb-2 px-1",style:{scrollbarWidth:"thin"},children:l.map(d=>i.jsx(L,{variant:r===d?"default":"outline",size:"sm",onClick:()=>s(d),className:"whitespace-nowrap capitalize flex-shrink-0",children:d==="all"?"All Gifts":d},d))})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:i.jsx("div",{className:`grid gap-2 ${a?"grid-cols-4 sm:grid-cols-5":"grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-8"}`,children:c.map(d=>i.jsx(G,{className:"cursor-pointer hover:shadow-lg transition-all duration-200 hover:scale-105 group border-2 hover:border-pink-400 bg-gradient-to-br from-white to-pink-50/30",onClick:()=>u(d),children:i.jsxs(Y,{className:`${a?"p-1.5":"p-2"}`,children:[i.jsx("div",{className:"aspect-square rounded-md overflow-hidden mb-1 bg-gradient-to-br from-muted to-muted/50",children:i.jsx("img",{src:d.imageUrl,alt:d.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-200",loading:"lazy"})}),i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:`font-semibold mb-1 line-clamp-2 leading-tight ${a?"text-[10px]":"text-xs"}`,children:d.name}),d.price&&i.jsx("div",{className:`font-medium text-white bg-gradient-romantic rounded-full px-1.5 py-0.5 ${a?"text-[9px]":"text-xs"}`,children:d.price})]})]})},d.id))})}),i.jsx("div",{className:"p-4 bg-gradient-to-r from-pink-50 to-purple-50 border-t",children:i.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:[c.length," gifts available • Click any gift to send it with love 💕"]})})]})})},qV=({onPhotoUploaded:e,disabled:t})=>{const{user:n}=ve(),[r,s]=m.useState(!1),[a,o]=m.useState(null),[l,c]=m.useState(null),u=m.useRef(null),d=g=>{var x;const v=(x=g.target.files)==null?void 0:x[0];if(v){if(!v.type.startsWith("image/")){H.error("Please select an image file");return}if(v.size>10*1024*1024){H.error("Image must be less than 10MB");return}c(v);const b=new FileReader;b.onload=y=>{var w;o((w=y.target)==null?void 0:w.result)},b.readAsDataURL(v)}},h=async()=>{var g,v,x,b;if(!n){H.error("Please log in to upload photos");return}if(!l){H.error("No file selected");return}s(!0);try{console.log("🔄 Starting upload for user:",n.id),console.log("📁 File details:",{name:l.name,size:l.size,type:l.type});const y=l.name.split(".").pop(),w=`${n.id}/${Date.now()}.${y}`;console.log("📤 Uploading to path:",w);try{const{data:N,error:k}=await I.storage.listBuckets();console.log("📦 Available buckets:",N),k&&console.error("❌ Bucket listing error:",k)}catch(N){console.error("❌ Bucket test failed:",N)}const{data:p,error:j}=await I.storage.from("chat-photos").upload(w,l,{cacheControl:"3600",upsert:!1});if(j){console.error("❌ Upload error details:",{message:j.message,name:j.name,stack:j.stack}),(g=j.message)!=null&&g.includes("bucket")?H.error('Storage bucket "chat-photos" not found. Please create it in Supabase storage.'):(v=j.message)!=null&&v.includes("policy")||(x=j.message)!=null&&x.includes("permission")?H.error("Permission denied. Please check storage policies for the chat-photos bucket."):(b=j.message)!=null&&b.includes("JWT")?H.error("Authentication error. Please log in again."):H.error(`Upload failed: ${j.message||"Unknown error"}`);return}console.log("✅ Upload successful, data:",p);const{data:S}=I.storage.from("chat-photos").getPublicUrl(p.path);console.log("🌐 Public URL data:",S);const _=S.publicUrl;console.log("🔗 Final public URL:",_);try{const N=await fetch(_,{method:"HEAD"});console.log("🔍 URL accessibility check:",N.status),N.ok||console.warn("⚠️ URL might not be publicly accessible")}catch(N){console.warn("⚠️ URL accessibility test failed:",N)}e(_),o(null),c(null),u.current&&(u.current.value=""),H.success("✅ Photo sent successfully!")}catch(y){console.error("💥 Unexpected error:",y),H.error("Failed to upload photo. Please check console for details.")}finally{s(!1)}},f=()=>{o(null),c(null),u.current&&(u.current.value="")};return a?i.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted rounded-lg",children:[i.jsx("img",{src:a,alt:"Preview",className:"w-16 h-16 object-cover rounded"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium",children:"Ready to send"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Your girlfriend will comment on this photo"})]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx(L,{size:"sm",onClick:h,disabled:r,className:"bg-gradient-romantic hover:bg-gradient-romantic/90 text-white disabled:opacity-50",children:r?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-white mr-1"}),"Sending..."]}):"Send Photo"}),i.jsx(L,{size:"sm",variant:"ghost",onClick:f,disabled:r,children:i.jsx(Dn,{className:"h-4 w-4"})})]})]}):i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{ref:u,type:"file",accept:"image/*",onChange:d,style:{display:"none"},id:"photo-upload-input"}),i.jsx(L,{onClick:()=>{var g;return(g=u.current)==null?void 0:g.click()},disabled:t||r,className:"rounded-full bg-green-500 hover:bg-green-600 text-white w-10 h-10 p-0",title:"Upload photo",children:i.jsx(DS,{className:"h-5 w-5"})})]})},KV=({onTranscriptReady:e,disabled:t})=>{const[n,r]=m.useState(!1),[s,a]=m.useState(!1),[o,l]=m.useState(""),c=m.useRef(null),u=m.useRef([]),d=async()=>{try{const v=await navigator.mediaDevices.getUserMedia({audio:{sampleRate:16e3,channelCount:1,echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}}),x=new MediaRecorder(v,{mimeType:"audio/webm;codecs=opus"});c.current=x,u.current=[],x.ondataavailable=b=>{b.data.size>0&&u.current.push(b.data)},x.onstop=async()=>{const b=new Blob(u.current,{type:"audio/webm"});v.getTracks().forEach(y=>y.stop()),await f(b)},x.start(1e3),r(!0)}catch(v){console.error("Error starting recording:",v)}},h=()=>{c.current&&n&&(c.current.stop(),r(!1),a(!0))},f=async v=>{try{const x=new FileReader;x.onloadend=async()=>{const b=x.result.split(",")[1];try{const{data:y,error:w}=await I.functions.invoke("transcribe-audio",{body:{audio:b}});if(w)throw console.error("Transcription error:",w),new Error("Failed to transcribe audio");const p=(y==null?void 0:y.transcript)||"";l(p),p&&e(p)}catch(y){console.error("Transcription failed:",y)}finally{a(!1),setTimeout(()=>l(""),3e3)}},x.readAsDataURL(v)}catch(x){console.error("Transcription error:",x),a(!1)}},g=()=>{n?h():(l(""),d())};return o&&!s?i.jsxs("div",{className:"absolute bottom-16 left-4 right-4 p-2 bg-primary/10 rounded-lg border border-primary/20 animate-fade-in",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Voice sent:"}),i.jsx("p",{className:"text-sm font-medium text-foreground",children:o})]}):i.jsx(L,{onClick:g,disabled:t,className:`rounded-full text-white w-10 h-10 p-0 transition-all duration-300 relative ${n?"bg-red-500 hover:bg-red-600 shadow-lg shadow-red-500/50":s?"bg-primary/70 hover:bg-primary/80":"bg-primary hover:bg-primary/90"} ${n?"animate-pulse":""}`,title:n?"Stop recording":s?"Processing voice...":"Start voice recording",children:s?i.jsxs("div",{className:"relative",children:[i.jsx(Bh,{className:"h-5 w-5 opacity-50"}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-white"})})]}):n?i.jsxs("div",{className:"relative",children:[i.jsx(Bh,{className:"h-5 w-5"}),i.jsx("div",{className:"absolute inset-0 rounded-full bg-red-500 animate-ping opacity-75"})]}):i.jsx(Bh,{className:"h-5 w-5"})})},L2=({isOpen:e,onClose:t,companionId:n,companionName:r,initialPhotoUrl:s})=>{const{isAdmin:a}=La(),[o,l]=m.useState([]),[c,u]=m.useState(0),[d,h]=m.useState(!0),[f,g]=m.useState(!1),[v,x]=m.useState(null),[b,y]=m.useState(null),[w,p]=m.useState(null),j=50,S=R=>{p(null),y(R.targetTouches[0].clientX)},_=R=>{p(R.targetTouches[0].clientX)},N=()=>{if(!b||!w)return;const R=b-w,O=R>j,C=R<-j;O&&o.length>1&&k(),C&&o.length>1&&T()};m.useEffect(()=>{const R=O=>{if(e)switch(O.key){case"ArrowLeft":O.preventDefault(),T();break;case"ArrowRight":O.preventDefault(),k();break;case"Escape":O.preventDefault(),t();break}};if(e)return document.addEventListener("keydown",R),()=>document.removeEventListener("keydown",R)},[e]),m.useEffect(()=>{(async()=>{if(!(!e||!n))try{h(!0);const{data:O,error:C}=await I.from("companion_models").select("photo_url").eq("id",n).single();if(C){console.error("Error fetching companion:",C);return}const{data:M,error:E}=await I.from("companion_photos").select("*").eq("companion_model_id",n).order("created_at",{ascending:!1});if(E){console.error("Error fetching photos:",E);return}const A=[{id:"main",photo_url:O.photo_url},...M||[]];l(A);const V=A.findIndex(se=>se.photo_url===s);u(V>=0?V:0)}catch(O){console.error("Error loading photos:",O)}finally{h(!1)}})()},[e,n,s]);const k=()=>{o.length>1&&u(R=>(R+1)%o.length)},T=()=>{o.length>1&&u(R=>(R-1+o.length)%o.length)},D=async()=>{const R=o[c];if(!a||!R){H.error("You do not have permission to delete photos");return}if(R.id==="main"){H.error("Cannot delete main profile photo");return}const O=R;try{const{error:C}=await I.from("companion_photos").delete().eq("id",O.id);if(C){console.error("Error deleting photo:",C),H.error("Failed to delete photo");return}const M=o.filter((E,A)=>A!==c);l(M),c>=M.length&&u(Math.max(0,M.length-1)),H.success("Photo deleted successfully"),g(!1)}catch(C){console.error("Error deleting photo:",C),H.error("Failed to delete photo")}},F=()=>{if(!a)return;const R=setTimeout(()=>{g(!0)},800);x(R)},P=()=>{v&&(clearTimeout(v),x(null))},U=()=>{if(!a)return;const R=setTimeout(()=>{g(!0)},800);x(R)},$=()=>{v&&(clearTimeout(v),x(null))},K=o[c];return e?i.jsx(_s,{open:e,onOpenChange:t,children:i.jsx(Pr,{className:"max-w-none w-[90vw] h-[90vh] p-0 border-none bg-transparent shadow-none [&>button]:hidden",children:i.jsxs("div",{className:"relative w-full h-full bg-black/95 rounded-lg overflow-hidden",children:[i.jsx("button",{onClick:t,className:"absolute top-4 right-4 z-20 bg-black/50 hover:bg-black/70 text-white rounded-full p-3 transition-colors",children:i.jsx(Dn,{className:"w-6 h-6"})}),o.length>1&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:T,className:"absolute bottom-20 left-4 z-20 bg-black/50 hover:bg-black/70 text-white rounded-full p-3 transition-colors",children:i.jsx(g4,{className:"w-6 h-6"})}),i.jsx("button",{onClick:k,className:"absolute bottom-20 right-4 z-20 bg-black/50 hover:bg-black/70 text-white rounded-full p-3 transition-colors",children:i.jsx(OS,{className:"w-6 h-6"})})]}),o.length>1&&i.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-20 bg-black/50 text-white px-4 py-2 rounded-full text-sm",children:[c+1," / ",o.length]}),a&&f&&(K==null?void 0:K.id)!=="main"&&i.jsx("button",{onClick:D,className:"absolute bottom-4 right-4 z-20 bg-red-500 hover:bg-red-600 text-white rounded-full p-3 transition-colors animate-pulse",children:i.jsx(Mn,{className:"w-6 h-6"})}),d?i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx("div",{className:"text-white text-lg",children:"Loading..."})}):K?i.jsx("div",{className:"w-full h-full",onTouchStart:S,onTouchMove:_,onTouchEnd:N,children:i.jsx("img",{src:K.photo_url,alt:`${r} photo ${c+1}`,className:"w-full h-full object-contain cursor-pointer select-none",onMouseDown:F,onMouseUp:P,onMouseLeave:P,onTouchStart:U,onTouchEnd:$,onClick:()=>g(!1),onError:R=>{const O=R.target;O.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0xMDAgODBDMTA2LjYyNyA4MCAxMTIgNzQuNjI3MyAxMTIgNjhDMTEyIDYxLjM3MjcgMTA2LjYyNyA1NiAxMDAgNTZDOTMuMzczIDU2IDg4IDYxLjM3MjcgODggNjhDODggNzQuNjI3MyA5My4zNzMgODAgMTAwIDgwWiIgZmlsbD0iIzlDQTNBRiIvPgo8cGF0aCBkPSJNMTAwIDg4QzExMy4yNTUgODggMTI0IDk4Ljc0NTIgMTI0IDExMlYxMjBIMTI0SDc2Vjc2VjExMkM3NiA5OC43NDUyIDg2Ljc0NTIgODggMTAwIDg4WiIgZmlsbD0iIzlDQTNBRiIvPgo8L3N2Zz4K"}})}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx("div",{className:"text-white text-lg",children:"No photos available"})}),i.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6",children:[i.jsx("h3",{className:"text-white text-2xl font-semibold mb-2",children:r}),(K==null?void 0:K.caption)&&i.jsx("p",{className:"text-white/80 text-sm",children:K.caption})]}),a&&i.jsx("div",{className:"absolute top-16 left-4 z-10 bg-black/50 text-white px-3 py-2 rounded text-xs",children:"Hold photo to delete"})]})})}):null},F2=6048e5,GV=864e5,Uw=Symbol.for("constructDateFrom");function Jt(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Uw in e?e[Uw](t):e instanceof Date?new e.constructor(t):new Date(t)}function gn(e,t){return Jt(t||e,e)}function YV(e,t,n){const r=gn(e,n==null?void 0:n.in);return isNaN(t)?Jt(e,NaN):(r.setDate(r.getDate()+t),r)}let QV={};function Qd(){return QV}function pl(e,t){var l,c,u,d;const n=Qd(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=gn(e,t==null?void 0:t.in),a=s.getDay(),o=(a<r?7:0)+a-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Vu(e,t){return pl(e,{...t,weekStartsOn:1})}function $2(e,t){const n=gn(e,t==null?void 0:t.in),r=n.getFullYear(),s=Jt(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const a=Vu(s),o=Jt(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const l=Vu(o);return n.getTime()>=a.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function Bw(e){const t=gn(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Kx(e,...t){const n=Jt.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function zu(e,t){const n=gn(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function XV(e,t,n){const[r,s]=Kx(n==null?void 0:n.in,e,t),a=zu(r),o=zu(s),l=+a-Bw(a),c=+o-Bw(o);return Math.round((l-c)/GV)}function JV(e,t){const n=$2(e,t),r=Jt(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Vu(r)}function Gx(e){return Jt(e,Date.now())}function Yx(e,t,n){const[r,s]=Kx(n==null?void 0:n.in,e,t);return+zu(r)==+zu(s)}function ZV(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function ez(e){return!(!ZV(e)&&typeof e!="number"||isNaN(+gn(e)))}function tz(e,t){const n=gn(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const nz={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},rz=(e,t,n)=>{let r;const s=nz[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function vf(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const sz={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},iz={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},az={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},oz={date:vf({formats:sz,defaultWidth:"full"}),time:vf({formats:iz,defaultWidth:"full"}),dateTime:vf({formats:az,defaultWidth:"full"})},lz={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},cz=(e,t,n,r)=>lz[e];function io(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const uz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},dz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},hz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},fz={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},pz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},gz=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},xz={ordinalNumber:gz,era:io({values:uz,defaultWidth:"wide"}),quarter:io({values:dz,defaultWidth:"wide",argumentCallback:e=>e-1}),month:io({values:hz,defaultWidth:"wide"}),day:io({values:fz,defaultWidth:"wide"}),dayPeriod:io({values:mz,defaultWidth:"wide",formattingValues:pz,defaultFormattingWidth:"wide"})};function ao(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const o=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?yz(l,h=>h.test(o)):vz(l,h=>h.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function vz(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function yz(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function wz(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const bz=/^(\d+)(th|st|nd|rd)?/i,jz=/\d+/i,Sz={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_z={any:[/^b/i,/^(a|c)/i]},Nz={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},kz={any:[/1/i,/2/i,/3/i,/4/i]},Cz={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Pz={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ez={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Tz={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Az={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Rz={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Mz={ordinalNumber:wz({matchPattern:bz,parsePattern:jz,valueCallback:e=>parseInt(e,10)}),era:ao({matchPatterns:Sz,defaultMatchWidth:"wide",parsePatterns:_z,defaultParseWidth:"any"}),quarter:ao({matchPatterns:Nz,defaultMatchWidth:"wide",parsePatterns:kz,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ao({matchPatterns:Cz,defaultMatchWidth:"wide",parsePatterns:Pz,defaultParseWidth:"any"}),day:ao({matchPatterns:Ez,defaultMatchWidth:"wide",parsePatterns:Tz,defaultParseWidth:"any"}),dayPeriod:ao({matchPatterns:Az,defaultMatchWidth:"any",parsePatterns:Rz,defaultParseWidth:"any"})},Dz={code:"en-US",formatDistance:rz,formatLong:oz,formatRelative:cz,localize:xz,match:Mz,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Iz(e,t){const n=gn(e,t==null?void 0:t.in);return XV(n,tz(n))+1}function Oz(e,t){const n=gn(e,t==null?void 0:t.in),r=+Vu(n)-+JV(n);return Math.round(r/F2)+1}function U2(e,t){var d,h,f,g;const n=gn(e,t==null?void 0:t.in),r=n.getFullYear(),s=Qd(),a=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(f=s.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??1,o=Jt((t==null?void 0:t.in)||e,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const l=pl(o,t),c=Jt((t==null?void 0:t.in)||e,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const u=pl(c,t);return+n>=+l?r+1:+n>=+u?r:r-1}function Lz(e,t){var l,c,u,d;const n=Qd(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=U2(e,t),a=Jt((t==null?void 0:t.in)||e,0);return a.setFullYear(s,0,r),a.setHours(0,0,0,0),pl(a,t)}function Fz(e,t){const n=gn(e,t==null?void 0:t.in),r=+pl(n,t)-+Lz(n,t);return Math.round(r/F2)+1}function Pe(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Mr={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Pe(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Pe(n+1,2)},d(e,t){return Pe(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Pe(e.getHours()%12||12,t.length)},H(e,t){return Pe(e.getHours(),t.length)},m(e,t){return Pe(e.getMinutes(),t.length)},s(e,t){return Pe(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Pe(s,t.length)}},Ci={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Vw={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Mr.y(e,t)},Y:function(e,t,n,r){const s=U2(e,r),a=s>0?s:1-s;if(t==="YY"){const o=a%100;return Pe(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):Pe(a,t.length)},R:function(e,t){const n=$2(e);return Pe(n,t.length)},u:function(e,t){const n=e.getFullYear();return Pe(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Pe(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Pe(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Mr.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Pe(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=Fz(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):Pe(s,t.length)},I:function(e,t,n){const r=Oz(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Pe(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Mr.d(e,t)},D:function(e,t,n){const r=Iz(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Pe(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Pe(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Pe(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return Pe(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=Ci.noon:r===0?s=Ci.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=Ci.evening:r>=12?s=Ci.afternoon:r>=4?s=Ci.morning:s=Ci.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Mr.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Mr.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Pe(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Pe(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Mr.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Mr.s(e,t)},S:function(e,t){return Mr.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Ww(r);case"XXXX":case"XX":return Ls(r);case"XXXXX":case"XXX":default:return Ls(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Ww(r);case"xxxx":case"xx":return Ls(r);case"xxxxx":case"xxx":default:return Ls(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+zw(r,":");case"OOOO":default:return"GMT"+Ls(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+zw(r,":");case"zzzz":default:return"GMT"+Ls(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return Pe(r,t.length)},T:function(e,t,n){return Pe(+e,t.length)}};function zw(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),a=r%60;return a===0?n+String(s):n+String(s)+t+Pe(a,2)}function Ww(e,t){return e%60===0?(e>0?"-":"+")+Pe(Math.abs(e)/60,2):Ls(e,t)}function Ls(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Pe(Math.trunc(r/60),2),a=Pe(r%60,2);return n+s+t+a}const Hw=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},B2=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},$z=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return Hw(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",Hw(r,t)).replace("{{time}}",B2(s,t))},Uz={p:B2,P:$z},Bz=/^D+$/,Vz=/^Y+$/,zz=["D","DD","YY","YYYY"];function Wz(e){return Bz.test(e)}function Hz(e){return Vz.test(e)}function qz(e,t,n){const r=Kz(e,t,n);if(console.warn(r),zz.includes(e))throw new RangeError(r)}function Kz(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Gz=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Yz=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Qz=/^'([^]*?)'?$/,Xz=/''/g,Jz=/[a-zA-Z]/;function Io(e,t,n){var d,h,f,g;const r=Qd(),s=r.locale??Dz,a=r.firstWeekContainsDate??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,o=r.weekStartsOn??((g=(f=r.locale)==null?void 0:f.options)==null?void 0:g.weekStartsOn)??0,l=gn(e,n==null?void 0:n.in);if(!ez(l))throw new RangeError("Invalid time value");let c=t.match(Yz).map(v=>{const x=v[0];if(x==="p"||x==="P"){const b=Uz[x];return b(v,s.formatLong)}return v}).join("").match(Gz).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const x=v[0];if(x==="'")return{isToken:!1,value:Zz(v)};if(Vw[x])return{isToken:!0,value:v};if(x.match(Jz))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:v}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:s};return c.map(v=>{if(!v.isToken)return v.value;const x=v.value;(Hz(x)||Wz(x))&&qz(x,t,String(e));const b=Vw[x[0]];return b(l,x,s.localize,u)}).join("")}function Zz(e){const t=e.match(Qz);return t?t[1].replace(Xz,"'"):e}function eW(e,t,n){const[r,s]=Kx(n==null?void 0:n.in,e,t);return r.getFullYear()===s.getFullYear()}function tW(e,t){return eW(Jt(e,e),Gx(e))}function nW(e,t){return Yx(Jt(e,e),Gx(e))}function rW(e,t,n){return YV(e,-t,n)}function sW(e,t){return Yx(Jt(e,e),rW(Gx(e),1))}const iW=({date:e})=>{const t=n=>!n||isNaN(n.getTime())?"Invalid date":nW(n)?"Today":sW(n)?`Yesterday ${Io(n,"do MMMM")}`:tW(n)?Io(n,"MMMM do"):Io(n,"MMMM do, yyyy");return i.jsx("div",{className:"flex items-center justify-center my-4",children:i.jsx("div",{className:"bg-muted/50 backdrop-blur-sm px-3 py-1 rounded-full",children:i.jsx("span",{className:"text-xs text-muted-foreground font-medium",children:t(e)})})})},V2=()=>{const{user:e,session:t}=ve(),n=be(),[r,s]=m.useState(null),[a,o]=m.useState(Date.now()),l=async()=>{if(console.log("🔍 Validating session..."),!e||!t)return console.log("❌ No user or session found"),s(!1),!1;try{const{data:u,error:d}=await I.rpc("has_role",{_user_id:e.id,_role:"user"});return d?(console.error("❌ Session validation failed:",d),s(!1),!1):(console.log("✅ Session validation successful"),s(!0),o(Date.now()),!0)}catch(u){return console.error("❌ Session validation error:",u),s(!1),!1}},c=(u,d)=>{var h,f;return console.error(`🚨 Auth error in ${d}:`,u),(h=u==null?void 0:u.message)!=null&&h.includes("row-level security")||(f=u==null?void 0:u.message)!=null&&f.includes("insufficient_privilege")||(u==null?void 0:u.code)==="PGRST301"?(H.error("Session expired. Please sign in again.",{duration:5e3,action:{label:"Sign In",onClick:()=>n("/auth")}}),s(!1),!0):!1};return m.useEffect(()=>{if(!e)return;const u=setInterval(()=>{Date.now()-a>5*60*1e3&&l()},60*1e3);return()=>clearInterval(u)},[e,a]),m.useEffect(()=>{e?l():s(!1)},[e]),m.useEffect(()=>{r===!1&&e&&(console.log("🚨 Invalid session detected, redirecting to auth"),H.error("Your session has expired. Please sign in again."),n("/auth"))},[r,e,n]),{isValidSession:r,validateSession:l,handleAuthError:c,isAuthenticated:e&&r===!0}},aW=({selectedChatId:e})=>{const{user:t}=ve(),{isValidSession:n,validateSession:r,handleAuthError:s,isAuthenticated:a}=V2();console.log("🔍 DEBUG: Chat component - user authentication status:",{user:t?"authenticated":"not authenticated",userId:t==null?void 0:t.id,email:t==null?void 0:t.email,isValidSession:n,isAuthenticated:a});const[o,l]=m.useState([]),[c,u]=m.useState([]),[d,h]=m.useState(""),[f,g]=m.useState(!1),[v,x]=m.useState(!0),[b,y]=m.useState(null),[w,p]=m.useState(new Set),[j,S]=m.useState(!1),[_,N]=m.useState("general"),[k,T]=m.useState(null),[D,F]=m.useState(!1),[P,U]=m.useState(!1),[$,K]=m.useState(!1),[R]=m.useState(10),O=m.useRef(null),C=m.useRef(e),M=()=>{var z;(z=O.current)==null||z.scrollIntoView({behavior:"smooth"})},E=async z=>{if(!z)return;const X=`companion_model_${z}`;localStorage.removeItem(X);try{const{data:ne,error:J}=await I.from("user_chats").select("companion_id, companion_name").eq("id",z).single();if(J||!ne){console.error("Error fetching user chat:",J);return}const{data:Se,error:Ke}=await I.from("companion_models").select("id, name, photo_url, wallpaper_url").eq("id",ne.companion_id).single();if(Ke||!Se){console.error("Error fetching companion model:",Ke);return}const at={id:Se.id,name:Se.name,photo_url:Se.photo_url,wallpaper_url:Se.wallpaper_url};y(at),localStorage.setItem(X,JSON.stringify(at)),console.log("💾 Cached companion model:",at.name)}catch(ne){console.error("Error loading companion model:",ne)}},A=async()=>{if(!e)return;const z=e;console.log(`📥 Loading messages for chat: ${z}`);try{if(C.current!==z){console.log(`🚫 Aborting message load for ${z}, current chat is ${C.current}`);return}const{data:X,error:ne}=await I.from("chat_messages").select("*").eq("user_chat_id",z).order("created_at",{ascending:!0});if(!ne&&X){if(C.current!==z){console.log(`🚫 Ignoring loaded messages for ${z}, current chat changed to ${C.current}`);return}if(console.log(`✅ Setting ${X.length} messages for chat: ${z}`),console.log("📊 Debug messages loaded:",(X==null?void 0:X.length)||0,"messages"),(X==null?void 0:X.length)>0&&console.log("📊 Sample messages:",X.slice(-3).map(J=>({id:J.id,user_chat_id:J.user_chat_id,is_user:J.is_user_message,message:J.message.substring(0,50)+"...",created_at:J.created_at}))),C.current===z){l(X);const J=$?X:X.slice(-R);u(J)}else console.log(`🚫 Final check failed - not setting messages for ${z}`);return}console.log("No messages found for chat:",z),C.current===z&&(l([]),u([]))}catch(X){console.error("Error loading messages:",X)}};m.useEffect(()=>{const z=$?o:o.slice(-R);u(z)},[$,o,R]);const V=()=>{K(!0)};m.useEffect(()=>{if(!e||!t)return;console.log(`🔄 Setting up realtime subscription for chat: ${e}`);const z=I.channel(`chat-messages-${e}-${Date.now()}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages",filter:`user_chat_id=eq.${e}`},X=>{if(console.log(`📨 New message in chat ${e}:`,X),C.current===e){const ne=X.new;if(ne.user_chat_id!==e){console.error(`🚨 CROSS-CONTAMINATION DETECTED! Message from chat ${ne.user_chat_id} appeared in chat ${e}`);return}if(p(J=>new Set([...J,ne.id])),!ne.is_user_message){C.current===e&&(console.log(`✅ AI response received, clearing typing indicator for chat: ${e}`),g(!1),T(null)),(ne.status==="filtered"||ne.status==="filtered_upgrade_required"||ne.status==="filtered_admin_disabled")&&C.current===e&&(T("filtered"),setTimeout(()=>T(null),2e3));const J=ne.message.toLowerCase();(J.includes("remember")||J.includes("i'll note")||J.includes("got it"))&&(J.includes("name")?(N("name"),S(!0)):J.includes("location")||J.includes("from")||J.includes("live")?(N("location"),S(!0)):J.includes("job")||J.includes("work")||J.includes("occupation")?(N("occupation"),S(!0)):J.includes("birthday")||J.includes("age")?(N("birthday"),S(!0)):(N("general"),S(!0)))}console.log("📥 Reloading messages due to new message insertion"),A()}else console.log(`🚫 Ignoring realtime message for ${e}, current chat is ${C.current}`)}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"chat_messages",filter:`user_chat_id=eq.${e}`},X=>{if(console.log(`📝 Message updated in chat ${e}:`,X),C.current===e){const ne=X.new;if(ne.user_chat_id!==e){console.error(`🚨 CROSS-CONTAMINATION DETECTED! Updated message from chat ${ne.user_chat_id} appeared in chat ${e}`);return}A()}else console.log(`🚫 Ignoring realtime update for ${e}, current chat is ${C.current}`)}).subscribe();return()=>{console.log(`🧹 Cleaning up realtime subscription for chat: ${e}`),I.removeChannel(z)}},[e,t]),m.useEffect(()=>{console.log(`🎯 Chat changed to: ${e}`),C.current=e,u([]),l([]),g(!1),h(""),x(!0),y(null),p(new Set),T(null),S(!1),K(!1),console.log(`🧹 Cleared state for chat transition to: ${e}`),(async()=>{if(C.current!==e){console.log("🚫 Aborting data load, chat changed during initialization");return}await Promise.all([A(),E(e)]),C.current===e?(x(!1),console.log(`✅ Data loaded successfully for chat: ${e}`)):console.log("🚫 Not setting loading=false, chat changed during load")})()},[e]),m.useEffect(()=>{M()},[c,f]),m.useEffect(()=>{!v&&c.length>0&&setTimeout(()=>{M()},100)},[v,e]);const se=async(z,X,ne,J,Se)=>{const Ke=z||d.trim();if(!Ke&&!X&&!ne&&!Se||!t||!e)return;if(!a){H.error("You must be signed in to send messages",{action:{label:"Sign In",onClick:()=>window.location.href="/auth"}});return}const at=Ke||""||""||"",_e=e;console.log("🚀 Sending message:",{displayText:at,requestChatId:_e,hasImage:!!X,hasVoice:!!ne}),h("");try{const Re={id:`temp-${Date.now()}`,user_chat_id:_e,user_id:t.id,message:at,is_user_message:!0,created_at:new Date().toISOString(),...X&&{image_url:X},...ne&&{voice_note_url:ne},...J&&{voice_transcript:J}};u(tn=>[...tn,Re]),console.log("🔍 DEBUG: Optimistically added message to UI:",Re);const{data:ft,error:xn}=await I.from("chat_messages").insert({user_chat_id:_e,user_id:t.id,message:at,is_user_message:!0,...X&&{image_url:X},...ne&&{voice_note_url:ne},...J&&{voice_transcript:J},...Se&&{attachment_data:Se}}).select().single();if(xn){if(console.error("🚨 ERROR inserting message to database:",xn),console.error("🚨 Insert error details:",{insertError:xn,requestChatId:_e,userId:t.id}),s(xn,"sendMessage")){u(tn=>tn.filter(xi=>xi.id!==Re.id));return}throw u(tn=>tn.filter(xi=>xi.id!==Re.id)),H.error(`Failed to send message: ${xn.message}`),xn}console.log("✅ Message sent successfully to database:",ft),console.log("🔍 DEBUG: Message details:",{id:ft.id,user_chat_id:ft.user_chat_id,user_id:ft.user_id,message:ft.message}),u(tn=>{const xi=tn.map(nv=>nv.id===Re.id?ft:nv);return console.log("🔍 DEBUG: Updated messages array after replacing temp message:",xi.length),xi}),g(!0);const Wa=`${Date.now()}-${Math.random()}`;console.log(`🚀 Starting AI processing with request ID: ${Wa} for chat: ${_e}`);const Ha=setTimeout(()=>{console.log(`⏰ Typing timeout reached for request: ${Wa}`),C.current===_e&&(g(!1),T(null))},3e4);try{if(C.current!==_e){console.log(`🚫 Aborting AI processing - chat changed from ${_e} to ${C.current}`),g(!1),clearTimeout(Ha);return}const{error:tn}=await I.functions.invoke("process-message",{body:{user_chat_id:_e,parent_user_msg_id:ft.id,user_id:t.id,request_id:Wa,...X&&{image_url:X},...ne&&{voice_note_url:ne},...J&&{voice_transcript:J}}});if(C.current!==_e){console.log(`🚫 Ignoring AI processing result - chat changed during API call (request: ${Wa})`),clearTimeout(Ha);return}tn?(console.error("Error processing message:",tn),clearTimeout(Ha),g(!1),H.error("Failed to get AI response")):(console.log(`✅ Message processing initiated successfully (request: ${Wa})`),clearTimeout(Ha))}catch(tn){console.error("Error calling process-message function:",tn),clearTimeout(Ha),C.current===_e&&(g(!1),H.error("Failed to get AI response"))}}catch(Re){console.error("Error sending message:",Re),H.error("Failed to send message")}},he=z=>{se(z)},Ce=z=>{se(z)},je=()=>{F(!0)},re=async z=>{var X;if(!(!t||!e)){console.log("Gift selected:",z);try{const ne=(X=z.price)==null?void 0:X.match(/(\d+)\s*Bucks?/i),J=ne?parseInt(ne[1]):0;if(J===0){H.error("Invalid gift price");return}const{data:Se,error:Ke}=await I.from("user_balances").select("balance").eq("user_id",t.id).single();if(Ke||!Se){H.error("Unable to check balance");return}if(Se.balance<J){H.error(`Insufficient balance. You need ${J} Bucks but only have ${Se.balance} Bucks.`);return}const{error:at}=await I.from("user_balances").update({balance:Se.balance-J}).eq("user_id",t.id);if(at){H.error("Failed to update balance");return}await I.from("user_transactions").insert({user_id:t.id,amount:-J,transaction_type:"gift_purchase",description:`Sent ${z.name}`,metadata:{gift_id:z.id,gift_name:z.name,chat_id:e}});const{data:_e,error:Re}=await I.from("chat_messages").insert({user_chat_id:e,user_id:t.id,message:`🎁 Sent ${z.name}`,is_user_message:!0,gift_data:JSON.stringify({id:z.id,name:z.name,imageUrl:z.imageUrl,price:z.price})}).select().single();if(Re){H.error("Failed to send gift message");return}try{await I.functions.invoke("process-message",{body:{user_chat_id:e,parent_user_msg_id:_e.id,user_id:t.id,message:`🎁 Sent ${z.name}`}})}catch(ft){console.error("Error triggering AI response to gift:",ft)}H.success(`Sent ${z.name} for ${J} Bucks!`),F(!1)}catch(ne){console.error("Error sending gift:",ne),H.error("Failed to send gift")}}},ye=z=>{z.key==="Enter"&&!z.shiftKey&&(z.preventDefault(),se())};return v?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("div",{className:"text-muted-foreground",children:"Loading conversation..."})}):i.jsxs(i.Fragment,{children:[i.jsx(L2,{isOpen:P,onClose:()=>U(!1),companionId:(b==null?void 0:b.id)||"",companionName:(b==null?void 0:b.name)||"Companion",initialPhotoUrl:(b==null?void 0:b.photo_url)||""}),i.jsx(p8,{show:j,infoType:_}),i.jsx(HV,{isOpen:D,onClose:()=>F(!1),onSelectGift:re}),i.jsxs("div",{className:"flex flex-col h-full min-h-screen bg-cover bg-center bg-no-repeat relative",style:{backgroundImage:b!=null&&b.wallpaper_url?`url("${b.wallpaper_url}")`:void 0,backgroundColor:b!=null&&b.wallpaper_url?"transparent":"#f0f0f0"},children:[(b==null?void 0:b.wallpaper_url)&&i.jsx("div",{className:"absolute inset-0 bg-black/10 backdrop-blur-[0.5px] z-0"}),i.jsxs("div",{className:"flex-shrink-0 z-40 w-full px-3 py-2 flex items-center gap-3 bg-white/90 backdrop-blur-md border-b border-gray-200",children:[i.jsx("img",{src:(b==null?void 0:b.photo_url)||"",className:"w-10 h-10 rounded-full object-cover bg-gray-200 cursor-pointer hover:opacity-80 transition-opacity",style:{objectPosition:"center top"},alt:"Companion",onClick:()=>U(!0),onError:z=>{const X=z.target;X.style.display="none"}}),!(b!=null&&b.photo_url)&&i.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>U(!0),children:i.jsx(Jn,{className:"w-6 h-6 text-gray-400"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h2",{className:"text-sm md:text-base truncate w-full",children:(b==null?void 0:b.name)||"Companion"}),i.jsx("p",{className:"text-xs text-green-600",children:"Online"})]})]}),i.jsxs("div",{className:"relative z-10 flex-1 overflow-y-auto overflow-x-hidden px-2 sm:px-4 py-2 space-y-3 bg-transparent scrollbar-hide min-h-0",children:[!$&&o.length>R&&i.jsx("div",{className:"flex justify-center mb-4",children:i.jsxs(L,{onClick:V,variant:"outline",size:"sm",className:"bg-white/20 border-white/30 text-white hover:bg-white/30 backdrop-blur-sm",children:[i.jsx(LS,{className:"w-4 h-4 mr-2"}),"View ",o.length-R," older messages"]})}),i.jsx(np,{mode:"popLayout",children:c.map((z,X)=>{const ne=w.has(z.id),J=new Date(z.created_at),Se=X>0?c[X-1]:null,Ke=Se?new Date(Se.created_at):null,at=!Ke||!Yx(J,Ke);return i.jsxs("div",{children:[at&&i.jsx(iW,{date:J}),i.jsxs(dp.div,{layout:!0,initial:ne?{opacity:0,y:10,scale:.95}:!1,animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.3,ease:"easeOut",layout:{duration:.2}},className:`flex items-start ${z.is_user_message?"justify-end":"justify-start"} ${z.is_user_message?"space-x-2":"space-x-0 sm:space-x-2"}`,onAnimationComplete:()=>{p(_e=>{const Re=new Set(_e);return Re.delete(z.id),Re})},children:[!z.is_user_message&&i.jsxs("div",{className:"hidden sm:block w-8 h-8 rounded-full overflow-hidden bg-gray-200 flex-shrink-0 mt-1",children:[b!=null&&b.photo_url?i.jsx("img",{src:b.photo_url,alt:b.name||"AI",className:"w-full h-full object-cover",style:{objectPosition:"center top"},onError:_e=>{var ft;const Re=_e.target;Re.style.display="none",(ft=Re.nextElementSibling)==null||ft.classList.remove("hidden")}}):null,i.jsx(Jn,{className:`w-4 h-4 text-gray-400 ${b!=null&&b.photo_url?"hidden":""}`})]}),i.jsxs("div",{className:`max-w-[75%] sm:max-w-[75%] px-3 py-2 text-white relative ${z.is_user_message?"order-1 max-w-[85%] sm:max-w-[75%]":"max-w-[90%] sm:max-w-[75%]"}`,style:{borderRadius:z.is_user_message?"20px 20px 0 20px":"20px 20px 20px 0",backgroundColor:z.is_user_message?"#2ecc71":"#2c3e50"},children:[z.image_url&&i.jsx("div",{className:"mb-2",children:i.jsx("img",{src:z.image_url,alt:"Shared photo",className:"max-w-48 h-auto rounded-lg",style:{maxHeight:"200px"},onError:_e=>{const Re=_e.target;Re.style.display="none"}})}),z.voice_note_url&&i.jsx("div",{className:"mb-2",children:i.jsxs("div",{className:"bg-gray-100 rounded-lg p-2 max-w-64",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),i.jsx("span",{className:"text-xs",children:"Voice note"})]}),i.jsxs("audio",{controls:!0,className:"w-full h-8",children:[i.jsx("source",{src:z.voice_note_url,type:"audio/webm"}),"Your browser does not support the audio element."]}),z.voice_transcript&&i.jsxs("p",{className:"text-xs text-gray-600 mt-1 italic",children:['"',z.voice_transcript,'"']})]})}),z.gift_data&&(()=>{try{const _e=JSON.parse(z.gift_data);return i.jsxs("div",{className:"mb-2",children:[i.jsx("img",{src:_e.imageUrl,alt:_e.name,className:"w-32 h-32 object-cover rounded-lg mb-2",onError:Re=>{const ft=Re.target;ft.style.display="none"}}),i.jsxs("div",{className:"text-xs opacity-75",children:["🎁 ",_e.name," • ",_e.price]})]})}catch{return null}})(),i.jsx("p",{className:"text-xs md:text-sm whitespace-pre-wrap leading-relaxed pb-4",children:z.message}),i.jsx("div",{className:`absolute bottom-1 right-2 text-xs md:text-sm opacity-75 ${z.is_user_message?"text-green-100":"text-gray-300"}`,children:new Date(z.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]},z.id)]},`${z.id}-fragment`)})}),i.jsx(np,{children:f&&i.jsxs(dp.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"flex items-start space-x-2 justify-start",children:[i.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden bg-gray-200 flex items-center justify-center flex-shrink-0 mt-1",children:b!=null&&b.photo_url?i.jsx("img",{src:b.photo_url,alt:b.name||"AI",className:"w-full h-full object-cover",style:{objectPosition:"center top"}}):i.jsx(Jn,{className:"w-4 h-4 text-gray-400"})}),i.jsx("div",{className:"bg-gray-800 text-white px-3 py-2 max-w-[75%]",style:{backgroundColor:"#2c3e50",borderRadius:"20px 20px 20px 0"},children:i.jsxs("div",{className:"flex space-x-1",children:[i.jsx("div",{className:"w-2 h-2 bg-gray-300 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),i.jsx("div",{className:"w-2 h-2 bg-gray-300 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),i.jsx("div",{className:"w-2 h-2 bg-gray-300 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]})}),i.jsx("div",{ref:O})]}),i.jsxs("div",{className:"flex-shrink-0 w-full bg-white/90 backdrop-blur-md z-50 p-2 sm:p-3",children:[i.jsxs("div",{className:"flex justify-center items-center gap-2 sm:gap-4 mb-2 sm:mb-3",children:[i.jsx(qV,{onPhotoUploaded:he,disabled:!e}),i.jsx("button",{className:"w-12 h-12 bg-green-500 text-white rounded-full flex items-center justify-center shadow-lg hover:bg-green-600 transition-colors",title:"Send gift",onClick:je,children:i.jsx(Mm,{className:"w-4 h-4"})}),i.jsx(KV,{onTranscriptReady:Ce,disabled:!e}),i.jsx("button",{onClick:()=>se(),disabled:!d.trim(),className:"w-10 h-10 sm:w-12 sm:h-12 bg-green-500 text-white rounded-full flex items-center justify-center disabled:bg-gray-300 shadow-lg hover:bg-green-600 transition-colors disabled:hover:bg-gray-300",title:"Send message",children:i.jsx(P4,{className:"w-4 h-4"})})]}),i.jsx("div",{className:"flex items-center",children:i.jsx("textarea",{value:d,onChange:z=>{h(z.target.value);const X=z.target;X.style.height="auto";const ne=Math.min(Math.max(X.scrollHeight,40),200);X.style.height=ne+"px"},onKeyPress:ye,className:"w-full p-2 sm:p-3 rounded-2xl bg-white resize-none border border-gray-300 focus:outline-none focus:ring-2 focus:ring-green-500 text-sm leading-relaxed transition-all duration-200",rows:1,placeholder:"Type a message...",maxLength:15e3,style:{minHeight:"40px",maxHeight:"200px",height:"40px",overflowY:"auto"}})})]})]})]})},Qx=()=>{const{user:e}=ve(),[t,n]=m.useState("none"),[r,s]=m.useState(!0);m.useEffect(()=>{(async()=>{if(!e){n("none"),s(!1);return}try{const{data:f,error:g}=await I.rpc("get_user_subscription_plan",{_user_id:e.id});if(g)throw g;console.log("🎯 Subscription plan detected:",{userId:e.id,userEmail:e.email,planDetected:f,timestamp:new Date().toISOString()}),n(f)}catch(f){console.error("Error fetching subscription plan:",f),n("none")}finally{s(!1)}})()},[e]);const a=h=>t==="none"||t==="expired"?!1:t==="unlimited"||t==="trial"||t==="premium";return{plan:t,loading:r,hasAccess:a,isActiveSubscription:t!=="none"&&t!=="expired",isPremium:t==="premium",isTrial:t==="trial",isUnlimited:t==="unlimited",getMaxModels:()=>t==="none"||t==="expired"?0:t==="unlimited"||t==="premium"||t==="trial"?1/0:0,canAccessModelsGallery:()=>a(),canUploadPhotos:()=>a(),canAccessRomanticMode:()=>a()}},oW=({selectedPhoto:e,onPhotoSelect:t})=>{const{user:n}=ve(),{isAdmin:r}=La(),{getMaxModels:s,plan:a}=Qx(),o=be(),[l,c]=m.useState([]),[u,d]=m.useState(!0),[h,f]=m.useState(0);m.useEffect(()=>{n&&v()},[n,r]);const g=w=>{const p=[...w];for(let j=p.length-1;j>0;j--){const S=Math.floor(Math.random()*(j+1));[p[j],p[S]]=[p[S],p[j]]}return p},v=async()=>{if(n)try{console.log("🔍 Loading available models for user:",n.id);let w=I.from("companion_models").select("id, name, personality, photo_url, description, visibility");r||(w=w.in("visibility",["active","unavailable"]));const{data:p,error:j}=await w.order("created_at",{ascending:!1});if(j)throw console.error("❌ Error fetching models:",j),j;console.log("📋 All models found:",(p==null?void 0:p.length)||0);const{data:S,error:_}=await I.from("user_chats").select("companion_id").eq("user_id",n.id).eq("is_active",!0);if(_)throw console.error("❌ Error fetching existing chats:",_),_;const N=new Set((S==null?void 0:S.map(D=>D.companion_id))||[]);f((S==null?void 0:S.length)||0),console.log("🚫 Already chatting with companion IDs:",Array.from(N)),console.log(`📊 User has ${(S==null?void 0:S.length)||0} active chats, max allowed: ${s()}`);const k=(p||[]).filter(D=>{const F=N.has(D.id);return F&&console.log(`🚫 Filtering out ${D.name} - already has active chat`),!F});console.log("✅ Available models after filtering:",k.length);const T=g(k);c(T)}catch(w){console.error("❌ Error loading available models:",w),c([])}finally{d(!1)}};if(u)return i.jsx("div",{className:"flex justify-center",children:"Loading..."});const x=s(),b=h>=x&&x!==1/0;console.log("🎯 Model limit check:",{userActiveChats:h,maxModels:x,hasReachedLimit:b,plan:a,userEmail:n==null?void 0:n.email,timestamp:new Date().toISOString()});const y=!1;return l.length===0?i.jsxs("div",{className:"text-center py-4 text-white/80",children:[i.jsx("p",{className:"text-lg mb-2",children:"All companions are busy! 💬"}),i.jsx("p",{className:"text-sm",children:"You're already chatting with all available companions."}),i.jsx("p",{className:"text-xs mt-2 text-white/60",children:"Delete a chat to start fresh with a different companion."})]}):i.jsx("div",{className:"w-full",children:i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 max-w-5xl mx-auto",children:l.map((w,p)=>{const j=y;return i.jsxs("div",{className:"transition-all duration-300 cursor-pointer hover:scale-105 hover:shadow-lg",onClick:()=>o(`/model/${w.id}`),children:[i.jsxs("div",{className:"relative mb-3",children:[i.jsx("div",{className:"aspect-square overflow-hidden rounded-lg bg-white/10 backdrop-blur-sm border border-white/20 transition-all duration-300 hover:border-white/40",children:i.jsx("img",{src:w.photo_url,alt:w.name,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105",style:{objectPosition:"center top"},loading:"lazy",decoding:"async"})}),w.visibility==="admin_only"&&r&&i.jsx("div",{className:"absolute top-2 right-2 bg-red-500 text-white text-xs px-2 py-1 rounded",children:"Admin"}),w.visibility==="unavailable"&&i.jsx("div",{className:"absolute top-2 right-2 bg-gray-500 text-white text-xs px-2 py-1 rounded",children:"N/A"}),j]}),i.jsx("div",{className:"text-center",children:i.jsx("p",{className:"text-white font-medium text-sm",children:w.name})})]},w.id)})})})},lW=({onComplete:e})=>{const{user:t}=ve();be();const[n,r]=m.useState(null);m.useState("");const[s,a]=m.useState(""),[o,l]=m.useState(""),[c,u]=m.useState("");m.useEffect(()=>{(async()=>{if(!t)return;const{data:f}=await I.from("profiles").select("display_name, first_name").eq("user_id",t.id).single();r(f)})()},[t]);const d=async h=>{l(h);try{const{data:f,error:g}=await I.from("companion_models").select("name, photo_url, personality").eq("id",h).maybeSingle();g?(console.error("Error fetching model data:",g),u("My Companion"),a(""),e({companionName:"My Companion",personality:"playful",profilePhoto:"",modelId:h})):f?(console.log("Found model:",f),u(f.name),a(f.photo_url),e({companionName:f.name,personality:f.personality||"playful",profilePhoto:f.photo_url,modelId:h})):(console.log("No model found with ID:",h),u("My Companion"),a(""),e({companionName:"My Companion",personality:"playful",profilePhoto:"",modelId:h}))}catch(f){console.error("Error:",f),u("My Companion"),a(""),e({companionName:"My Companion",personality:"playful",profilePhoto:"",modelId:h})}};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-indigo-900 p-4",children:i.jsxs("div",{className:"max-w-6xl mx-auto py-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx(L,{onClick:h=>{h.preventDefault(),h.stopPropagation(),console.log("🔙 Back button clicked - closing welcome screen"),localStorage.setItem("forceShowChatInterface","true"),window.location.reload()},variant:"ghost",size:"icon",className:"h-10 w-10 bg-green-500 hover:bg-green-600 text-white shadow-lg cursor-pointer",style:{borderRadius:"50%"},children:i.jsx($n,{className:"h-5 w-5"})}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsxs("div",{className:"flex justify-center items-center gap-2 mb-2",children:[i.jsx(qe,{className:"h-6 w-6 text-white animate-pulse-soft"}),i.jsx(Su,{className:"h-5 w-5 text-white animate-float"})]}),i.jsx("h1",{className:"text-3xl font-bold text-white",children:"War Room"})]}),i.jsx("div",{className:"w-10"})]}),i.jsx("div",{className:"flex-1",children:i.jsx(oW,{selectedPhoto:o,onPhotoSelect:d})})]})})},cW=()=>{const{user:e,loading:t}=ve(),{isValidSession:n,isAuthenticated:r}=V2(),s=be(),[a,o]=m.useState(null),[l,c]=m.useState(null),[u,d]=m.useState([]),[h,f]=m.useState(!0),[g,v]=m.useState(!1),[x,b]=m.useState(!1),[y,w]=m.useState(0);m.useEffect(()=>{if(!t){if(!e){s("/auth");return}p()}},[e,t]),m.useEffect(()=>{localStorage.getItem("forceShowChatInterface")&&(localStorage.removeItem("forceShowChatInterface"),b(!0),v(!1))},[]);const p=async()=>{if(e)try{f(!0);const{data:k}=await I.from("profiles").select("*").eq("user_id",e.id).maybeSingle();c(k);const{data:T}=await I.from("user_chats").select("*").eq("user_id",e.id).eq("is_active",!0).order("last_message_at",{ascending:!1,nullsFirst:!1});console.log("📊 ChatLayout: Loaded chats:",(T==null?void 0:T.length)||0),d(T||[]),T&&T.length>0&&!a&&o(T[0].id)}catch(k){console.error("Error loading user data:",k)}finally{f(!1)}},j=()=>{console.log("🎯 handleNewChat called - showing welcome screen"),localStorage.removeItem("forceShowChatInterface"),v(!0)},S=(k,T)=>{o(k),localStorage.setItem("selectedChatIsGroup",T?"true":"false")},_=async k=>{console.log("🎯 Welcome complete, creating NEW chat with config:",k);try{f(!0);const T={user_id:e.id,companion_id:k.modelId,companion_name:k.companionName,personality:k.personality,profile_photo:k.profilePhoto||"",is_active:!0,relationship_status:"adaptive",user_intimacy_level:0};console.log("📝 Inserting chat data:",T);const{data:D,error:F}=await I.from("user_chats").insert(T).select().single();if(F){console.error("❌ Error creating chat:",F),f(!1);return}console.log("✅ Fresh chat created successfully:",D);const P=D.id;v(!1),await N(),o(P),console.log("🎯 Chat creation complete, selected chat:",P)}catch(T){console.error("❌ Error in handleWelcomeComplete:",T),f(!1)}},N=async()=>{await p(),w(k=>k+1)};return t?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(wu,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-primary"}),i.jsx("p",{className:"text-muted-foreground",children:"Authenticating..."})]})}):h?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(wu,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-primary"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading your chats..."})]})}):e&&n===!1?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center space-y-4 max-w-md mx-auto p-6",children:[i.jsx(FS,{className:"h-16 w-16 text-yellow-500 mx-auto"}),i.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Session Expired"}),i.jsx("p",{className:"text-muted-foreground",children:"Your session has expired. Please sign in again to continue using the chat."}),i.jsx(L,{onClick:()=>s("/auth"),className:"mt-4",children:"Sign In Again"})]})}):g||u.length===0&&!x?(console.log("📊 ChatLayout: Showing WelcomeScreen, chats:",u.length,"showNewChat:",g,"forceShow:",x),i.jsx(lW,{onComplete:_})):i.jsxs("div",{className:"h-screen flex overflow-hidden w-full",children:[i.jsx("div",{className:"w-20 flex-shrink-0 bg-card border-r border-border flex flex-col overflow-hidden",children:i.jsx(OF,{selectedChatId:a,onChatSelect:S,onNewChat:j,userProfile:l},y)}),i.jsx("div",{className:"flex-1 flex flex-col bg-background min-w-0 overflow-hidden",children:a?i.jsx(aW,{selectedChatId:a}):i.jsx("div",{className:"flex-1 flex items-center justify-center bg-muted/20",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:u.length===0?"Welcome to your Chat Interface":"Select a chat to start messaging"}),i.jsx("p",{className:"text-muted-foreground",children:u.length===0?'Create your first conversation by clicking the "+" button in the sidebar':"Choose a conversation from the sidebar or create a new one"}),u.length===0&&i.jsx(L,{onClick:j,className:"mt-4",children:"Start Your First Chat"})]})})})]})},wc=()=>i.jsx(cW,{}),Fl=()=>{const{user:e}=ve(),[t,n]=m.useState(null),[r,s]=m.useState(!0),[a,o]=m.useState(null);return m.useEffect(()=>{if(!e){s(!1);return}(async()=>{try{s(!0);const{data:u}=await I.rpc("has_role",{_user_id:e.id,_role:"free_unlimited"});if(u){n({status:"active",active:!0,trial_ends_at:null,current_period_end:new Date(Date.now()+100*365*24*60*60*1e3),user_id:e.id});return}let{data:d,error:h}=await I.from("user_subscriptions").select("*").eq("user_id",e.id).eq("status","active").order("created_at",{ascending:!1}).limit(1).maybeSingle();if(!d&&!h){const{data:g,error:v}=await I.from("user_subscriptions").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(1).maybeSingle();d=g,h=v}if(h)throw h;const f=new Date;if(!d)n({status:"expired",active:!1,trial_ends_at:null,current_period_end:null,user_id:e.id});else{const g=d.trial_ends_at?new Date(d.trial_ends_at):null,v=d.status==="trial"&&g&&g>f,x=d.current_period_end?new Date(d.current_period_end):null,b=d.status==="active"&&x&&x>f,y=v||b;console.log("🔍 Subscription debug:",{status:d.status,trialEnds:g,currentPeriodEnd:x,isTrialActive:v,isPaidActive:b,isActive:y,subscriptionPlan:d.subscription_plan,now:f.toISOString(),currentPeriodEndISO:x==null?void 0:x.toISOString(),userEmail:e.email}),console.log("✅ Final subscription object:",{...d,active:y,days_remaining:g&&d.status==="trial"?Math.max(0,Math.ceil((g.getTime()-f.getTime())/(1e3*60*60*24))):null}),n({...d,active:y,days_remaining:g&&d.status==="trial"?Math.max(0,Math.ceil((g.getTime()-f.getTime())/(1e3*60*60*24))):null})}}catch(u){o(u.message)}finally{s(!1)}})();const c=I.channel("subscription_changes").on("postgres_changes",{event:"*",schema:"public",table:"user_subscriptions",filter:`user_id=eq.${e.id}`},u=>{var b,y,w,p,j;const d=new Date,h=(b=u.new)!=null&&b.trial_ends_at?new Date(u.new.trial_ends_at):null,f=((y=u.new)==null?void 0:y.status)==="trial"&&h&&h>d,g=(w=u.new)!=null&&w.current_period_end?new Date(u.new.current_period_end):null,v=((p=u.new)==null?void 0:p.status)==="active"&&g&&g>d,x=f||v;n({...u.new,active:x,days_remaining:h&&((j=u.new)==null?void 0:j.status)==="trial"?Math.max(0,Math.ceil((h.getTime()-d.getTime())/(1e3*60*60*24))):null})}).subscribe();return()=>{I.removeChannel(c)}},[e]),{subscription:t,loading:r,error:a}};function uW({onSelect:e,isLoading:t=!1}){const[n,r]=m.useState(null),s=[{value:"women",title:"Women",description:"Chat with female companions",emoji:"👩",color:"bg-pink-500"},{value:"men",title:"Men",description:"Chat with male companions",emoji:"👨",color:"bg-blue-500"},{value:"both",title:"Both",description:"Chat with all companions",emoji:"👥",color:"bg-purple-500"}],a=l=>{r(l)},o=()=>{n&&e(n)};return i.jsxs("div",{className:"max-w-md mx-auto p-6",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[i.jsx(qe,{className:"h-6 w-6 text-primary"}),i.jsx("h2",{className:"text-2xl font-bold",children:"Choose Your Preference"})]}),i.jsx("p",{className:"text-muted-foreground",children:"Who would you like to chat with?"})]}),i.jsx("div",{className:"space-y-3 mb-6",children:s.map(l=>i.jsx(G,{className:`cursor-pointer transition-all border-2 ${n===l.value?"border-primary bg-primary/5 shadow-md":"border-border hover:border-primary/50"}`,onClick:()=>a(l.value),children:i.jsx(Y,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"text-2xl",children:l.emoji}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"font-semibold",children:l.title}),n===l.value&&i.jsx(Ue,{className:l.color,children:"Selected"})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:l.description})]}),i.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${n===l.value?"bg-primary border-primary":"border-muted-foreground"}`,children:n===l.value&&i.jsx("div",{className:"w-2 h-2 bg-white rounded-full m-0.5"})})]})})},l.value))}),i.jsx(L,{onClick:o,disabled:!n||t,className:"w-full",size:"lg",children:t?"Setting up...":"Continue"}),i.jsx("p",{className:"text-xs text-center text-muted-foreground mt-4",children:"You can change this preference later in your profile settings"})]})}const dW=()=>{var h,f;const e=be(),{user:t,loading:n}=ve(),{subscription:r,loading:s}=Fl(),[a,o]=m.useState(!1),[l,c]=m.useState(!1);m.useEffect(()=>{if(!n){if(!t){e("/auth");return}if(!s&&r!=null&&r.active){console.log("💫 Welcome page: User has active subscription, redirecting to chat",{status:r.status,active:r.active,subscription_plan:r.subscription_plan}),e("/chat");return}}},[t,n,r,s,e]),m.useEffect(()=>{(async()=>{if(!(!t||l))try{const{data:v}=await I.from("user_balances").select("balance").eq("user_id",t.id).maybeSingle();if(!v||v.balance===0){const{error:x}=await I.rpc("update_user_balance",{p_user_id:t.id,p_amount:400,p_transaction_type:"welcome_gift",p_description:"Welcome gift - 400 Bucks to spoil your Companion"});x?console.error("Error gifting bucks:",x):(c(!0),console.log("✨ Gifted 400 bucks to new user"))}}catch(v){console.error("Error checking/gifting balance:",v)}})()},[t,l]);const u=()=>{o(!0)},d=async g=>{if(t){try{const{error:v}=await I.from("profiles").update({gender_preference:g}).eq("user_id",t.id);if(v){const{error:x}=await I.from("profiles").insert({user_id:t.id,gender_preference:g});x&&console.error("Error saving gender preference:",x)}}catch(v){console.error("Error saving gender preference:",v)}e("/chat")}};return t?a?i.jsx("div",{className:"min-h-screen bg-gradient-sunset flex items-center justify-center p-4",children:i.jsx("div",{className:"w-full max-w-md",children:i.jsxs(G,{className:"shadow-romantic border-0",children:[i.jsxs(oe,{className:"text-center pb-6",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx(qe,{className:"h-16 w-16 text-primary animate-pulse"})}),i.jsx(ae,{className:"text-3xl font-bold bg-gradient-romantic bg-clip-text text-transparent mb-2",children:"Almost there! 💫"}),i.jsx("p",{className:"text-muted-foreground",children:"What type of companions would you like to chat with?"})]}),i.jsx(Y,{children:i.jsx(uW,{onSelect:d,isLoading:!1})})]})})}):i.jsx("div",{className:"min-h-screen bg-gradient-sunset flex items-center justify-center p-4",children:i.jsx("div",{className:"w-full max-w-2xl mx-auto",children:i.jsxs(G,{className:"shadow-romantic border-0",children:[i.jsxs(oe,{className:"text-center pb-6",children:[i.jsx("div",{className:"flex justify-center mb-6",children:i.jsxs("div",{className:"relative",children:[i.jsx(qe,{className:"h-20 w-20 text-primary animate-pulse"}),i.jsx(qe,{className:"h-10 w-10 text-yellow-400 absolute -top-3 -right-3"})]})}),i.jsxs(ae,{className:"text-4xl md:text-5xl font-black mb-4 text-foreground",children:["Hey ",((f=(h=t==null?void 0:t.user_metadata)==null?void 0:h.display_name)==null?void 0:f.split(" ")[0])||"there","!"]}),i.jsx(ae,{className:"text-3xl md:text-4xl font-bold bg-gradient-romantic bg-clip-text text-transparent mb-4",children:"Welcome to the fun!"}),i.jsxs(Ue,{variant:"secondary",className:"text-lg px-6 py-3 bg-gradient-premium text-white",children:[i.jsx(Xn,{className:"h-5 w-5 mr-2"}),"You have a 7 day free trial"]})]}),i.jsxs(Y,{className:"space-y-6",children:[i.jsx("div",{className:"text-center",children:i.jsxs("p",{className:"text-lg text-muted-foreground mb-6",children:["Congratulations! Your account has been created successfully and your",i.jsx("span",{className:"font-semibold text-primary",children:" 7-day premium trial"})," is now active."]})}),i.jsxs("div",{className:"grid gap-4",children:[i.jsx("h3",{className:"text-xl font-semibold text-center mb-4",children:"What's included in your trial:"}),i.jsxs("div",{className:"grid gap-3",children:[i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-accent/50",children:[i.jsx(En,{className:"h-5 w-5 text-green-500 flex-shrink-0"}),i.jsx("span",{className:"text-sm",children:"Unlimited conversations with AI companions"})]}),i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-accent/50",children:[i.jsx(En,{className:"h-5 w-5 text-green-500 flex-shrink-0"}),i.jsx("span",{className:"text-sm",children:"Access to all premium AI models and personalities"})]}),i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-accent/50",children:[i.jsx(En,{className:"h-5 w-5 text-green-500 flex-shrink-0"}),i.jsx("span",{className:"text-sm",children:"Unlimited photo sharing and customization"})]}),i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-accent/50",children:[i.jsx(En,{className:"h-5 w-5 text-green-500 flex-shrink-0"}),i.jsx("span",{className:"text-sm",children:"Priority support and faster response times"})]}),i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-accent/50",children:[i.jsx(En,{className:"h-5 w-5 text-green-500 flex-shrink-0"}),i.jsx("span",{className:"text-sm",children:"Advanced relationship features and memory"})]})]}),i.jsxs("div",{className:"relative p-4 rounded-xl bg-gradient-to-r from-amber-400/90 to-yellow-400/90 border-2 border-amber-300 shadow-lg shadow-amber-500/25 animate-pulse",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-400/20 to-yellow-400/20 rounded-xl blur-xl"}),i.jsxs("div",{className:"relative flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-full bg-white/20 backdrop-blur-sm",children:i.jsx(Xs,{className:"h-6 w-6 text-amber-800 animate-bounce"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("span",{className:"text-amber-900 font-bold text-base",children:"We've gifted you 400 Bucks to spoil your Companion! 🎁"}),i.jsx("div",{className:"text-xs text-amber-800/80 mt-1",children:"Already added to your account ✨"})]})]})]})]}),i.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-primary-glow/10 rounded-lg p-4 text-center",children:[i.jsx(Nd,{className:"h-6 w-6 text-primary mx-auto mb-2"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Experience the full power of AI companionship with no restrictions during your trial period."})]}),i.jsx("div",{className:"flex flex-col gap-3",children:i.jsxs(L,{onClick:u,className:"w-full bg-gradient-romantic hover:shadow-romantic transition-all duration-300 text-lg py-6",children:[i.jsx(bu,{className:"h-5 w-5 mr-2"}),"Start Your First Conversation"]})})]})]})})}):null};let bc=0,Pi=null;const Cs=({to:e,variant:t="ghost",size:n="icon",showText:r=!1,className:s="",onClick:a})=>{const o=be();m.useEffect(()=>()=>{Pi&&(clearTimeout(Pi),Pi=null)},[]);const l=()=>{if(bc++,Pi&&clearTimeout(Pi),Pi=setTimeout(()=>{bc=0},3e3),bc>=3){bc=0,o("/exit");return}if(a)a();else if(e)o(e);else{const c=window.location.pathname;if(window.history.length>1&&document.referrer&&!document.referrer.includes("/auth")&&!document.referrer.includes("/login")&&!document.referrer.includes("/signup")){o(-1);return}c.startsWith("/admin")||c.startsWith("/my-account")||c.startsWith("/manage-subscription"),o("/chat")}};return i.jsx(L,{onClick:l,variant:"ghost",size:"icon",className:`h-10 w-10 bg-green-500 hover:bg-green-600 text-white shadow-lg ${s}`,style:{borderRadius:"50%"},children:i.jsx($n,{className:"h-5 w-5"})})},yf={starter:{id:"starter",name:"Starter",icon:i.jsx(KS,{className:"w-6 h-6"}),monthlyPrice:99,features:["Unlimited AI task requests","Calendar & scheduling","Email triage (drafts only)","Reminders & to-do tracking","Basic research & summaries"],gradient:"bg-gradient-to-br from-blue-600 to-blue-800"},professional:{id:"professional",name:"Professional",icon:i.jsx(qe,{className:"w-6 h-6"}),monthlyPrice:199,isPopular:!0,features:["Everything in Starter","Priority support (faster response)","CRM & lead tracking","Travel booking suggestions","Document prep (proposals, contracts)","Multi-channel access (mobile + desktop)"],gradient:"bg-gradient-to-br from-violet-700 to-pink-700"},executive:{id:"executive",name:"Executive",icon:i.jsx($S,{className:"w-6 h-6"}),monthlyPrice:399,features:["Everything in Professional","Dedicated account manager","Full inbox management (with approval)","Meeting notes & action items","Expense tracking","Team access (up to 3 seats)","Custom workflows (Zapier/n8n automations)"],gradient:"bg-gradient-to-br from-amber-600 to-orange-700"}};function hW(){var w;const{subscription:e,loading:t}=Fl(),{user:n}=ve(),r=be(),{toast:s}=Vt(),[a,o]=m.useState(!1),[l,c]=m.useState([]),[u,d]=m.useState(!1),h=()=>{if(!e)return yf.starter;const j={starter:"starter",professional:"professional",premium:"professional",executive:"executive",trial:"professional"}[e.subscription_plan||"starter"]||"starter";return yf[j]},f=p=>{const j=["starter","professional","executive"],S=j.indexOf(p);return S===-1||S===j.length-1?[]:j.slice(S+1).map(_=>yf[_])};m.useEffect(()=>{n&&g()},[n]);const g=async()=>{if(!n)return;const{data:p,error:j}=await I.from("payments").select("*").eq("user_id",n.id).order("created_at",{ascending:!1});!j&&p&&c(p)},v=async()=>{if(n){o(!0),d(!1);try{const{data:p,error:j}={data:null,error:new Error("Not implemented")};if(j)throw j;s({title:"Subscription Cancelled",description:"Your subscription has been cancelled and will remain active until the end of your billing period."}),window.location.reload()}catch(p){console.error("Error cancelling subscription:",p),s({title:"Error",description:"Failed to cancel subscription. Please try again.",variant:"destructive"})}finally{o(!1)}}},x=()=>{if(!l||l.length===0)return null;const p=l.find(_=>_.status==="COMPLETE");if(!p)return null;const j=new Date(p.created_at),S=new Date(j);return S.setDate(S.getDate()+30),S.toISOString()},b=p=>{switch(p){case"active":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"trial":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"cancelled":case"expired":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},y=p=>p?new Date(p).toLocaleDateString():"N/A";return t?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[i.jsx(Cs,{}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Manage Subscription"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"View and manage your subscription details"})]})]}),i.jsxs("div",{className:"grid gap-6",children:[!t&&e?i.jsxs(G,{children:[i.jsx(oe,{children:i.jsxs(ae,{className:"flex items-center gap-2",children:[i.jsx(qe,{className:"w-5 h-5 text-yellow-500"}),"Current Plan"]})}),i.jsx(Y,{children:(()=>{const p=h();return i.jsxs("div",{className:`${p.gradient} rounded-lg p-6 text-white`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[p.icon,i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold text-white",children:p.name}),i.jsx("p",{className:"text-white/80 text-sm",children:(e==null?void 0:e.status)==="trial"?"Trial Active":"Active Subscription"})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-2xl font-bold text-white",children:["$",p.monthlyPrice]}),i.jsx("div",{className:"text-sm text-white/80",children:"/month"})]})]}),i.jsx("div",{className:"space-y-2 mb-4",children:p.features.map((j,S)=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Sa,{className:"w-4 h-4 text-white flex-shrink-0"}),i.jsx("span",{className:"text-white/90 text-sm",children:j})]},S))}),(e==null?void 0:e.status)==="trial"&&e.days_remaining!==void 0&&i.jsx("div",{className:"bg-white/20 rounded-lg p-3 mb-4",children:i.jsxs("p",{className:"text-white font-medium text-sm",children:[e.days_remaining," days remaining in trial"]})}),p.id!=="executive"&&i.jsxs(L,{onClick:()=>r("/subscription"),className:"w-full bg-white/20 hover:bg-white/30 text-white border border-white/30",children:[i.jsx(Zy,{className:"w-4 h-4 mr-2"}),"Upgrade Plan"]})]})})()})]}):i.jsx(G,{children:i.jsxs(Y,{className:"text-center py-8",children:[i.jsx(qe,{className:"w-12 h-12 text-yellow-500 mx-auto mb-4"}),i.jsx("h3",{className:"font-semibold mb-2",children:"No Active Subscription"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose a plan to get started with unlimited AI assistance"}),i.jsx(L,{onClick:()=>r("/subscription"),className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:"View Plans"})]})}),!t&&e&&(()=>{const p=h(),j=f(p.id);return j.length>0?i.jsxs(G,{children:[i.jsx(oe,{children:i.jsxs(ae,{className:"flex items-center gap-2",children:[i.jsx(Zy,{className:"w-5 h-5 text-blue-500"}),"Available Upgrades"]})}),i.jsx(Y,{children:i.jsx("div",{className:"grid gap-4",children:j.map(S=>i.jsxs("div",{className:"border rounded-lg p-4 hover:bg-muted/50 transition-colors",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[S.icon,i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold",children:S.name}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["$",S.monthlyPrice,"/month"]})]})]}),i.jsx(L,{onClick:()=>r(`/checkout?plan=${S.id}`),size:"sm",children:"Upgrade"})]}),i.jsxs("div",{className:"space-y-1",children:[S.features.slice(0,3).map((_,N)=>i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(Sa,{className:"w-3 h-3 text-green-500 flex-shrink-0"}),i.jsx("span",{children:_})]},N)),S.features.length>3&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",S.features.length-3," more features"]})]})]},S.id))})})]}):null})(),i.jsxs(G,{children:[i.jsx(oe,{children:i.jsxs(ae,{className:"flex items-center gap-2",children:[i.jsx(sr,{className:"w-5 h-5"}),"Subscription Details"]})}),i.jsx(Y,{children:e?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-medium",children:"Status"}),i.jsx(Ue,{className:b(e.status),children:e.status==="trial"?"Trial":e.status.charAt(0).toUpperCase()+e.status.slice(1)})]}),e.trial_ends_at&&i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(Xn,{className:"w-4 h-4 text-muted-foreground"}),"Trial ends"]}),i.jsx("span",{className:"text-sm",children:y(e.trial_ends_at)})]}),(e.current_period_end||x())&&i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(ja,{className:"w-4 h-4 text-muted-foreground"}),"Next billing date"]}),i.jsx("span",{className:"text-sm",children:y(typeof e.current_period_end=="string"?e.current_period_end:((w=e.current_period_end)==null?void 0:w.toISOString())||x())})]}),e.status==="active"&&i.jsx("div",{className:"pt-4 border-t",children:i.jsxs(L,{onClick:()=>d(!0),disabled:a,variant:"destructive",className:"w-full flex items-center gap-2",children:[i.jsx(t0,{className:"w-4 h-4"}),"Deactivate Subscription"]})})]}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"No subscription details available"})})]}),i.jsxs(G,{children:[i.jsx(oe,{children:i.jsx(ae,{children:"Payment History"})}),i.jsx(Y,{children:l.length>0?i.jsx("div",{className:"space-y-3",children:l.map(p=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium",children:["R",p.amount]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[y(p.created_at)," • ",p.payment_method]})]}),i.jsx(Ue,{variant:p.status==="completed"?"default":"secondary",children:p.status})]},p.id))}):i.jsxs("div",{className:"text-center py-6",children:[i.jsx(qS,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"No payment history found"})]})})]})]})]}),i.jsx(_s,{open:u,onOpenChange:d,children:i.jsxs(Pr,{className:"max-w-md",children:[i.jsxs(Ns,{children:[i.jsxs(ks,{className:"flex items-center gap-2",children:[i.jsx(t0,{className:"w-5 h-5 text-red-500"}),"Deactivate Subscription"]}),i.jsx(Ba,{className:"text-center py-4",children:"Are you sure you want to deactivate? We will miss you 😢"})]}),i.jsxs(O2,{className:"flex gap-2 sm:gap-2",children:[i.jsxs(L,{variant:"outline",onClick:()=>d(!1),className:"flex-1 flex items-center gap-2",children:[i.jsx(qe,{className:"w-4 h-4 text-red-500"}),"No, I value this relationship"]}),i.jsx(L,{variant:"destructive",onClick:v,disabled:a,className:"flex-1",children:a?"Processing...":"Yes, it's over"})]})]})})]})}const $l=()=>i.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)",zIndex:-2}}),fr={starter:{id:"starter",name:"Starter",priceUsdMonthly:1,trialDays:0,features:["24/7 private chat (fair use)","2 companion personas (basic styles)","200 messages/day","Basic memory (last 3 topics)","Safe-mode only","Email support (48–72h)"]},plus:{id:"plus",name:"Plus",priceUsdMonthly:4.99,trialDays:0,features:["Everything in Starter, plus:","6 companion personas","1,000 messages/day","Smart memory (people, preferences, goals)","Voice notes (listen to replies)","Priority support (24–48h)"]},elite:{id:"elite",name:"Elite",priceUsdMonthly:6.99,trialDays:0,features:["Everything in Plus, plus:","Unlimited personas","2,500 messages/day","Image replies, rich formatting & code blocks","Advanced memory (projects, habits, streaks)",'"Naughty Mode" toggle (if permitted)',"VIP queue (same-day support)","Monthly bonus: 300 Bucks (in-app credits)"]}},fW=[{id:"starter",name:"Starter",icon:i.jsx(KS,{className:"w-8 h-8"}),monthlyPrice:1,yearlyPrice:1,features:fr.starter.features.map(e=>({text:e,included:!0})),buttonText:"Start Starter Plan",gradient:"bg-gradient-to-br from-blue-600 to-blue-800"},{id:"plus",name:"Plus",icon:i.jsx(qe,{className:"w-8 h-8"}),monthlyPrice:4.99,yearlyPrice:4.99,isPopular:!0,badge:"Most Popular",features:fr.plus.features.map(e=>({text:e,included:!0})),buttonText:"Upgrade to Plus",gradient:"bg-gradient-to-br from-violet-700 to-pink-700"},{id:"elite",name:"Elite",icon:i.jsx($S,{className:"w-8 h-8"}),monthlyPrice:6.99,yearlyPrice:6.99,badge:"Premium",features:fr.elite.features.map(e=>({text:e,included:!0})),buttonText:"Get Elite Access",gradient:"bg-gradient-to-br from-amber-600 to-orange-700"}],mW=()=>{const[e,t]=m.useState(null);m.useState(!1);const[n,r]=m.useState(null),[s,a]=m.useState(18.5),{user:o}=ve(),{subscription:l}=Fl(),{plan:c}=Qx(),u=be();console.log("🔍 Subscription data:",{subscription:l,userPlan:c,currentActiveSubscription:n}),m.useEffect(()=>{(async()=>{try{console.log("🔄 Exchange rate functionality to be implemented..."),a(18.5)}catch(f){console.error("Failed to fetch exchange rate:",f),a(18.5)}})()},[]),m.useEffect(()=>{(async()=>{if(o)try{const{data:f,error:g}=await I.from("user_subscriptions").select("*").eq("user_id",o.id).eq("status","active").maybeSingle();if(g){console.error("Error fetching active subscription:",g);return}console.log("🔍 Current active subscription detected:",f),r(f)}catch(f){console.error("Failed to detect current subscription:",f)}})()},[o]);const d=async h=>{if(!o){H.error("Please sign in to subscribe");return}const f=n==null?void 0:n.subscription_plan;if(console.log("🔄 Subscription attempt:",{currentPlan:f,targetPlan:h}),f===h&&(n==null?void 0:n.status)==="active"){H.error("You already have this subscription plan.");return}console.log("🚀 Redirecting to checkout with plan:",h),u(`/checkout?plan=${h}`)};return i.jsxs("div",{className:"min-h-screen relative",children:[i.jsx($l,{}),i.jsx("div",{className:"relative z-10 p-4 md:p-8",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsx("div",{className:"mb-8",children:i.jsx(Cs,{to:"/dashboard",size:"icon",className:"h-10 w-10 bg-green-500 hover:bg-green-600 text-white rounded-full shadow-lg"})}),i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Choose Your Plan"}),i.jsx("p",{className:"text-white/80 text-lg mb-4",children:"Select the perfect plan for your needs"}),i.jsx("p",{className:"text-white/60 text-sm",children:"Start chatting with your AI companions today."})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-6xl mx-auto",children:fW.map((h,f)=>{const g=c==="unlimited"?"unlimited":c==="trial"?"trial":c==="expired"||c==="none"?null:c,x=g?{trial:"plus",premium:"plus",regular:"starter",starter:"starter",plus:"plus",elite:"elite",professional:"plus",unlimited:"elite"}[g]:null,b=x===h.id,y=(l==null?void 0:l.status)==="active"||(l==null?void 0:l.status)==="trial",w=b&&y;return console.log("🎨 Plan rendering:",{planId:h.id,currentUserPlan:g,normalizedCurrentPlan:x,subscriptionStatus:l==null?void 0:l.status,subscription:l,currentActiveSubscription:n,isCurrentPlan:b,isDisabled:w}),i.jsxs(G,{className:Z("relative flex flex-col h-full p-8 backdrop-blur-lg border rounded-2xl",w?"bg-gray-600/20 border-gray-500/30 opacity-60 grayscale cursor-not-allowed":"bg-white/10 border-amber-500/30 hover:bg-white/15 transition-all duration-300 hover:scale-105 ring-2 ring-amber-400/60 bg-amber-50/5 shadow-lg shadow-amber-500/25"),children:[h.badge&&!w&&h.id!=="elite"&&i.jsxs(Ue,{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-gradient-to-r from-pink-500 to-purple-600 text-white border-0 px-3 py-1 text-xs font-medium whitespace-nowrap max-w-[90%] truncate",children:["👑 ",h.badge]}),b&&y&&i.jsxs(Ue,{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-green-500 text-white border-0 px-3 py-1 text-xs font-medium whitespace-nowrap",children:["✓ ",(l==null?void 0:l.status)==="trial"?"Current Trial":"Current Plan"]}),i.jsxs("div",{className:"text-center mb-8 flex-grow",children:[i.jsx("div",{className:Z("w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center text-white",w?"bg-gray-500/50":h.gradient),children:h.icon}),i.jsx("h3",{className:Z("text-xl md:text-2xl font-bold mb-2 px-2",w?"text-gray-400":"text-white"),children:h.name}),i.jsxs("div",{className:Z("mb-2",w?"text-gray-400":"text-white"),children:[i.jsxs("span",{className:"text-3xl md:text-4xl font-bold",children:["$",h.monthlyPrice]}),i.jsx("span",{className:Z("text-base",w?"text-gray-500":"text-white/80"),children:"/month"})]}),i.jsx("div",{className:"mb-4",children:i.jsx("p",{className:Z("text-sm",w?"text-gray-500":"text-white/90"),children:w?"Your current active plan":"Start your subscription today"})})]}),i.jsx("div",{className:"space-y-3 mb-8 px-2 flex-grow",children:h.features.map((p,j)=>i.jsxs("div",{className:"flex items-start space-x-3",children:[p.included?i.jsx(Sa,{className:Z("w-5 h-5 flex-shrink-0 mt-0.5",w?"text-gray-500":"text-green-400")}):i.jsx(_4,{className:"w-5 h-5 text-gray-400 flex-shrink-0 mt-0.5"}),i.jsx("span",{className:Z("text-sm leading-relaxed break-words",w?"text-gray-500":p.included?"text-white font-medium":"text-white/60"),children:p.text})]},j))}),i.jsx(L,{onClick:()=>{if(b&&y){H.info("This is your current active plan.");return}d(h.id)},disabled:e===h.id||w,className:Z("w-full py-4 md:py-6 text-sm md:text-lg font-semibold rounded-xl transition-all duration-300 px-4 min-h-[60px] flex items-center justify-center text-center mt-auto",w?"bg-gray-500/50 text-gray-300 cursor-not-allowed border border-gray-400/30":"bg-gradient-premium text-white hover:shadow-lg hover:shadow-yellow-500/25"),children:i.jsx("span",{className:"break-words hyphens-auto leading-tight",children:e===h.id?"Processing...":w?(l==null?void 0:l.status)==="trial"?"Current Trial Plan":"Current Plan":h.buttonText})})]},h.id)})}),i.jsx("div",{className:"text-center mt-12",children:i.jsx("p",{className:"text-white/60 text-sm",children:"Secure payments coming soon"})})]})})]})};function pW(){return i.jsx(mW,{})}function Wu(e,[t,n]){return Math.min(n,Math.max(t,e))}var z2=["PageUp","PageDown"],W2=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],H2={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Va="Slider",[hp,gW,xW]=kl(Va),[q2,X7]=Ln(Va,[xW]),[vW,Xd]=q2(Va),K2=m.forwardRef((e,t)=>{const{name:n,min:r=0,max:s=100,step:a=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:d,onValueChange:h=()=>{},onValueCommit:f=()=>{},inverted:g=!1,form:v,...x}=e,b=m.useRef(new Set),y=m.useRef(0),p=o==="horizontal"?yW:wW,[j=[],S]=rr({prop:d,defaultProp:u,onChange:F=>{var U;(U=[...b.current][y.current])==null||U.focus(),h(F)}}),_=m.useRef(j);function N(F){const P=NW(j,F);D(F,P)}function k(F){D(F,y.current)}function T(){const F=_.current[y.current];j[y.current]!==F&&f(j)}function D(F,P,{commit:U}={commit:!1}){const $=EW(a),K=TW(Math.round((F-r)/a)*a+r,$),R=Wu(K,[r,s]);S((O=[])=>{const C=SW(O,R,P);if(PW(C,c*a)){y.current=C.indexOf(R);const M=String(C)!==String(O);return M&&U&&f(C),M?C:O}else return O})}return i.jsx(vW,{scope:e.__scopeSlider,name:n,disabled:l,min:r,max:s,valueIndexToChangeRef:y,thumbs:b.current,values:j,orientation:o,form:v,children:i.jsx(hp.Provider,{scope:e.__scopeSlider,children:i.jsx(hp.Slot,{scope:e.__scopeSlider,children:i.jsx(p,{"aria-disabled":l,"data-disabled":l?"":void 0,...x,ref:t,onPointerDown:q(x.onPointerDown,()=>{l||(_.current=j)}),min:r,max:s,inverted:g,onSlideStart:l?void 0:N,onSlideMove:l?void 0:k,onSlideEnd:l?void 0:T,onHomeKeyDown:()=>!l&&D(r,0,{commit:!0}),onEndKeyDown:()=>!l&&D(s,j.length-1,{commit:!0}),onStepKeyDown:({event:F,direction:P})=>{if(!l){const K=z2.includes(F.key)||F.shiftKey&&W2.includes(F.key)?10:1,R=y.current,O=j[R],C=a*K*P;D(O+C,R,{commit:!0})}}})})})})});K2.displayName=Va;var[G2,Y2]=q2(Va,{startEdge:"left",endEdge:"right",size:"width",direction:1}),yW=m.forwardRef((e,t)=>{const{min:n,max:r,dir:s,inverted:a,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[h,f]=m.useState(null),g=me(t,p=>f(p)),v=m.useRef(),x=Tl(s),b=x==="ltr",y=b&&!a||!b&&a;function w(p){const j=v.current||h.getBoundingClientRect(),S=[0,j.width],N=Xx(S,y?[n,r]:[r,n]);return v.current=j,N(p-j.left)}return i.jsx(G2,{scope:e.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:i.jsx(Q2,{dir:x,"data-orientation":"horizontal",...d,ref:g,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:p=>{const j=w(p.clientX);o==null||o(j)},onSlideMove:p=>{const j=w(p.clientX);l==null||l(j)},onSlideEnd:()=>{v.current=void 0,c==null||c()},onStepKeyDown:p=>{const S=H2[y?"from-left":"from-right"].includes(p.key);u==null||u({event:p,direction:S?-1:1})}})})}),wW=m.forwardRef((e,t)=>{const{min:n,max:r,inverted:s,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=m.useRef(null),h=me(t,d),f=m.useRef(),g=!s;function v(x){const b=f.current||d.current.getBoundingClientRect(),y=[0,b.height],p=Xx(y,g?[r,n]:[n,r]);return f.current=b,p(x-b.top)}return i.jsx(G2,{scope:e.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:i.jsx(Q2,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const b=v(x.clientY);a==null||a(b)},onSlideMove:x=>{const b=v(x.clientY);o==null||o(b)},onSlideEnd:()=>{f.current=void 0,l==null||l()},onStepKeyDown:x=>{const y=H2[g?"from-bottom":"from-top"].includes(x.key);c==null||c({event:x,direction:y?-1:1})}})})}),Q2=m.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=Xd(Va,n);return i.jsx(ie.span,{...u,ref:t,onKeyDown:q(e.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):z2.concat(W2).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:q(e.onPointerDown,h=>{const f=h.target;f.setPointerCapture(h.pointerId),h.preventDefault(),d.thumbs.has(f)?f.focus():r(h)}),onPointerMove:q(e.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&s(h)}),onPointerUp:q(e.onPointerUp,h=>{const f=h.target;f.hasPointerCapture(h.pointerId)&&(f.releasePointerCapture(h.pointerId),a(h))})})}),X2="SliderTrack",J2=m.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=Xd(X2,n);return i.jsx(ie.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:t})});J2.displayName=X2;var fp="SliderRange",Z2=m.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=Xd(fp,n),a=Y2(fp,n),o=m.useRef(null),l=me(t,o),c=s.values.length,u=s.values.map(f=>tP(f,s.min,s.max)),d=c>1?Math.min(...u):0,h=100-Math.max(...u);return i.jsx(ie.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:l,style:{...e.style,[a.startEdge]:d+"%",[a.endEdge]:h+"%"}})});Z2.displayName=fp;var mp="SliderThumb",eP=m.forwardRef((e,t)=>{const n=gW(e.__scopeSlider),[r,s]=m.useState(null),a=me(t,l=>s(l)),o=m.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return i.jsx(bW,{...e,ref:a,index:o})}),bW=m.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:s,...a}=e,o=Xd(mp,n),l=Y2(mp,n),[c,u]=m.useState(null),d=me(t,w=>u(w)),h=c?o.form||!!c.closest("form"):!0,f=Td(c),g=o.values[r],v=g===void 0?0:tP(g,o.min,o.max),x=_W(r,o.values.length),b=f==null?void 0:f[l.size],y=b?kW(b,v,l.direction):0;return m.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),i.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${v}% + ${y}px)`},children:[i.jsx(hp.ItemSlot,{scope:e.__scopeSlider,children:i.jsx(ie.span,{role:"slider","aria-label":e["aria-label"]||x,"aria-valuemin":o.min,"aria-valuenow":g,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...a,ref:d,style:g===void 0?{display:"none"}:e.style,onFocus:q(e.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),h&&i.jsx(jW,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:g},r)]})});eP.displayName=mp;var jW=e=>{const{value:t,...n}=e,r=m.useRef(null),s=Ed(t);return m.useEffect(()=>{const a=r.current,o=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(o,"value").set;if(s!==t&&c){const u=new Event("input",{bubbles:!0});c.call(a,t),a.dispatchEvent(u)}},[s,t]),i.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:t})};function SW(e=[],t,n){const r=[...e];return r[n]=t,r.sort((s,a)=>s-a)}function tP(e,t,n){const a=100/(n-t)*(e-t);return Wu(a,[0,100])}function _W(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function NW(e,t){if(e.length===1)return 0;const n=e.map(s=>Math.abs(s-t)),r=Math.min(...n);return n.indexOf(r)}function kW(e,t,n){const r=e/2,a=Xx([0,50],[0,r]);return(r-a(t)*n)*n}function CW(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function PW(e,t){if(t>0){const n=CW(e);return Math.min(...n)>=t}return!0}function Xx(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function EW(e){return(String(e).split(".")[1]||"").length}function TW(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var nP=K2,AW=J2,RW=Z2,MW=eP;const Oo=m.forwardRef(({className:e,...t},n)=>i.jsxs(nP,{ref:n,className:Z("relative flex w-full touch-none select-none items-center",e),...t,children:[i.jsx(AW,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:i.jsx(RW,{className:"absolute h-full bg-primary"})}),i.jsx(MW,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Oo.displayName=nP.displayName;function DW(){const e=new Date,t=new Date(e.toLocaleString("en-ZA",{timeZone:"Africa/Johannesburg"}));return t.setDate(t.getDate()+1),t}function IW(e){const t=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${e.getFullYear()}-${t}-${n}`}function OW(){const[e,t]=m.useState(""),[n,r]=m.useState(!0),[s,a]=m.useState(""),o={merchant_id:"31312743",merchant_key:"omvpourpsju4f",return_url:"https://www.smshed.com/success",cancel_url:"https://www.smshed.com/cancel",notify_url:"https://www.smshed.com/payfast/notify",name_first:"Justin",name_last:"Burley",email_address:"test@example.com",item_name:"Starter",amount:"29.00",subscription_type:"1",billing_date:IW(DW()),recurring_amount:"29.00",frequency:"3",cycles:"0",subscription_notify_email:"1",subscription_notify_webhook:"1"};return m.useEffect(()=>{(async()=>{try{const c=await fetch("https://cwielypcfeopsgqfiioc.supabase.co/functions/v1/generate-signature",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({params:o,passphrase:"NewPassphrase123"})});if(!c.ok)throw new Error(`HTTP error! status: ${c.status}`);const u=await c.json();u.signature?t(u.signature):a("No signature received")}catch(c){console.error("Error fetching signature:",c),a("Failed to generate signature")}finally{r(!1)}})()},[]),n?i.jsx("button",{disabled:!0,className:"px-6 py-3 bg-gray-400 text-white rounded-lg shadow",children:"Generating signature..."}):s?i.jsxs("div",{className:"p-4 bg-red-100 text-red-700 rounded-lg",children:["Error: ",s]}):i.jsxs("form",{action:"https://www.payfast.co.za/eng/process",method:"post",children:[i.jsx("input",{type:"hidden",name:"merchant_id",value:o.merchant_id}),i.jsx("input",{type:"hidden",name:"merchant_key",value:o.merchant_key}),i.jsx("input",{type:"hidden",name:"return_url",value:o.return_url}),i.jsx("input",{type:"hidden",name:"cancel_url",value:o.cancel_url}),i.jsx("input",{type:"hidden",name:"notify_url",value:o.notify_url}),i.jsx("input",{type:"hidden",name:"name_first",value:o.name_first}),i.jsx("input",{type:"hidden",name:"name_last",value:o.name_last}),i.jsx("input",{type:"hidden",name:"email_address",value:o.email_address}),i.jsx("input",{type:"hidden",name:"amount",value:o.amount}),i.jsx("input",{type:"hidden",name:"item_name",value:o.item_name}),i.jsx("input",{type:"hidden",name:"subscription_type",value:o.subscription_type}),i.jsx("input",{type:"hidden",name:"billing_date",value:o.billing_date}),i.jsx("input",{type:"hidden",name:"recurring_amount",value:o.recurring_amount}),i.jsx("input",{type:"hidden",name:"frequency",value:o.frequency}),i.jsx("input",{type:"hidden",name:"cycles",value:o.cycles}),i.jsx("input",{type:"hidden",name:"subscription_notify_email",value:o.subscription_notify_email}),i.jsx("input",{type:"hidden",name:"subscription_notify_webhook",value:o.subscription_notify_webhook}),i.jsx("input",{type:"hidden",name:"signature",value:e}),i.jsx("button",{type:"submit",className:"px-6 py-3 bg-green-600 text-white rounded-lg shadow",children:"Pay with PayFast"})]})}const LW=()=>{const[e,t]=m.useState(!1),[n,r]=m.useState(null),s=async()=>{t(!0),r(null);try{console.log("🧪 Starting PayFast signature test...");const{data:a,error:o}=await I.functions.invoke("test-payfast-signature",{body:{}});if(o)throw o;console.log("✅ Test completed:",a),r(a),a.signature_accepted?H.success("PayFast signature test passed!"):H.error("PayFast signature test failed")}catch(a){console.error("🚨 Test failed:",a),H.error(`Test failed: ${a.message}`),r({success:!1,error:a.message})}finally{t(!1)}};return i.jsxs(G,{className:"w-full max-w-2xl mx-auto",children:[i.jsxs(oe,{children:[i.jsx(ae,{className:"flex items-center gap-2",children:"PayFast Signature Test"}),i.jsx(mi,{children:"Test the PayFast signature generation and submission"})]}),i.jsxs(Y,{className:"space-y-4",children:[i.jsx(L,{onClick:s,disabled:e,className:"w-full",children:e?i.jsxs(i.Fragment,{children:[i.jsx(wu,{className:"mr-2 h-4 w-4 animate-spin"}),"Testing Signature..."]}):"Test PayFast Signature"}),n&&i.jsxs("div",{className:"mt-6 space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[n.signature_accepted?i.jsx(En,{className:"h-5 w-5 text-green-500"}):i.jsx(Po,{className:"h-5 w-5 text-red-500"}),i.jsx("span",{className:"font-medium",children:n.signature_accepted?"Signature Accepted":"Signature Rejected"})]}),i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2",children:[n.raw_string&&i.jsxs("div",{children:[i.jsx("strong",{children:"Raw String Before Hashing:"}),i.jsx("pre",{className:"text-xs mt-1 p-2 bg-gray-100 rounded overflow-x-auto break-all",children:n.raw_string})]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Generated Signature:"})," ",n.signature]}),i.jsxs("div",{children:[i.jsx("strong",{children:"PayFast Status:"})," ",n.payfast_status]}),n.response_preview&&i.jsxs("div",{children:[i.jsx("strong",{children:"Response Preview:"}),i.jsx("pre",{className:"text-xs mt-1 p-2 bg-gray-100 rounded overflow-x-auto",children:n.response_preview})]})]}),n.test_payload&&i.jsxs("details",{className:"bg-blue-50 p-4 rounded-lg",children:[i.jsx("summary",{className:"font-medium cursor-pointer",children:"View Test Payload"}),i.jsx("pre",{className:"text-xs mt-2 overflow-x-auto",children:JSON.stringify(n.test_payload,null,2)})]}),n.error&&i.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[i.jsx("strong",{className:"text-red-700",children:"Error:"}),i.jsx("pre",{className:"text-sm mt-1 text-red-600",children:n.error})]})]})]})]})},FW=()=>{const{user:e}=ve(),[t,n]=m.useState(!1),[r,s]=m.useState(null),a=async()=>{if(!e){H.error("You must be logged in to test message processing");return}n(!0),s(null);try{console.log("🧪 Testing process-message function...");const{data:l,error:c}=await I.from("user_chats").select("*").eq("user_id",e.id).eq("is_active",!0).limit(1);if(c||!l||l.length===0)throw new Error("No active chats found. Please create a chat first.");const u=l[0],{data:d,error:h}=await I.from("chat_messages").insert({user_chat_id:u.id,user_id:e.id,message:"Test message - are you receiving this?",is_user_message:!0,processing_status:"pending"}).select().single();if(h)throw new Error(`Failed to create test message: ${h.message}`);console.log("✅ Test message created:",d.id);const{data:f,error:g}=await I.functions.invoke("process-message",{body:{user_chat_id:u.id,parent_user_msg_id:d.id,user_id:e.id,message:"Test message - are you receiving this?"}});if(console.log("🔍 Process-message response:",{data:f,error:g}),g)throw g;s({success:!0,message_id:d.id,response:f,chat_id:u.id}),H.success("Message processing test completed successfully!")}catch(l){console.error("🚨 Test failed:",l),H.error(`Test failed: ${l.message}`),s({success:!1,error:l.message})}finally{n(!1)}},o=async()=>{try{const{data:l,error:c}=await I.from("chat_messages").select("*").eq("user_id",e==null?void 0:e.id).order("created_at",{ascending:!1}).limit(5);if(c)throw c;console.log("📋 Recent messages:",l),s({success:!0,recent_messages:l})}catch(l){console.error("Error checking messages:",l),H.error(`Failed to check messages: ${l.message}`)}};return i.jsxs(G,{className:"w-full max-w-2xl mx-auto",children:[i.jsxs(oe,{children:[i.jsxs(ae,{className:"flex items-center gap-2",children:[i.jsx(ju,{className:"h-5 w-5"}),"Message Processing Debug"]}),i.jsx(mi,{children:"Test if the AI message processing system is working correctly"})]}),i.jsxs(Y,{className:"space-y-4",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx(L,{onClick:a,disabled:t||!e,className:"flex-1",children:t?i.jsxs(i.Fragment,{children:[i.jsx(wu,{className:"mr-2 h-4 w-4 animate-spin"}),"Testing..."]}):"Test Process Message Function"}),i.jsx(L,{onClick:o,variant:"outline",disabled:!e,children:"Check Recent Messages"})]}),!e&&i.jsxs("div",{className:"flex items-center gap-2 text-yellow-600 bg-yellow-50 p-3 rounded-lg",children:[i.jsx(FS,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm",children:"You must be logged in to test message processing"})]}),r&&i.jsxs("div",{className:"mt-6 space-y-4",children:[i.jsx("div",{className:"flex items-center gap-2",children:r.success?i.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),i.jsx("span",{className:"font-medium",children:"Test Result: Success"})]}):i.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[i.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),i.jsx("span",{className:"font-medium",children:"Test Result: Failed"})]})}),i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2",children:[r.message_id&&i.jsxs("div",{children:[i.jsx("strong",{children:"Test Message ID:"})," ",r.message_id]}),r.chat_id&&i.jsxs("div",{children:[i.jsx("strong",{children:"Chat ID:"})," ",r.chat_id]}),r.response&&i.jsxs("div",{children:[i.jsx("strong",{children:"Function Response:"}),i.jsx("pre",{className:"text-xs mt-1 p-2 bg-gray-100 rounded overflow-x-auto",children:JSON.stringify(r.response,null,2)})]}),r.recent_messages&&i.jsxs("div",{children:[i.jsx("strong",{children:"Recent Messages:"}),i.jsx("pre",{className:"text-xs mt-1 p-2 bg-gray-100 rounded overflow-x-auto max-h-64",children:JSON.stringify(r.recent_messages,null,2)})]}),r.error&&i.jsxs("div",{className:"text-red-600",children:[i.jsx("strong",{children:"Error:"})," ",r.error]})]})]})]})]})},jc=[{id:"starter",name:"Starter",price:fr.starter.priceUsdMonthly,description:"For quick, private chats.",benefits:fr.starter.features},{id:"plus",name:"Plus",price:fr.plus.priceUsdMonthly,description:"For regulars who want better quality and custom vibes.",benefits:fr.plus.features},{id:"elite",name:"Elite",price:fr.elite.priceUsdMonthly,description:"For power users and superfans.",benefits:fr.elite.features}];function $W(){var v,x,b,y;const e=be(),{user:t}=ve(),[n]=ud(),[r,s]=m.useState(n.get("plan")||"starter"),[a,o]=m.useState(n.get("type")==="bucks"?"bucks":"subscription"),[l,c]=m.useState([5]),[u,d]=m.useState(!1),[h,f]=m.useState(!1);m.useEffect(()=>{if(!t){e("/auth");return}},[t,e]);const g=w=>{if(w<=5)return 50;if(w>=1e3)return 2e4;const p=(w-5)/995;return Math.round(50+p*19950)};return i.jsxs("div",{className:"min-h-screen relative",children:[i.jsx($l,{}),i.jsx("div",{className:"relative z-10 py-8 px-4",children:i.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[i.jsx(Cs,{to:"/subscription",showText:!0,className:"mb-4 text-white hover:bg-white/20"}),h?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h1",{className:"text-2xl font-bold text-white",children:"Message Processing Debug"}),i.jsx(L,{variant:"outline",onClick:()=>f(!1),className:"bg-white/10 border-amber-500/30 text-white hover:bg-white/20",children:"Back to Checkout"})]}),i.jsx(FW,{})]}):u?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h1",{className:"text-2xl font-bold text-white",children:"PayFast Signature Testing"}),i.jsx(L,{variant:"outline",onClick:()=>d(!1),className:"bg-white/10 border-amber-500/30 text-white hover:bg-white/20",children:"Back to Checkout"})]}),i.jsx(LW,{})]}):i.jsx(i.Fragment,{children:i.jsxs(G,{className:"bg-white/10 backdrop-blur-lg border border-amber-500/30",children:[i.jsx(oe,{children:i.jsxs(ae,{className:"text-lg md:text-xl text-white flex items-center gap-2",children:[i.jsx(sr,{className:"w-5 h-5"}),"Order Summary"]})}),i.jsxs(Y,{className:"space-y-4",children:[a==="subscription"&&i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-amber-500/20",children:[i.jsxs("h3",{className:"text-white font-semibold text-lg mb-2",children:[(v=jc.find(w=>w.id===r))==null?void 0:v.name," Plan"]}),i.jsx("p",{className:"text-amber-200 mb-3",children:(x=jc.find(w=>w.id===r))==null?void 0:x.description}),i.jsxs("div",{className:"text-2xl font-bold text-white mb-3",children:["$",(b=jc.find(w=>w.id===r))==null?void 0:b.price.toFixed(2),"/month"]}),i.jsx("div",{className:"space-y-2",children:(y=jc.find(w=>w.id===r))==null?void 0:y.benefits.map((w,p)=>i.jsxs("div",{className:"flex items-center text-gray-300 text-sm",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-amber-400 rounded-full mr-2 flex-shrink-0"}),w]},p))})]})}),a==="bucks"&&i.jsxs("div",{className:"bg-white/5 rounded-lg p-6 border border-amber-500/20 space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-white font-semibold text-lg mb-2",children:"Bucks Purchase"}),i.jsx("p",{className:"text-amber-200 mb-4",children:"In-app credits for premium features"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm text-gray-300",children:[i.jsx("span",{children:"Amount"}),i.jsx("span",{children:"$5 - $1,000"})]}),i.jsx(Oo,{value:l,onValueChange:c,max:1e3,min:5,step:5,className:"w-full"}),i.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[i.jsx("span",{children:"$5"}),i.jsx("span",{children:"$1,000"})]})]}),i.jsxs("div",{className:"text-center space-y-2",children:[i.jsxs("div",{className:"text-3xl font-bold text-white",children:[g(l[0]).toLocaleString()," Bucks"]}),i.jsxs("div",{className:"text-xl text-amber-200",children:["$",l[0].toFixed(2)]}),i.jsxs("div",{className:"text-sm text-gray-400",children:[(g(l[0])/l[0]).toFixed(0)," bucks per dollar"]})]})]})]}),i.jsx(OW,{}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(L,{onClick:()=>d(!0),variant:"outline",className:"flex-1 bg-white/10 border-amber-500/30 text-white hover:bg-white/20",size:"lg",children:[i.jsx(A4,{className:"mr-2 h-4 w-4"}),"Test PayFast Signature"]}),i.jsxs(L,{onClick:()=>f(!0),variant:"outline",className:"flex-1 bg-white/10 border-amber-500/30 text-white hover:bg-white/20",size:"lg",children:[i.jsx(ju,{className:"mr-2 h-4 w-4"}),"Test AI Messages"]})]})]})]})})]})})]})}function UW(){const e=be(),t=()=>{e("/dashboard")};return i.jsx("div",{className:"min-h-screen bg-background px-4 py-8",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsx("div",{className:"mb-4",children:i.jsxs(L,{variant:"outline",onClick:t,className:"flex items-center gap-2",children:[i.jsx($n,{className:"h-4 w-4"}),"Back"]})}),i.jsxs(G,{children:[i.jsxs(oe,{children:[i.jsx(ae,{className:"text-3xl font-bold text-center",children:"Terms of Service for smshed.com"}),i.jsx(mi,{className:"text-center",children:"Last updated: August 7, 2025"})]}),i.jsx(Y,{className:"prose prose-gray max-w-none dark:prose-invert",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Agreement to Terms"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:'By accessing or using smshed.com (the "Service"), provided by Smshed, a South African company ("we," "us," or "our"), you agree to be bound by these Terms of Service ("Terms"). The Service offers an AI-driven companion for emotional support and confidence-building, not a dating or romantic platform. If you do not agree to these Terms, you may not use the Service.'})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Definitions"}),i.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Service:"})," The smshed.com website, mobile app, and AI companion features, including empathetic chats, mood tracking, and social prompts."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"User or You:"})," Any individual accessing the Service."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Content:"})," Text, images, or data you provide to or receive from the Service, including AI-generated responses."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"AI Persona:"})," A virtual, photorealistic female companion powered by artificial intelligence, designed for empathetic support."]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. Eligibility"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"You must be at least 18 years old to use the Service. By registering, you confirm you meet this requirement and provide accurate information (e.g., name, email, payment details if applicable)."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Use License"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Grant"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We grant you a non-exclusive, non-transferable, revocable license to use the Service for personal, non-commercial purposes, subject to these Terms."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Restrictions"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed mb-2",children:"You may not:"}),i.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1",children:[i.jsx("li",{children:"Copy, modify, or distribute the Service or its Content without permission."}),i.jsx("li",{children:"Use the Service for commercial purposes or public display."}),i.jsx("li",{children:"Reverse engineer, decompile, or extract the Service's source code."}),i.jsx("li",{children:"Remove copyright or proprietary notices from the Service or Content."}),i.jsx("li",{children:"Engage in illegal activities or violate South African laws (e.g., POPIA, ECTA, CPA)."})]})]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. Subscription Services and Payments"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Billing"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"The Service offers free access and premium features (e.g., custom AI personas, advanced tools) via subscriptions ($5-$10/month) or in-app purchases ($1-$3). Payments are processed in advance through Stitch, a PCI DSS-compliant South African payment gateway, adhering to the Financial Intelligence Centre Act (FIC Act)."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Automatic Renewal"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Subscriptions renew automatically unless cancelled at least 24 hours before the renewal date via your account settings."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Cancellation"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Cancel anytime through your account. Access continues until the end of the billing period. Refunds are reviewed per the Consumer Protection Act (CPA)."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Payment Compliance"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"You agree to provide accurate payment information and comply with Stitch's terms. We use secure, PCI DSS-compliant systems to protect transactions."})]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"6. AI-Generated Content"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Ownership"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We own the AI Persona and all AI-generated Content (e.g., chat responses). You own your personal Content (e.g., chat inputs, mood data), subject to our Privacy Policy."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Usage"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"You may use AI-generated Content for personal, non-commercial purposes. You may not reproduce, sell, or distribute it without our consent."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Limitations"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"The AI Persona provides general emotional support, not professional mental health or medical advice. Consult a licensed professional for clinical needs."})]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"7. Privacy and Data Protection"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Privacy Policy"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Our Privacy Policy, compliant with the Protection of Personal Information Act (POPIA), governs data collection and use. Review it at www.smshed.com/privacy-policy."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Data Security"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We use 256-bit encryption and PCI DSS-compliant systems to protect your data. You are responsible for securing your account credentials."})]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"8. Prohibited Uses"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed mb-2",children:"You may not:"}),i.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1",children:[i.jsx("li",{children:"Use the Service for illegal or unauthorized purposes, including violating South African laws (e.g., ECTA, CPA)."}),i.jsx("li",{children:"Impersonate others, create false accounts, or misuse the AI Persona."}),i.jsx("li",{children:"Upload offensive, explicit, or harmful Content."}),i.jsx("li",{children:"Misrepresent the Service as a dating or adult platform; it is designed for emotional support and mental well-being."}),i.jsx("li",{children:"Attempt to bypass security or disrupt the Service."})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"9. Intellectual Property"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Our Rights"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We own all intellectual property in the Service, including the AI Persona, software, and photorealistic visuals, protected under South African copyright and trademark laws."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"User Content"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"You grant us a non-exclusive, worldwide license to use, store, and process your Content to provide the Service, subject to POPIA."})]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"10. Disclaimer"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:'The Service is provided "as is" without warranties, to the extent permitted by South African law. We do not guarantee the accuracy, reliability, or availability of the Service or AI-generated Content. The Service is not a substitute for professional mental health care.'})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"11. Limitation of Liability"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Per the Consumer Protection Act (CPA), we and our suppliers are not liable for indirect, incidental, or consequential damages (e.g., loss of data, profits, or business interruption) arising from your use of the Service."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"12. Termination"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We may suspend or terminate your access for violating these Terms, with notice as required by the CPA. Upon termination, your license to use the Service ends, and you must cease all use."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"13. Governing Law"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"These Terms are governed by South African law, including the Electronic Communications and Transactions Act (ECTA) and POPIA. Disputes will be resolved in South African courts, subject to mandatory arbitration where required."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"14. Amendments"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We may update these Terms, with changes effective upon posting or notification, per the CPA. Continued use constitutes acceptance of updated Terms."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"15. Contact Information"}),i.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:["For questions, contact us at support@smshed.com.",i.jsx("br",{}),"Smshed",i.jsx("br",{}),"112 Chandelle, Buh-Rein Estate, Buh-Rein, Cape Town, South Africa"]})]})]})})]})]})})}function BW(){const e=be(),t=()=>{e("/dashboard")};return i.jsx("div",{className:"min-h-screen bg-background px-4 py-8",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsx("div",{className:"mb-4",children:i.jsxs(L,{variant:"outline",onClick:t,className:"flex items-center gap-2",children:[i.jsx($n,{className:"h-4 w-4"}),"Back"]})}),i.jsxs(G,{children:[i.jsxs(oe,{children:[i.jsx(ae,{className:"text-3xl font-bold text-center",children:"Privacy Policy"}),i.jsxs(mi,{className:"text-center",children:["Last updated: ",new Date().toLocaleDateString()]})]}),i.jsx(Y,{className:"prose prose-gray max-w-none dark:prose-invert",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Information We Collect"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We collect information you provide directly to us, such as when you create an account, make a purchase, or contact us for support. This may include:"}),i.jsxs("ul",{className:"list-disc list-inside text-muted-foreground mt-2 space-y-1",children:[i.jsx("li",{children:"Name and email address"}),i.jsx("li",{children:"Payment information (processed securely through our payment providers)"}),i.jsx("li",{children:"Communication preferences"}),i.jsx("li",{children:"Messages and interactions within our service"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. How We Use Your Information"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We use the information we collect to:"}),i.jsxs("ul",{className:"list-disc list-inside text-muted-foreground mt-2 space-y-1",children:[i.jsx("li",{children:"Provide, maintain, and improve our services"}),i.jsx("li",{children:"Process transactions and send related information"}),i.jsx("li",{children:"Send technical notices and support messages"}),i.jsx("li",{children:"Respond to your comments and questions"}),i.jsx("li",{children:"Communicate with you about products, services, and events"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. Information Sharing"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We do not sell, trade, or otherwise transfer your personal information to third parties except as described in this policy:"}),i.jsxs("ul",{className:"list-disc list-inside text-muted-foreground mt-2 space-y-1",children:[i.jsx("li",{children:"With service providers who assist us in operating our website and conducting business"}),i.jsx("li",{children:"When required by law or to protect our rights and safety"}),i.jsx("li",{children:"In connection with a merger, acquisition, or sale of assets"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Data Security"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We implement appropriate security measures to protect your personal information against unauthorized access, alteration, disclosure, or destruction. However, no method of transmission over the internet is 100% secure."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. Payment Processing"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Payment information is processed by our third-party payment processors. We do not store your complete payment card information on our servers. Our payment processors comply with PCI DSS standards."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"6. Cookies and Tracking"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We use cookies and similar tracking technologies to enhance your experience on our website. You can control cookie settings through your browser preferences."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"7. Data Retention"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We retain your personal information for as long as necessary to provide our services and fulfill the purposes outlined in this policy, unless a longer retention period is required by law."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"8. Your Rights"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Depending on your location, you may have certain rights regarding your personal information, including:"}),i.jsxs("ul",{className:"list-disc list-inside text-muted-foreground mt-2 space-y-1",children:[i.jsx("li",{children:"The right to access and receive a copy of your personal information"}),i.jsx("li",{children:"The right to correct inaccurate information"}),i.jsx("li",{children:"The right to request deletion of your information"}),i.jsx("li",{children:"The right to restrict or object to processing"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"9. Children's Privacy"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Our service is not intended for children under 18 years of age. We do not knowingly collect personal information from children under 18."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"10. International Data Transfers"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Your information may be transferred to and processed in countries other than your own. We ensure appropriate safeguards are in place for such transfers."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"11. Updates to This Policy"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:'We may update this privacy policy from time to time. We will notify you of any changes by posting the new policy on this page and updating the "Last updated" date.'})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"12. Contact Us"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"If you have any questions about this Privacy Policy, please contact us through our contact page."})]})]})})]})]})})}var VW="Separator",qw="horizontal",zW=["horizontal","vertical"],rP=m.forwardRef((e,t)=>{const{decorative:n,orientation:r=qw,...s}=e,a=WW(r)?r:qw,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return i.jsx(ie.div,{"data-orientation":a,...l,...s,ref:t})});rP.displayName=VW;function WW(e){return zW.includes(e)}var sP=rP;const iP=m.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},s)=>i.jsx(sP,{ref:s,decorative:n,orientation:t,className:Z("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));iP.displayName=sP.displayName;const HW=()=>{const{subscription:e,loading:t}=Fl(),n=be();if(t||!e||e.status!=="trial"||!e.active)return null;const r=e.days_remaining||0,s=e.trial_ends_at?new Date(e.trial_ends_at):null,a=s?Math.max(0,Math.ceil((s.getTime()-new Date().getTime())/(1e3*60*60))):0,o=()=>a<=24?`Trial expires in ${a} hours! Don't lose access to premium features.`:r<=1?"Trial expires tomorrow! Upgrade now to continue enjoying premium features.":`${r} days left in your premium trial.`,l=()=>a<=24?"bg-gradient-to-r from-red-500/10 to-orange-500/10 border-red-200 dark:border-red-800":r<=1?"bg-gradient-to-r from-orange-500/10 to-yellow-500/10 border-orange-200 dark:border-orange-800":"bg-gradient-to-r from-purple-500/10 to-pink-500/10 border-purple-200 dark:border-purple-800";return i.jsxs(G,{className:`mb-4 p-4 ${l()}`,children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center gap-3",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(qe,{className:"w-5 h-5 text-yellow-500"}),i.jsx(Ue,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",children:"Premium Trial"}),a<=24&&i.jsxs(Ue,{variant:"destructive",className:"animate-pulse",children:[i.jsx(Xn,{className:"w-3 h-3 mr-1"}),"Urgent"]})]})}),i.jsx(L,{size:"sm",onClick:()=>n("/subscription"),className:a<=24?"bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-700 hover:to-orange-700 animate-pulse":"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:a<=24?"Upgrade Urgently":"Upgrade Now"})]}),i.jsxs("div",{className:"mt-2",children:[i.jsx("p",{className:"text-sm font-medium text-foreground",children:o()}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Continue enjoying unlimited chats, priority responses, and all premium features"})]})]})},qW=512,KW=2*1024*1024,GW=.85,YW=.8,QW=async(e,t=qW,n=YW)=>new Promise((r,s)=>{const a=document.createElement("canvas"),o=a.getContext("2d"),l=new Image;if(!o){s(new Error("Canvas context not available"));return}l.onload=()=>{try{const{width:c,height:u}=XW(l.naturalWidth,l.naturalHeight,t);a.width=c,a.height=u,o.imageSmoothingEnabled=!0,o.imageSmoothingQuality="high";const d=Math.min(l.naturalWidth,l.naturalHeight),h=(l.naturalWidth-d)/2,f=(l.naturalHeight-d)/2;o.drawImage(l,h,f,d,d,0,0,c,u);const g=JW()?"image/webp":"image/jpeg",v=g==="image/webp"?n:GW;a.toBlob(x=>{if(!x){s(new Error("Failed to compress image"));return}const b=new File([x],ZW(e.name,g),{type:g});r(b)},g,v)}catch(c){s(c)}},l.onerror=()=>s(new Error("Failed to load image")),l.src=URL.createObjectURL(e)}),XW=(e,t,n)=>({width:n,height:n}),JW=()=>{try{const e=document.createElement("canvas");return e.width=1,e.height=1,e.toDataURL("image/webp").indexOf("data:image/webp")===0}catch{return!1}},ZW=(e,t)=>`${e.replace(/\.[^/.]+$/,"")}_optimized.${t==="image/webp"?"webp":"jpg"}`,e9=e=>e.type.startsWith("image/")?e.size>KW?{isValid:!1,error:"Image must be less than 2MB"}:{isValid:!0}:{isValid:!1,error:"Please select an image file"},t9=e=>new Promise((t,n)=>{const r=new Image,s=document.createElement("canvas"),a=s.getContext("2d");if(!a){n(new Error("Canvas context not available"));return}r.onload=()=>{s.width=128,s.height=128,a.imageSmoothingEnabled=!0,a.imageSmoothingQuality="high";const l=Math.min(r.naturalWidth,r.naturalHeight),c=(r.naturalWidth-l)/2,u=(r.naturalHeight-l)/2;a.drawImage(r,c,u,l,l,0,0,128,128),t(s.toDataURL("image/jpeg",.7))},r.onerror=()=>n(new Error("Failed to create preview")),r.src=URL.createObjectURL(e)}),n9=({currentAvatarUrl:e,onAvatarUpdated:t,disabled:n})=>{const{user:r}=ve(),[s,a]=m.useState(!1),[o,l]=m.useState(!1),[c,u]=m.useState(null),[d,h]=m.useState(null),[f,g]=m.useState(null),v=m.useRef(null),x=async p=>{var _;const j=(_=p.target.files)==null?void 0:_[0];if(!j)return;const S=e9(j);if(!S.isValid){H.error(S.error);return}h(j),l(!0);try{const N=await t9(j);u(N);const k=await QW(j);g(k);const T=((j.size-k.size)/j.size*100).toFixed(0);console.log(`🎯 Image optimized: ${(j.size/1024).toFixed(0)}KB → ${(k.size/1024).toFixed(0)}KB (${T}% smaller)`)}catch(N){console.error("Error optimizing image:",N),H.error("Failed to optimize image");const k=new FileReader;k.onload=T=>{var D;return u((D=T.target)==null?void 0:D.result)},k.readAsDataURL(j),g(j)}finally{l(!1)}},b=async()=>{if(!r){H.error("Please log in to upload avatar");return}const p=f||d;if(!p){H.error("No file selected");return}a(!0);try{const j=p.type==="image/webp"?"webp":"jpg",S=`${r.id}/avatar_${Date.now()}.${j}`;if(e&&e.includes("avatar")){const D=e.split("/"),F=D[D.length-1];F&&F.includes("avatar")&&await I.storage.from("avatars").remove([`${r.id}/${F}`])}const{data:_,error:N}=await I.storage.from("avatars").upload(S,p,{cacheControl:"3600",upsert:!1});if(N){console.error("Upload error:",N),H.error(`Failed to upload avatar: ${N.message}`);return}const{data:{publicUrl:k}}=I.storage.from("avatars").getPublicUrl(S);await I.from("profiles").update({avatar_url:k}).eq("user_id",r.id),t(k),y();const T=f?`(${((d.size-f.size)/d.size*100).toFixed(0)}% smaller)`:"";H.success(`Avatar updated successfully! ${T}`)}catch(j){console.error("Error uploading avatar:",j),H.error("Failed to upload avatar")}finally{a(!1)}},y=()=>{u(null),h(null),g(null),v.current&&(v.current.value="")},w=c||e;return i.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsxs(ku,{className:"h-24 w-24 ring-2 ring-primary/20 transition-all duration-300",children:[i.jsx(Cu,{src:w,alt:"Profile picture",className:"object-cover transition-all duration-300",loading:"lazy"}),i.jsx(Pu,{className:"bg-gradient-to-br from-primary/10 to-primary/5",children:i.jsx(Jn,{className:"h-8 w-8 text-primary"})})]}),o&&i.jsx("div",{className:"absolute inset-0 bg-primary/20 rounded-full flex items-center justify-center",children:i.jsx(Su,{className:"h-4 w-4 text-primary animate-pulse"})}),i.jsx(L,{size:"sm",variant:"secondary",className:"absolute -bottom-2 -right-2 rounded-full w-8 h-8 p-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-110",onClick:()=>{var p;return(p=v.current)==null?void 0:p.click()},disabled:n||s||o,title:"Change avatar",children:i.jsx(DS,{className:"h-4 w-4"})})]}),i.jsx("input",{ref:v,type:"file",accept:"image/jpeg,image/png,image/webp,image/heic",onChange:x,style:{display:"none"},id:"avatar-upload-input"}),c&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(L,{size:"sm",onClick:b,disabled:s||o,className:"bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary/70 shadow-lg",children:s?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-white mr-1"}),"Uploading..."]}):o?i.jsxs(i.Fragment,{children:[i.jsx(Su,{className:"h-3 w-3 mr-1 animate-pulse"}),"Optimizing..."]}):i.jsxs(i.Fragment,{children:[i.jsx(kd,{className:"h-3 w-3 mr-1"}),"Save Avatar",f&&i.jsxs("span",{className:"ml-1 text-xs opacity-80",children:["(",((1-f.size/d.size)*100).toFixed(0),"% smaller)"]})]})}),i.jsxs(L,{size:"sm",variant:"outline",onClick:y,disabled:s||o,children:[i.jsx(Dn,{className:"h-3 w-3 mr-1"}),"Cancel"]})]}),!c&&i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-xs text-muted-foreground max-w-xs mb-1",children:"Click the camera icon to upload a new profile picture (max 2MB)"}),i.jsx("p",{className:"text-xs text-muted-foreground/70",children:"Images are automatically optimized for faster loading"})]})]})},r9=({onDeleted:e})=>{const{user:t}=ve(),[n,r]=m.useState(!1),[s,a]=m.useState(!1),o=async()=>{if(!t){H.error("You must be logged in to delete your data");return}a(!0);try{console.log("Starting hard delete all for user:",t.id);const{error:l}=await I.rpc("hard_delete_all_user_data",{p_user_id:t.id});if(l)throw console.error("Hard delete all error:",l),l;console.log("Hard delete all completed successfully"),H.success("All your data has been permanently deleted"),r(!1),e&&e()}catch(l){console.error("Failed to hard delete all data:",l),H.error("Failed to delete all data. Please try again.")}finally{a(!1)}};return i.jsxs(hx,{open:n,onOpenChange:r,children:[i.jsx(eC,{asChild:!0,children:i.jsxs(L,{variant:"destructive",className:"bg-red-600 hover:bg-red-700 text-white",children:[i.jsx(Mn,{className:"mr-2 h-4 w-4"}),"Hard Delete All Details"]})}),i.jsxs(Ud,{children:[i.jsxs(Bd,{children:[i.jsx(zd,{children:"Delete All Your Details"}),i.jsxs(Wd,{className:"space-y-3",children:[i.jsxs("div",{className:"p-4 border rounded-md bg-red-50 border-red-200",children:[i.jsx("h4",{className:"font-medium text-sm mb-2 text-red-800",children:"⚠️ Warning: This action cannot be undone!"}),i.jsxs("p",{className:"text-sm text-red-700",children:["This will permanently remove ",i.jsx("strong",{children:"ALL"})," of your data including:"]}),i.jsxs("ul",{className:"list-disc list-inside text-sm text-red-700 mt-2 space-y-1",children:[i.jsx("li",{children:"Chat history with all companions"}),i.jsx("li",{children:"AI memory and learned information about you"}),i.jsx("li",{children:"Personal information and preferences"}),i.jsx("li",{children:"Relationship context across all conversations"}),i.jsx("li",{children:"Account settings and customizations"})]}),i.jsx("p",{className:"text-sm text-red-700 mt-3 font-medium",children:"All AI companions will start completely fresh with no memory of you."})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Are you sure you want to proceed? This cannot be undone."})]})]}),i.jsx(Vd,{className:"flex-col space-y-2",children:i.jsxs("div",{className:"flex space-x-2 w-full",children:[i.jsx(L,{variant:"outline",onClick:()=>r(!1),disabled:s,className:"flex-1",children:"Cancel"}),i.jsx(L,{variant:"destructive",onClick:o,disabled:s,className:"flex-1 bg-red-600 hover:bg-red-700",children:s?"Deleting...":"Yes, Delete Everything"})]})})]})]})};function s9(){const{user:e}=ve(),{subscription:t,loading:n}=Fl(),{plan:r}=Qx();La();const s=be(),[a,o]=m.useState({}),[l,c]=m.useState([]),[u,d]=m.useState(!0),[h,f]=m.useState(!1);m.useEffect(()=>{e&&g()},[e]);const g=async()=>{try{const{data:y,error:w}=await I.from("profiles").select("display_name, gender_preference, avatar_url").eq("user_id",e==null?void 0:e.id).single();w&&w.code!=="PGRST116"?console.error("Profile error:",w):y&&o(y);const{data:p,error:j}=await I.from("payments").select("id, amount, currency, status, created_at, payment_method").eq("user_id",e==null?void 0:e.id).order("created_at",{ascending:!1}).limit(10);j?console.error("Payments error:",j):c(p||[])}catch(y){console.error("Error fetching data:",y)}finally{d(!1)}},v=async y=>{f(!0);try{const{error:w}=await I.from("profiles").update(y).eq("user_id",e==null?void 0:e.id);if(w)throw w;o(p=>({...p,...y})),H.success("Profile updated successfully!")}catch(w){console.error("Error updating profile:",w),H.error("Failed to update profile")}finally{f(!1)}},x=y=>{switch(y){case"completed":case"paid":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"failed":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},b=y=>new Date(y).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return u||n?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading account information..."})]})}):i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-indigo-900",children:[i.jsx("div",{className:"sticky top-0 z-10 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-b",children:i.jsx("div",{className:"max-w-4xl mx-auto flex items-center justify-between p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Cs,{to:"/app"}),i.jsx("h1",{className:"text-xl font-semibold",children:"My Account"})]})})}),i.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[i.jsx("div",{className:"mb-6",children:i.jsx(HW,{})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(G,{children:[i.jsx(oe,{children:i.jsxs(ae,{className:"flex items-center gap-2",children:[i.jsx(Jn,{className:"h-5 w-5"}),"Profile Settings"]})}),i.jsxs(Y,{className:"space-y-6",children:[i.jsx("div",{className:"flex flex-col items-center",children:i.jsx(n9,{currentAvatarUrl:a.avatar_url,onAvatarUpdated:y=>v({avatar_url:y}),disabled:h})}),i.jsx(iP,{}),i.jsxs("div",{children:[i.jsx(ee,{htmlFor:"display_name",children:"Display Name"}),i.jsx(fe,{id:"display_name",value:a.display_name||"",onChange:y=>o(w=>({...w,display_name:y.target.value})),onBlur:()=>a.display_name&&v({display_name:a.display_name}),placeholder:"Enter your display name"})]})]})]}),i.jsxs(G,{children:[i.jsx(oe,{children:i.jsxs(ae,{className:"flex items-center gap-2",children:[i.jsx(qe,{className:"h-5 w-5"}),"Subscription Details"]})}),i.jsx(Y,{className:"space-y-4",children:t?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium",children:"Plan"}),i.jsx(Ue,{variant:"outline",className:"capitalize",children:r==="unlimited"?"Elite (Unlimited)":r==="trial"?"Trial":r==="premium"?"Premium":r==="expired"?"Expired":r==="none"?"No Plan":r||"Unknown"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium",children:"Status"}),i.jsx(Ue,{className:t.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:t.status})]}),t.status==="trial"&&t.trial_ends_at&&i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium",children:"Trial Ends"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:b(t.trial_ends_at.toString())})]}),t.current_period_end&&i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium",children:"Next Billing"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:b(t.current_period_end.toString())})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(L,{onClick:()=>s("/subscription"),className:"w-full",variant:t.status==="trial"?"default":"outline",children:t.status==="trial"?"Upgrade Now":"Change Plan"}),i.jsx(L,{onClick:()=>s("/manage-subscription"),variant:"outline",className:"w-full",children:"Manage Subscription"})]})]}):i.jsxs("div",{className:"text-center py-4",children:[i.jsx("p",{className:"text-muted-foreground mb-4",children:"No active subscription"}),i.jsx(L,{onClick:()=>s("/subscription"),children:"View Plans"})]})})]}),i.jsxs(G,{className:"lg:col-span-2",children:[i.jsx(oe,{children:i.jsxs(ae,{className:"flex items-center gap-2",children:[i.jsx(sr,{className:"h-5 w-5"}),"Payment History"]})}),i.jsx(Y,{children:l.length>0?i.jsx("div",{className:"space-y-3",children:l.map(y=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ja,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium",children:[y.currency," ",y.amount]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[b(y.created_at)," • ",y.payment_method]})]})]}),i.jsx(Ue,{className:x(y.status),children:y.status})]},y.id))}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(sr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"No payment history found"})]})})]}),i.jsxs(G,{className:"lg:col-span-2 border-red-200 dark:border-red-800",children:[i.jsx(oe,{children:i.jsxs(ae,{className:"flex items-center gap-2 text-red-600 dark:text-red-400",children:[i.jsx(ln,{className:"h-5 w-5"}),"Data Management"]})}),i.jsx(Y,{children:i.jsxs("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded-lg p-6",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center",children:i.jsx(ln,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-red-900 dark:text-red-100",children:"Reset Database"}),i.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:"Permanently delete all your data and start fresh"})]})]}),i.jsx(r9,{onDeleted:()=>s("/auth")})]})})]})]})]})]})}function i9(){const e=be(),[t]=ud(),n=t.get("order_id"),{balance:r,loading:s}=fx(),[a,o]=m.useState(null);m.useEffect(()=>{!s&&a===null&&o(r)},[r,s,a]);const l=()=>{e("/chat")};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 to-purple-50 flex items-center justify-center p-4",children:[i.jsx("div",{className:"absolute top-4 left-4 z-10",children:i.jsxs(L,{variant:"outline",size:"sm",onClick:()=>e("/chat"),className:"flex items-center gap-2",children:[i.jsx($n,{className:"h-4 w-4"}),"Back to Chat"]})}),i.jsxs(G,{className:"w-full max-w-md",children:[i.jsxs(oe,{className:"text-center",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx(En,{className:"h-16 w-16 text-green-500"})}),i.jsx(ae,{className:"text-2xl text-green-600",children:"Purchase Successful!"})]}),i.jsxs(Y,{className:"text-center space-y-4",children:[i.jsx("p",{className:"text-muted-foreground",children:"Your Buck purchase has been processed successfully."}),n&&i.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg",children:[i.jsx("p",{className:"text-sm font-medium",children:"Order ID:"}),i.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:n})]}),i.jsxs("div",{className:"flex items-center justify-center gap-2 p-4 bg-gradient-to-r from-yellow-50 to-amber-50 rounded-lg border border-yellow-200",children:[i.jsx(Xs,{className:"h-5 w-5 text-yellow-600"}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-sm text-yellow-800 font-medium",children:"Current Balance"}),i.jsxs("p",{className:"text-2xl font-bold text-yellow-900",children:[s?"...":r.toLocaleString()," Bucks"]})]})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Your Bucks have been added to your account and you can now use them to send gifts to your companions."}),i.jsx(L,{onClick:l,className:"w-full bg-gradient-romantic",children:"Continue to Chat"})]})]})]})}function a9(){const{user:e}=ve(),{balance:t,loading:n}=fx(),r=be(),[s,a]=m.useState([]),[o,l]=m.useState(!0);m.useEffect(()=>{e&&c()},[e]);const c=async()=>{if(e)try{const{data:f,error:g}=await I.from("user_transactions").select("*").eq("user_id",e.id).not("transaction_type","in",'("subscription_payment","subscription_renewal","trial_start","subscription_cancel","subscription_refund")').or("metadata->status.eq.completed,metadata->status.is.null,metadata.is.null").order("created_at",{ascending:!1}).limit(10);if(g)console.error("Error fetching transactions:",g);else{const v=(f||[]).filter(x=>{var y;const b=(y=x.metadata)==null?void 0:y.status;return!b||b==="completed"||x.transaction_type!=="purchase"});a(v)}}catch(f){console.error("Error fetching transactions:",f)}finally{l(!1)}},u=f=>new Date(f).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),d=f=>{switch(f){case"welcome_gift":return i.jsx(Mm,{className:"h-4 w-4 text-green-500"});case"purchase":return i.jsx(sr,{className:"h-4 w-4 text-blue-500"});case"gift_sent":return i.jsx(E4,{className:"h-4 w-4 text-purple-500"});default:return i.jsx(Xs,{className:"h-4 w-4 text-amber-500"})}},h=f=>f>0?"text-green-600":"text-red-600";return e?i.jsxs("div",{className:"min-h-screen relative",children:[i.jsx($l,{}),i.jsx("div",{className:"relative z-10 min-h-screen p-4",children:i.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(Cs,{}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-white",children:"My Bucks"}),i.jsx("p",{className:"text-white/70",children:"Manage your virtual currency"})]})]})}),i.jsxs(G,{className:"bg-gradient-to-r from-amber-500/20 to-yellow-500/20 border-amber-500/30 shadow-lg",children:[i.jsxs(oe,{className:"text-center pb-6",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:"p-4 rounded-full bg-amber-500/20 backdrop-blur-sm",children:i.jsx(Xs,{className:"h-12 w-12 text-amber-400"})})}),i.jsx(ae,{className:"text-2xl font-bold text-white mb-2",children:"Current Balance"}),i.jsxs("div",{className:"text-4xl font-black text-amber-400",children:[n?"...":t.toLocaleString()," Bucks"]})]}),i.jsx(Y,{className:"text-center",children:i.jsxs(L,{onClick:()=>r("/checkout?type=bucks"),className:"bg-gradient-to-r from-amber-500 to-yellow-500 hover:from-amber-600 hover:to-yellow-600 text-black font-semibold px-8 py-3",children:[i.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Buy More Bucks"]})})]}),i.jsxs(G,{className:"bg-white/10 backdrop-blur-md border-white/20",children:[i.jsx(oe,{children:i.jsxs(ae,{className:"text-xl text-white flex items-center gap-2",children:[i.jsx(Mm,{className:"h-5 w-5 text-amber-400"}),"What are Bucks?"]})}),i.jsxs(Y,{className:"space-y-3",children:[i.jsx("p",{className:"text-white/80",children:"Bucks are your virtual currency to enhance your companion experience:"}),i.jsxs("ul",{className:"space-y-2 text-white/70",children:[i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-amber-400 rounded-full"}),"Send virtual gifts to your AI companions"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-amber-400 rounded-full"}),"Unlock special reactions and responses"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-amber-400 rounded-full"}),"Customize your companion's appearance"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-amber-400 rounded-full"}),"Access premium features and interactions"]})]})]})]}),i.jsxs(G,{className:"bg-white/10 backdrop-blur-md border-white/20",children:[i.jsx(oe,{children:i.jsxs(ae,{className:"text-xl text-white flex items-center gap-2",children:[i.jsx(j4,{className:"h-5 w-5 text-blue-400"}),"Recent Transactions"]})}),i.jsx(Y,{children:o?i.jsxs("div",{className:"text-center py-6",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-400 mx-auto mb-4"}),i.jsx("p",{className:"text-white/70",children:"Loading transactions..."})]}):s.length===0?i.jsxs("div",{className:"text-center py-6",children:[i.jsx(Xs,{className:"h-12 w-12 text-white/40 mx-auto mb-4"}),i.jsx("p",{className:"text-white/70",children:"No transactions yet"}),i.jsx("p",{className:"text-white/50 text-sm",children:"Your transaction history will appear here"})]}):i.jsx("div",{className:"space-y-3",children:s.map(f=>i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5 hover:bg-white/10 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[d(f.transaction_type),i.jsxs("div",{children:[i.jsx("p",{className:"text-white font-medium",children:f.description||f.transaction_type}),i.jsx("p",{className:"text-white/50 text-sm",children:u(f.created_at)})]})]}),i.jsx("div",{className:"text-right",children:i.jsxs("p",{className:`font-semibold ${h(f.amount)}`,children:[f.amount>0?"+":"",f.amount," Bucks"]})})]},f.id))})})]})]})})]}):null}const o9=()=>{const[e,t]=m.useState({activeTrialUsers:0,regularSubscribers:0,premiumSubscribers:0,totalSubscribers:0,monthlyRevenue:0,conversionRate:0,loading:!0,error:null}),n=async()=>{try{t(y=>({...y,loading:!0,error:null}));const{data:s,error:a}=await I.from("user_subscriptions").select("user_id").eq("status","trial").gt("trial_ends_at",new Date().toISOString());if(a)throw a;const{data:o,error:l}=await I.from("user_subscriptions").select("user_id").eq("status","active").eq("subscription_plan","regular").gt("current_period_end",new Date().toISOString());if(l)throw l;const{data:c,error:u}=await I.from("user_subscriptions").select("user_id").eq("status","active").eq("subscription_plan","premium").gt("current_period_end",new Date().toISOString());if(u)throw u;const d=new Set((s==null?void 0:s.map(y=>y.user_id))||[]).size,h=new Set((o==null?void 0:o.map(y=>y.user_id))||[]).size,f=new Set((c==null?void 0:c.map(y=>y.user_id))||[]).size,g=h*99+f*199,{data:v,error:x}=await I.rpc("calculate_conversion_rate");let b=0;if(!x&&v!==null)b=v;else{const y=d,w=h+f;b=y>0?w/(y+w)*100:0}t({activeTrialUsers:d,regularSubscribers:h,premiumSubscribers:f,totalSubscribers:h+f,monthlyRevenue:g,conversionRate:Math.round(b*10)/10,loading:!1,error:null})}catch(s){console.error("Error fetching admin metrics:",s),t(a=>({...a,loading:!1,error:s instanceof Error?s.message:"Failed to fetch metrics"}))}},r=()=>{n()};return m.useEffect(()=>{n();const s=setInterval(n,2*60*1e3);return()=>{clearInterval(s)}},[]),{...e,refreshMetrics:r}},l9=e=>{const[t,n]=m.useState({currentPeriodUsers:0,previousPeriodUsers:0,percentageChange:0,isPositive:!0,loading:!0});return m.useEffect(()=>{(async()=>{try{n(b=>({...b,loading:!0}));const s=new Date;let a,o,l,c;switch(e){case"daily":a=new Date(s.getFullYear(),s.getMonth(),s.getDate()),o=new Date(s.getFullYear(),s.getMonth(),s.getDate()+1),l=new Date(s.getFullYear(),s.getMonth(),s.getDate()-1),c=a;break;case"weekly":const b=s.getDay();a=new Date(s.getTime()-b*24*60*60*1e3),a.setHours(0,0,0,0),o=new Date(a.getTime()+6048e5),l=new Date(a.getTime()-6048e5),c=a;break;case"monthly":a=new Date(s.getFullYear(),s.getMonth(),1),o=new Date(s.getFullYear(),s.getMonth()+1,1),l=new Date(s.getFullYear(),s.getMonth()-1,1),c=a;break}const{data:u,error:d}=await I.from("user_activity_tracking").select("user_id").gte("last_user_message_at",a.toISOString()).lt("last_user_message_at",o.toISOString());if(d)throw d;const{data:h,error:f}=await I.from("user_activity_tracking").select("user_id").gte("last_user_message_at",l.toISOString()).lt("last_user_message_at",c.toISOString());if(f)throw f;const g=new Set((u==null?void 0:u.map(b=>b.user_id))||[]).size,v=new Set((h==null?void 0:h.map(b=>b.user_id))||[]).size;let x=0;v>0?x=(g-v)/v*100:g>0&&(x=100),n({currentPeriodUsers:g,previousPeriodUsers:v,percentageChange:Math.abs(x),isPositive:x>=0,loading:!1})}catch(s){console.error("Error fetching metrics comparison:",s),n(a=>({...a,loading:!1}))}})()},[e]),t},c9=()=>{const[e,t]=m.useState(!1),[n,r]=m.useState(!0),{toast:s}=Vt();m.useEffect(()=>{a()},[]);const a=async()=>{var l;try{const{data:c,error:u}=await I.from("admin_settings").select("setting_value").eq("setting_key","flirt_mode_enabled").single();if(u&&u.code!=="PGRST116"){console.error("Error fetching flirt mode setting:",u),s({title:"Error",description:"Failed to load flirt mode setting",variant:"destructive"});return}c&&t(((l=c.setting_value)==null?void 0:l.enabled)||!1)}catch(c){console.error("Error:",c)}finally{r(!1)}},o=async l=>{try{r(!0);const{error:c}=await I.from("admin_settings").upsert({setting_key:"flirt_mode_enabled",setting_value:{enabled:l}},{onConflict:"setting_key"});if(c){console.error("Error updating flirt mode setting:",c),s({title:"Error",description:"Failed to update flirt mode setting",variant:"destructive"});return}t(l),s({title:"Success",description:`Flirt mode ${l?"enabled":"disabled"}`})}catch(c){console.error("Error:",c),s({title:"Error",description:"Failed to update setting",variant:"destructive"})}finally{r(!1)}};return i.jsxs(G,{className:"w-full max-w-md",children:[i.jsx(oe,{className:"pb-3",children:i.jsxs(ae,{className:"flex items-center gap-2 text-lg",children:[i.jsx(b4,{className:"h-5 w-5 text-orange-500"}),"Flirt to F*ck Mode"]})}),i.jsxs(Y,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ee,{htmlFor:"flirt-mode",className:"text-sm font-medium",children:"Enable Mistral API Fallback"}),i.jsx(Jr,{id:"flirt-mode",checked:e,onCheckedChange:o,disabled:n})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"When enabled, the AI will use Mistral API as a fallback when OpenAI refuses to respond to explicit content."})]})]})},u9=()=>{const[e,t]=m.useState({auto_messaging_enabled:!0,first_auto_response:{enabled:!0,interval_minutes:15},second_auto_message:{enabled:!0,interval_minutes:60},final_auto_message:{enabled:!1,interval_minutes:180}}),[n,r]=m.useState(!0),[s,a]=m.useState([]),[o,l]=m.useState({total_processed:0,messages_sent:0,last_run:"",success_rate:0}),{toast:c}=Vt();m.useEffect(()=>{u(),d(),h()},[]);const u=async()=>{try{const{data:v,error:x}=await I.from("admin_settings").select("setting_value").eq("setting_key","auto_message_settings").maybeSingle();if(x)throw x;v!=null&&v.setting_value&&t(v.setting_value)}catch(v){console.error("Error loading auto-message settings:",v)}finally{r(!1)}},d=async()=>{try{const{data:v,error:x}=await I.rpc("get_user_activity_for_auto_messaging");if(x){console.error("RPC error:",x);const{data:w,error:p}=await I.from("user_activity_tracking").select(`
            user_id,
            user_chat_id,
            last_user_message_at,
            timezone,
            auto_messaging_enabled
          `).eq("auto_messaging_enabled",!0).order("last_user_message_at",{ascending:!1});if(p)throw p;const j=(w==null?void 0:w.reduce((N,k)=>{const T=N.find(D=>D.user_id===k.user_id);return!T||new Date(k.last_user_message_at)>new Date(T.last_user_message_at)?[...N.filter(D=>D.user_id!==k.user_id),k]:N},[]))||[],S=new Date,_=j.map(N=>{const k=new Date(N.last_user_message_at),T=Math.floor((S.getTime()-k.getTime())/(1e3*60)),D=new Date(k.getTime()+15*60*1e3);let F="";return e.auto_messaging_enabled?T<15&&(F=`Too recent (${T}/15 min)`):F="Auto messaging disabled",{user_id:N.user_id,user_chat_id:N.user_chat_id,last_user_message_at:N.last_user_message_at,timezone:N.timezone,display_name:"Unknown",companion_name:"Unknown",minutes_since_last_message:T,next_eligible_time:D.toISOString(),reason_blocked:F}});a(_);return}const b=new Date,y=(v||[]).map(w=>{const p=new Date(w.last_user_message_at),j=Math.floor((b.getTime()-p.getTime())/(1e3*60));let S="",_=0;const N=w.message_count||0;N===0&&e.first_auto_response.enabled&&j>=e.first_auto_response.interval_minutes?(S="First Auto Response",_=e.first_auto_response.interval_minutes):N===1&&e.second_auto_message.enabled&&j>=e.second_auto_message.interval_minutes?(S="Second Auto Message",_=e.second_auto_message.interval_minutes):N===2&&e.final_auto_message.enabled&&j>=e.final_auto_message.interval_minutes?(S="Final Auto Message",_=e.final_auto_message.interval_minutes):_=Math.min(e.first_auto_response.interval_minutes,e.second_auto_message.interval_minutes,e.final_auto_message.interval_minutes);const k=new Date(p.getTime()+_*60*1e3);let T="";if(e.auto_messaging_enabled?S?j<_&&(T=`Too recent (${j}/${_} min)`):T=`No stage eligible (${N} messages sent)`:T="Auto messaging disabled",!T){const D=w.timezone||"UTC",F=new Date().toLocaleString("en-US",{timeZone:D,hour12:!1}),P=new Date(F).getHours();(P>=22||P<7)&&(T=`Quiet hours (${P}:xx in ${D})`)}return{user_id:w.user_id,user_chat_id:w.user_chat_id,last_user_message_at:w.last_user_message_at,timezone:w.timezone,display_name:w.display_name,companion_name:w.companion_name,minutes_since_last_message:j,next_eligible_time:k.toISOString(),reason_blocked:T,stage:S,message_count:N}});a(y)}catch(v){console.error("Error loading user activity:",v)}},h=async()=>{try{const v=new Date(Date.now()-864e5).toISOString(),{data:x,error:b}=await I.from("chat_messages").select("user_id, created_at").eq("is_user_message",!1).gte("created_at",v);if(b)throw b;l({total_processed:s.length,messages_sent:(x==null?void 0:x.length)||0,last_run:new Date().toISOString(),success_rate:x!=null&&x.length?100:0})}catch(v){console.error("Error loading job stats:",v)}},f=async v=>{try{console.log("Updating settings:",v);const x={...e,...v},{error:b}=await I.from("admin_settings").upsert({setting_key:"auto_message_settings",setting_value:x},{onConflict:"setting_key"});if(b)throw console.error("Database error updating settings:",b),b;t(x),c({title:"Settings Updated",description:"Auto-message settings have been saved"}),d()}catch(x){console.error("Error updating settings:",x),c({title:"Error",description:x.message||"Failed to update settings",variant:"destructive"})}},g=async(v,x)=>{if(v==="auto_messaging_enabled")return;const b={...e[v],...x};await f({[v]:b})};return n?i.jsx(G,{children:i.jsx(Y,{className:"p-6",children:i.jsx("div",{className:"animate-pulse",children:"Loading auto-message dashboard..."})})}):(s.filter(v=>!v.reason_blocked),i.jsx("div",{className:"space-y-6",children:i.jsxs(G,{children:[i.jsx(oe,{children:i.jsxs(ae,{className:"flex items-center gap-2",children:[i.jsx(ju,{className:"h-5 w-5"}),"Auto-Message Control Center"]})}),i.jsx(Y,{className:"space-y-6",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Jr,{id:"auto-messaging",checked:e.auto_messaging_enabled,onCheckedChange:v=>f({auto_messaging_enabled:v})}),i.jsxs(ee,{htmlFor:"auto-messaging",className:"flex items-center gap-2",children:[i.jsx(ju,{className:"h-4 w-4 text-blue-500"}),"Master Auto Messaging ",e.auto_messaging_enabled?"On":"Off"]})]}),!e.auto_messaging_enabled&&i.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:i.jsxs("p",{className:"text-sm text-red-800",children:[i.jsx("strong",{children:"Auto messaging is disabled:"})," No automatic messages will be sent to users."]})}),i.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-card",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(ee,{className:"flex items-center gap-2 text-base font-medium",children:[i.jsx(Xn,{className:"h-4 w-4 text-blue-500"}),"First Auto Response"]}),i.jsx(Jr,{checked:e.first_auto_response.enabled,onCheckedChange:v=>g("first_auto_response",{enabled:v})})]}),e.first_auto_response.enabled&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ee,{className:"text-sm",children:["Timer: ",e.first_auto_response.interval_minutes," minutes"]}),i.jsxs("div",{className:"px-2",children:[i.jsx(Oo,{value:[e.first_auto_response.interval_minutes],onValueChange:v=>g("first_auto_response",{interval_minutes:v[0]}),min:10,max:60,step:1,className:"w-full"}),i.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[i.jsx("span",{children:"10 min"}),i.jsx("span",{children:"60 min"})]})]})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Sends the first automatic message when users haven't replied."})]})]}),i.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-card",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(ee,{className:"flex items-center gap-2 text-base font-medium",children:[i.jsx(Xn,{className:"h-4 w-4 text-orange-500"}),"Second Auto Message"]}),i.jsx(Jr,{checked:e.second_auto_message.enabled,onCheckedChange:v=>g("second_auto_message",{enabled:v})})]}),e.second_auto_message.enabled&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ee,{className:"text-sm",children:["Timer: ",e.second_auto_message.interval_minutes," minutes"]}),i.jsxs("div",{className:"px-2",children:[i.jsx(Oo,{value:[e.second_auto_message.interval_minutes],onValueChange:v=>g("second_auto_message",{interval_minutes:v[0]}),min:30,max:180,step:5,className:"w-full"}),i.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[i.jsx("span",{children:"30 min"}),i.jsx("span",{children:"180 min"})]})]})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Sends a follow-up message after the first auto response."})]})]}),i.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-card",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(ee,{className:"flex items-center gap-2 text-base font-medium",children:[i.jsx(Xn,{className:"h-4 w-4 text-red-500"}),"Final Auto Message"]}),i.jsx(Jr,{checked:e.final_auto_message.enabled,onCheckedChange:v=>g("final_auto_message",{enabled:v})})]}),e.final_auto_message.enabled&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ee,{className:"text-sm",children:["Timer: ",e.final_auto_message.interval_minutes," minutes"]}),i.jsxs("div",{className:"px-2",children:[i.jsx(Oo,{value:[e.final_auto_message.interval_minutes],onValueChange:v=>g("final_auto_message",{interval_minutes:v[0]}),min:60,max:300,step:10,className:"w-full"}),i.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[i.jsx("span",{children:"60 min"}),i.jsx("span",{children:"300 min"})]})]})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Sends a final attempt message to re-engage the user."})]})]})]})})]})}))},d9=()=>{const[e,t]=m.useState(""),[n,r]=m.useState(""),[s,a]=m.useState(!1),{toast:o}=Vt(),l=async()=>{if(!e||!n){o({title:"Error",description:"Please enter both email and amount",variant:"destructive"});return}const c=parseInt(n);if(isNaN(c)||c<=0){o({title:"Error",description:"Please enter a valid positive amount",variant:"destructive"});return}try{a(!0);const{data:u,error:d}=await I.rpc("admin_add_bucks",{p_email:e,p_amount:c});if(d){console.error("Error adding bucks:",d),o({title:"Error",description:d.message,variant:"destructive"});return}o({title:"Success",description:u||`Added ${c} bucks to ${e}`}),t(""),r("")}catch(u){console.error("Error:",u),o({title:"Error",description:"Failed to add bucks",variant:"destructive"})}finally{a(!1)}};return i.jsxs(G,{className:"max-w-md",children:[i.jsx(oe,{children:i.jsxs(ae,{className:"flex items-center gap-2",children:[i.jsx(Xs,{className:"h-5 w-5 text-yellow-500"}),"Admin Bucks Manager"]})}),i.jsxs(Y,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ee,{htmlFor:"email",children:"User Email"}),i.jsx(fe,{id:"email",type:"email",placeholder:"user@example.com",value:e,onChange:c=>t(c.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ee,{htmlFor:"amount",children:"Amount to Add"}),i.jsx(fe,{id:"amount",type:"number",placeholder:"1000000",value:n,onChange:c=>r(c.target.value)})]}),i.jsx(L,{onClick:l,disabled:s,className:"w-full",children:s?"Adding...":"Add Bucks"})]})]})},h9=()=>{const{user:e}=ve(),{isAdmin:t}=La(),n=async(r,s={})=>{if(!(!e||!t))try{await I.rpc("log_staff_activity",{p_user_id:e.id,p_email:e.email,p_activity_type:r,p_details:s,p_ip_address:null,p_user_agent:navigator.userAgent})}catch(a){console.error("Error logging staff activity:",a)}};return m.useEffect(()=>{if(e&&t){n("login",{timestamp:new Date().toISOString(),section:"application_login"});const r=()=>{n("logout",{timestamp:new Date().toISOString(),section:"application_logout"})};return window.addEventListener("beforeunload",r),()=>{window.removeEventListener("beforeunload",r)}}},[e,t]),{logActivity:n}},f9=()=>{const e=be(),t=o9(),{userCount:n,isLoading:r}=s_(),[s,a]=m.useState("daily"),o=l9(s);h9();const l=[{title:"Female Companions",description:"Manage female AI companions",icon:r0,path:"/admin/content/female-models",color:"bg-pink-500"},{title:"Male Companions",description:"Manage male AI companions",icon:D4,path:"/admin/content/male-models",color:"bg-blue-500"},{title:"Wallpapers",description:"Manage chat wallpapers",icon:Tg,path:"/admin/content/wallpapers",color:"bg-purple-500"},{title:"Landing Page",description:"Edit landing page content",icon:ln,path:"/admin/content/landing",color:"bg-green-500"},{title:"Subscription Override",description:"Manage user subscriptions",icon:qe,path:"/admin/users/subscription-override",color:"bg-yellow-500"},{title:"Staff Login Sheet",description:"Track staff activities and logins",icon:qt,path:"/admin/users/staff-login-sheet",color:"bg-indigo-500"},{title:"Test Checkout",description:"Test the new checkout page",icon:sr,path:"/checkout?plan=premium",color:"bg-blue-500"}],c=d=>new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR",minimumFractionDigits:0}).format(d),u=d=>new Intl.NumberFormat("en-US").format(d);return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("div",{className:"bg-background border-b p-4 sticky top-0 z-10",children:i.jsx("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(Cs,{to:"/dashboard",showText:!0}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Admin Dashboard"}),i.jsx("p",{className:"text-muted-foreground",children:"Manage your application"})]})]})})}),i.jsxs("div",{className:"max-w-7xl mx-auto p-4 space-y-8 pb-20",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs(G,{children:[i.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ae,{className:"text-sm font-medium",children:"Trial Users"}),i.jsx(qt,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(Y,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.loading?"...":u(t.activeTrialUsers)}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Active trials"})]})]}),i.jsxs(G,{children:[i.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ae,{className:"text-sm font-medium",children:"Regular Subs"}),i.jsx(r0,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(Y,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.loading?"...":u(t.regularSubscribers)}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"R99/month"})]})]}),i.jsxs(G,{children:[i.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ae,{className:"text-sm font-medium",children:"Premium Subs"}),i.jsx(qe,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(Y,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.loading?"...":u(t.premiumSubscribers)}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"R199/month"})]})]}),i.jsxs(G,{children:[i.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ae,{className:"text-sm font-medium",children:"Conversion"}),i.jsx(p4,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(Y,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.loading?"...":`${t.conversionRate}%`}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Trial to paid"})]})]}),i.jsxs(G,{children:[i.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ae,{className:"text-sm font-medium",children:"Total Subs"}),i.jsx(qt,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(Y,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.loading?"...":u(t.totalSubscribers)}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"All subscribers"})]})]}),i.jsxs(G,{children:[i.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ae,{className:"text-sm font-medium",children:"Revenue"}),i.jsx(y4,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(Y,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.loading?"...":c(t.monthlyRevenue)}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Monthly"})]})]}),i.jsxs(G,{children:[i.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ae,{className:"text-sm font-medium",children:"Users Online"}),i.jsx(I4,{className:"h-4 w-4 text-green-500"})]}),i.jsxs(Y,{children:[i.jsx("div",{className:"text-2xl font-bold",children:r?"...":u(n)}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Active now"})]})]}),i.jsxs(G,{children:[i.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ae,{className:"text-sm font-medium",children:"Review"}),i.jsxs(hk,{children:[i.jsx(fk,{asChild:!0,children:i.jsx(L,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0",children:i.jsx(ln,{className:"h-4 w-4 text-muted-foreground"})})}),i.jsxs(nx,{align:"end",children:[i.jsx(qn,{onClick:()=>a("daily"),children:"Daily"}),i.jsx(qn,{onClick:()=>a("weekly"),children:"Weekly"}),i.jsx(qn,{onClick:()=>a("monthly"),children:"Monthly"})]})]})]}),i.jsxs(Y,{children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:`text-2xl font-bold ${o.isPositive?"text-green-600":"text-red-600"}`,children:o.loading?"...":`${o.percentageChange.toFixed(1)}%`}),!o.loading&&(o.isPositive?i.jsx(_u,{className:"h-4 w-4 text-green-500"}):i.jsx(R4,{className:"h-4 w-4 text-red-500"}))]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["vs previous ",s.slice(0,-2)]})]})]})]}),i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"AI Settings"}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsx("div",{className:"lg:col-span-2",children:i.jsx(u9,{})}),i.jsx("div",{className:"lg:col-span-1",children:i.jsx(c9,{})})]})]}),i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"Admin Tools"}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:i.jsx(d9,{})})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"Admin Management"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(d=>{const h=d.icon;return i.jsx(G,{className:"cursor-pointer transition-all duration-200 hover:shadow-lg hover:-translate-y-1",onClick:()=>e(d.path),children:i.jsx(Y,{className:"p-6",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:`${d.color} p-3 rounded-lg`,children:i.jsx(h,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-foreground",children:d.title}),i.jsx("p",{className:"text-sm text-muted-foreground",children:d.description})]})]})})},d.path)})})]})]})]})},oi=m.forwardRef(({className:e,...t},n)=>i.jsx("textarea",{className:Z("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));oi.displayName="Textarea";var m9=[" ","Enter","ArrowUp","ArrowDown"],p9=[" ","Enter"],Ul="Select",[Jd,Zd,g9]=kl(Ul),[za,J7]=Ln(Ul,[g9,Id]),eh=Id(),[x9,Ps]=za(Ul),[v9,y9]=za(Ul),aP=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:f,required:g,form:v}=e,x=eh(t),[b,y]=m.useState(null),[w,p]=m.useState(null),[j,S]=m.useState(!1),_=Tl(u),[N=!1,k]=rr({prop:r,defaultProp:s,onChange:a}),[T,D]=rr({prop:o,defaultProp:l,onChange:c}),F=m.useRef(null),P=b?v||!!b.closest("form"):!0,[U,$]=m.useState(new Set),K=Array.from(U).map(R=>R.props.value).join(";");return i.jsx(oN,{...x,children:i.jsxs(x9,{required:g,scope:t,trigger:b,onTriggerChange:y,valueNode:w,onValueNodeChange:p,valueNodeHasChildren:j,onValueNodeHasChildrenChange:S,contentId:Zn(),value:T,onValueChange:D,open:N,onOpenChange:k,dir:_,triggerPointerDownPosRef:F,disabled:f,children:[i.jsx(Jd.Provider,{scope:t,children:i.jsx(v9,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(R=>{$(O=>new Set(O).add(R))},[]),onNativeOptionRemove:m.useCallback(R=>{$(O=>{const C=new Set(O);return C.delete(R),C})},[]),children:n})}),P?i.jsxs(AP,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:h,value:T,onChange:R=>D(R.target.value),disabled:f,form:v,children:[T===void 0?i.jsx("option",{value:""}):null,Array.from(U)]},K):null]})})};aP.displayName=Ul;var oP="SelectTrigger",lP=m.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,a=eh(n),o=Ps(oP,n),l=o.disabled||r,c=me(t,o.onTriggerChange),u=Zd(n),d=m.useRef("touch"),[h,f,g]=RP(x=>{const b=u().filter(p=>!p.disabled),y=b.find(p=>p.value===o.value),w=MP(b,x,y);w!==void 0&&o.onValueChange(w.value)}),v=x=>{l||(o.onOpenChange(!0),g()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return i.jsx(lN,{asChild:!0,...a,children:i.jsx(ie.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":TP(o.value)?"":void 0,...s,ref:c,onClick:q(s.onClick,x=>{x.currentTarget.focus(),d.current!=="mouse"&&v(x)}),onPointerDown:q(s.onPointerDown,x=>{d.current=x.pointerType;const b=x.target;b.hasPointerCapture(x.pointerId)&&b.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(v(x),x.preventDefault())}),onKeyDown:q(s.onKeyDown,x=>{const b=h.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&f(x.key),!(b&&x.key===" ")&&m9.includes(x.key)&&(v(),x.preventDefault())})})})});lP.displayName=oP;var cP="SelectValue",uP=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:a,placeholder:o="",...l}=e,c=Ps(cP,n),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,h=me(t,c.onValueNodeChange);return it(()=>{u(d)},[u,d]),i.jsx(ie.span,{...l,ref:h,style:{pointerEvents:"none"},children:TP(c.value)?i.jsx(i.Fragment,{children:o}):a})});uP.displayName=cP;var w9="SelectIcon",dP=m.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return i.jsx(ie.span,{"aria-hidden":!0,...s,ref:t,children:r||"▼"})});dP.displayName=w9;var b9="SelectPortal",hP=e=>i.jsx(Pl,{asChild:!0,...e});hP.displayName=b9;var li="SelectContent",fP=m.forwardRef((e,t)=>{const n=Ps(li,e.__scopeSelect),[r,s]=m.useState();if(it(()=>{s(new DocumentFragment)},[]),!n.open){const a=r;return a?di.createPortal(i.jsx(mP,{scope:e.__scopeSelect,children:i.jsx(Jd.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),a):null}return i.jsx(pP,{...e,ref:t})});fP.displayName=li;var jn=10,[mP,Es]=za(li),j9="SelectContentImpl",pP=m.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:g,sticky:v,hideWhenDetached:x,avoidCollisions:b,...y}=e,w=Ps(li,n),[p,j]=m.useState(null),[S,_]=m.useState(null),N=me(t,re=>j(re)),[k,T]=m.useState(null),[D,F]=m.useState(null),P=Zd(n),[U,$]=m.useState(!1),K=m.useRef(!1);m.useEffect(()=>{if(p)return Kg(p)},[p]),Fg();const R=m.useCallback(re=>{const[ye,...z]=P().map(J=>J.ref.current),[X]=z.slice(-1),ne=document.activeElement;for(const J of re)if(J===ne||(J==null||J.scrollIntoView({block:"nearest"}),J===ye&&S&&(S.scrollTop=0),J===X&&S&&(S.scrollTop=S.scrollHeight),J==null||J.focus(),document.activeElement!==ne))return},[P,S]),O=m.useCallback(()=>R([k,p]),[R,k,p]);m.useEffect(()=>{U&&O()},[U,O]);const{onOpenChange:C,triggerPointerDownPosRef:M}=w;m.useEffect(()=>{if(p){let re={x:0,y:0};const ye=X=>{var ne,J;re={x:Math.abs(Math.round(X.pageX)-(((ne=M.current)==null?void 0:ne.x)??0)),y:Math.abs(Math.round(X.pageY)-(((J=M.current)==null?void 0:J.y)??0))}},z=X=>{re.x<=10&&re.y<=10?X.preventDefault():p.contains(X.target)||C(!1),document.removeEventListener("pointermove",ye),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",ye),document.addEventListener("pointerup",z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ye),document.removeEventListener("pointerup",z,{capture:!0})}}},[p,C,M]),m.useEffect(()=>{const re=()=>C(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[C]);const[E,A]=RP(re=>{const ye=P().filter(ne=>!ne.disabled),z=ye.find(ne=>ne.ref.current===document.activeElement),X=MP(ye,re,z);X&&setTimeout(()=>X.ref.current.focus())}),V=m.useCallback((re,ye,z)=>{const X=!K.current&&!z;(w.value!==void 0&&w.value===ye||X)&&(T(re),X&&(K.current=!0))},[w.value]),se=m.useCallback(()=>p==null?void 0:p.focus(),[p]),he=m.useCallback((re,ye,z)=>{const X=!K.current&&!z;(w.value!==void 0&&w.value===ye||X)&&F(re)},[w.value]),Ce=r==="popper"?pp:gP,je=Ce===pp?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:g,sticky:v,hideWhenDetached:x,avoidCollisions:b}:{};return i.jsx(mP,{scope:n,content:p,viewport:S,onViewportChange:_,itemRefCallback:V,selectedItem:k,onItemLeave:se,itemTextRefCallback:he,focusSelectedItem:O,selectedItemText:D,position:r,isPositioned:U,searchRef:E,children:i.jsx(Ld,{as:ds,allowPinchZoom:!0,children:i.jsx(Ad,{asChild:!0,trapped:w.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:q(s,re=>{var ye;(ye=w.trigger)==null||ye.focus({preventScroll:!0}),re.preventDefault()}),children:i.jsx(Cl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:i.jsx(Ce,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:re=>re.preventDefault(),...y,...je,onPlaced:()=>$(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:q(y.onKeyDown,re=>{const ye=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!ye&&re.key.length===1&&A(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let X=P().filter(ne=>!ne.disabled).map(ne=>ne.ref.current);if(["ArrowUp","End"].includes(re.key)&&(X=X.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const ne=re.target,J=X.indexOf(ne);X=X.slice(J+1)}setTimeout(()=>R(X)),re.preventDefault()}})})})})})})});pP.displayName=j9;var S9="SelectItemAlignedPosition",gP=m.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,a=Ps(li,n),o=Es(li,n),[l,c]=m.useState(null),[u,d]=m.useState(null),h=me(t,N=>d(N)),f=Zd(n),g=m.useRef(!1),v=m.useRef(!0),{viewport:x,selectedItem:b,selectedItemText:y,focusSelectedItem:w}=o,p=m.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&x&&b&&y){const N=a.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),T=a.valueNode.getBoundingClientRect(),D=y.getBoundingClientRect();if(a.dir!=="rtl"){const ne=D.left-k.left,J=T.left-ne,Se=N.left-J,Ke=N.width+Se,at=Math.max(Ke,k.width),_e=window.innerWidth-jn,Re=Wu(J,[jn,Math.max(jn,_e-at)]);l.style.minWidth=Ke+"px",l.style.left=Re+"px"}else{const ne=k.right-D.right,J=window.innerWidth-T.right-ne,Se=window.innerWidth-N.right-J,Ke=N.width+Se,at=Math.max(Ke,k.width),_e=window.innerWidth-jn,Re=Wu(J,[jn,Math.max(jn,_e-at)]);l.style.minWidth=Ke+"px",l.style.right=Re+"px"}const F=f(),P=window.innerHeight-jn*2,U=x.scrollHeight,$=window.getComputedStyle(u),K=parseInt($.borderTopWidth,10),R=parseInt($.paddingTop,10),O=parseInt($.borderBottomWidth,10),C=parseInt($.paddingBottom,10),M=K+R+U+C+O,E=Math.min(b.offsetHeight*5,M),A=window.getComputedStyle(x),V=parseInt(A.paddingTop,10),se=parseInt(A.paddingBottom,10),he=N.top+N.height/2-jn,Ce=P-he,je=b.offsetHeight/2,re=b.offsetTop+je,ye=K+R+re,z=M-ye;if(ye<=he){const ne=F.length>0&&b===F[F.length-1].ref.current;l.style.bottom="0px";const J=u.clientHeight-x.offsetTop-x.offsetHeight,Se=Math.max(Ce,je+(ne?se:0)+J+O),Ke=ye+Se;l.style.height=Ke+"px"}else{const ne=F.length>0&&b===F[0].ref.current;l.style.top="0px";const Se=Math.max(he,K+x.offsetTop+(ne?V:0)+je)+z;l.style.height=Se+"px",x.scrollTop=ye-he+x.offsetTop}l.style.margin=`${jn}px 0`,l.style.minHeight=E+"px",l.style.maxHeight=P+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[f,a.trigger,a.valueNode,l,u,x,b,y,a.dir,r]);it(()=>p(),[p]);const[j,S]=m.useState();it(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const _=m.useCallback(N=>{N&&v.current===!0&&(p(),w==null||w(),v.current=!1)},[p,w]);return i.jsx(N9,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:_,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:i.jsx(ie.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});gP.displayName=S9;var _9="SelectPopperPosition",pp=m.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=jn,...a}=e,o=eh(n);return i.jsx(cN,{...o,...a,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});pp.displayName=_9;var[N9,Jx]=za(li,{}),gp="SelectViewport",xP=m.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,a=Es(gp,n),o=Jx(gp,n),l=me(t,a.onViewportChange),c=m.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),i.jsx(Jd.Slot,{scope:n,children:i.jsx(ie.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:q(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const g=Math.abs(c.current-d.scrollTop);if(g>0){const v=window.innerHeight-jn*2,x=parseFloat(h.style.minHeight),b=parseFloat(h.style.height),y=Math.max(x,b);if(y<v){const w=y+g,p=Math.min(v,w),j=w-p;h.style.height=p+"px",h.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});xP.displayName=gp;var vP="SelectGroup",[k9,C9]=za(vP),P9=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Zn();return i.jsx(k9,{scope:n,id:s,children:i.jsx(ie.div,{role:"group","aria-labelledby":s,...r,ref:t})})});P9.displayName=vP;var yP="SelectLabel",wP=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=C9(yP,n);return i.jsx(ie.div,{id:s.id,...r,ref:t})});wP.displayName=yP;var Hu="SelectItem",[E9,bP]=za(Hu),jP=m.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:a,...o}=e,l=Ps(Hu,n),c=Es(Hu,n),u=l.value===r,[d,h]=m.useState(a??""),[f,g]=m.useState(!1),v=me(t,w=>{var p;return(p=c.itemRefCallback)==null?void 0:p.call(c,w,r,s)}),x=Zn(),b=m.useRef("touch"),y=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(E9,{scope:n,value:r,disabled:s,textId:x,isSelected:u,onItemTextChange:m.useCallback(w=>{h(p=>p||((w==null?void 0:w.textContent)??"").trim())},[]),children:i.jsx(Jd.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:i.jsx(ie.div,{role:"option","aria-labelledby":x,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:v,onFocus:q(o.onFocus,()=>g(!0)),onBlur:q(o.onBlur,()=>g(!1)),onClick:q(o.onClick,()=>{b.current!=="mouse"&&y()}),onPointerUp:q(o.onPointerUp,()=>{b.current==="mouse"&&y()}),onPointerDown:q(o.onPointerDown,w=>{b.current=w.pointerType}),onPointerMove:q(o.onPointerMove,w=>{var p;b.current=w.pointerType,s?(p=c.onItemLeave)==null||p.call(c):b.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:q(o.onPointerLeave,w=>{var p;w.currentTarget===document.activeElement&&((p=c.onItemLeave)==null||p.call(c))}),onKeyDown:q(o.onKeyDown,w=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&w.key===" "||(p9.includes(w.key)&&y(),w.key===" "&&w.preventDefault())})})})})});jP.displayName=Hu;var po="SelectItemText",SP=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...a}=e,o=Ps(po,n),l=Es(po,n),c=bP(po,n),u=y9(po,n),[d,h]=m.useState(null),f=me(t,y=>h(y),c.onItemTextChange,y=>{var w;return(w=l.itemTextRefCallback)==null?void 0:w.call(l,y,c.value,c.disabled)}),g=d==null?void 0:d.textContent,v=m.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:x,onNativeOptionRemove:b}=u;return it(()=>(x(v),()=>b(v)),[x,b,v]),i.jsxs(i.Fragment,{children:[i.jsx(ie.span,{id:c.textId,...a,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?di.createPortal(a.children,o.valueNode):null]})});SP.displayName=po;var _P="SelectItemIndicator",NP=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return bP(_P,n).isSelected?i.jsx(ie.span,{"aria-hidden":!0,...r,ref:t}):null});NP.displayName=_P;var xp="SelectScrollUpButton",kP=m.forwardRef((e,t)=>{const n=Es(xp,e.__scopeSelect),r=Jx(xp,e.__scopeSelect),[s,a]=m.useState(!1),o=me(t,r.onScrollButtonChange);return it(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?i.jsx(PP,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});kP.displayName=xp;var vp="SelectScrollDownButton",CP=m.forwardRef((e,t)=>{const n=Es(vp,e.__scopeSelect),r=Jx(vp,e.__scopeSelect),[s,a]=m.useState(!1),o=me(t,r.onScrollButtonChange);return it(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?i.jsx(PP,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});CP.displayName=vp;var PP=m.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,a=Es("SelectScrollButton",n),o=m.useRef(null),l=Zd(n),c=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),it(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(ie.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:q(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:q(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:q(s.onPointerLeave,()=>{c()})})}),T9="SelectSeparator",EP=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return i.jsx(ie.div,{"aria-hidden":!0,...r,ref:t})});EP.displayName=T9;var yp="SelectArrow",A9=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=eh(n),a=Ps(yp,n),o=Es(yp,n);return a.open&&o.position==="popper"?i.jsx(uN,{...s,...r,ref:t}):null});A9.displayName=yp;function TP(e){return e===""||e===void 0}var AP=m.forwardRef((e,t)=>{const{value:n,...r}=e,s=m.useRef(null),a=me(t,s),o=Ed(n);return m.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&d){const h=new Event("change",{bubbles:!0});d.call(l,n),l.dispatchEvent(h)}},[o,n]),i.jsx(bd,{asChild:!0,children:i.jsx("select",{...r,ref:a,defaultValue:n})})});AP.displayName="BubbleSelect";function RP(e){const t=ht(e),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(o=>{const l=n.current+o;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,a]}function MP(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=R9(e,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function R9(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var M9=aP,DP=lP,D9=uP,I9=dP,O9=hP,IP=fP,L9=xP,OP=wP,LP=jP,F9=SP,$9=NP,FP=kP,$P=CP,UP=EP;const Pt=M9,Et=D9,bt=m.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(DP,{ref:r,className:Z("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,i.jsx(I9,{asChild:!0,children:i.jsx(IS,{className:"h-4 w-4 opacity-50"})})]}));bt.displayName=DP.displayName;const BP=m.forwardRef(({className:e,...t},n)=>i.jsx(FP,{ref:n,className:Z("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(LS,{className:"h-4 w-4"})}));BP.displayName=FP.displayName;const VP=m.forwardRef(({className:e,...t},n)=>i.jsx($P,{ref:n,className:Z("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(IS,{className:"h-4 w-4"})}));VP.displayName=$P.displayName;const jt=m.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>i.jsx(O9,{children:i.jsxs(IP,{ref:s,className:Z("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[i.jsx(BP,{}),i.jsx(L9,{className:Z("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(VP,{})]})}));jt.displayName=IP.displayName;const U9=m.forwardRef(({className:e,...t},n)=>i.jsx(OP,{ref:n,className:Z("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));U9.displayName=OP.displayName;const ke=m.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(LP,{ref:r,className:Z("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx($9,{children:i.jsx(Sa,{className:"h-4 w-4"})})}),i.jsx(F9,{children:t})]}));ke.displayName=LP.displayName;const B9=m.forwardRef(({className:e,...t},n)=>i.jsx(UP,{ref:n,className:Z("-mx-1 my-1 h-px bg-muted",e),...t}));B9.displayName=UP.displayName;const V9=({isOpen:e,onClose:t,companionModelId:n,companionName:r})=>{const[s,a]=m.useState([]),[o,l]=m.useState(!1),[c,u]=m.useState(!1),[d,h]=m.useState(null),[f,g]=m.useState({}),{toast:v}=Vt();m.useEffect(()=>{e&&n&&x()},[e,n]);const x=async()=>{l(!0);try{const{data:N,error:k}=await I.from("companion_photos").select("*").eq("companion_model_id",n).order("created_at",{ascending:!1});if(k)throw k;a(N||[])}catch(N){console.error("Error loading photos:",N),v({title:"Error",description:"Failed to load photos",variant:"destructive"})}finally{l(!1)}},b=async(N,k="")=>{const T=N.name.split(".").pop(),D=`${Date.now()}-${Math.random().toString(36).substring(2)}.${T}`,F=`companion-gallery/${n}/${D}`,{error:P}=await I.storage.from("girlfriend-photos").upload(F,N);if(P)throw P;const{data:{publicUrl:U}}=I.storage.from("girlfriend-photos").getPublicUrl(F);return U},y=N=>{const k=N.target.files;if(k&&k.length>0){h(k);const T={};for(let D=0;D<k.length;D++)T[D]="";g(T)}},w=async()=>{if(!d||d.length===0){v({title:"Error",description:"Please select photos to upload",variant:"destructive"});return}u(!0);try{const N=Array.from(d).map(async(F,P)=>{const U=await b(F,f[P]||"");return I.from("companion_photos").insert({companion_model_id:n,photo_url:U,caption:f[P]||null})}),T=(await Promise.all(N)).filter(F=>F.error);if(T.length>0)throw new Error(`Failed to save ${T.length} photos`);v({title:"Success",description:`${d.length} photo(s) uploaded successfully`}),h(null),g({});const D=document.getElementById("photo-upload");D&&(D.value=""),x()}catch(N){console.error("Error uploading photos:",N),v({title:"Error",description:"Failed to upload photos",variant:"destructive"})}finally{u(!1)}},p=async(N,k)=>{try{const{error:T}=await I.from("companion_photos").delete().eq("id",N);if(T)throw T;try{const F=k.split("/").slice(-3).join("/");F.includes("companion-gallery")&&await I.storage.from("girlfriend-photos").remove([F])}catch(D){console.warn("Storage deletion failed:",D)}v({title:"Success",description:"Photo deleted successfully"}),x()}catch(T){console.error("Error deleting photo:",T),v({title:"Error",description:"Failed to delete photo",variant:"destructive"})}},j=async N=>{try{const{error:k}=await I.from("companion_models").update({photo_url:N}).eq("id",n);if(k)throw k;v({title:"Success",description:"Profile photo updated successfully"})}catch(k){console.error("Error setting profile photo:",k),v({title:"Error",description:"Failed to set profile photo",variant:"destructive"})}},S=async(N,k)=>{try{const D=await(await fetch(N)).blob(),F=window.URL.createObjectURL(D),P=document.createElement("a");P.href=F,P.download=`${r}-photo-${k}.jpg`,document.body.appendChild(P),P.click(),window.URL.revokeObjectURL(F),document.body.removeChild(P),v({title:"Success",description:"Photo downloaded successfully"})}catch(T){console.error("Error downloading photo:",T),v({title:"Error",description:"Failed to download photo",variant:"destructive"})}},_=(N,k)=>{g(T=>({...T,[N]:k}))};return i.jsx(_s,{open:e,onOpenChange:t,children:i.jsxs(Pr,{className:"sm:max-w-5xl max-h-[85vh] flex flex-col",children:[i.jsx(Ns,{children:i.jsxs(ks,{className:"flex items-center gap-2",children:[i.jsx(BS,{className:"h-5 w-5"}),"Photo Gallery - ",r,i.jsxs("span",{className:"text-sm text-muted-foreground font-normal",children:["(",s.length," photos)"]})]})}),i.jsxs("div",{className:"flex-1 overflow-y-auto space-y-6",children:[i.jsxs("div",{className:"border rounded-lg p-4 bg-muted/20",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[i.jsx(Yt,{className:"h-5 w-5"}),"Upload New Photos"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ee,{htmlFor:"photo-upload",children:"Select Photos"}),i.jsx(fe,{id:"photo-upload",type:"file",accept:"image/*",multiple:!0,onChange:y,className:"cursor-pointer"})]}),d&&d.length>0&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h4",{className:"font-medium",children:["Selected Photos (",d.length,")"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-h-48 overflow-y-auto",children:Array.from(d).map((N,k)=>i.jsxs("div",{className:"flex items-center gap-3 p-2 border rounded",children:[i.jsx("img",{src:URL.createObjectURL(N),alt:`Preview ${k+1}`,className:"w-12 h-12 object-cover rounded"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium truncate",children:N.name}),i.jsx(fe,{placeholder:"Add caption (optional)",value:f[k]||"",onChange:T=>_(k,T.target.value),className:"mt-1 h-8 text-xs"})]})]},k))}),i.jsxs(L,{onClick:w,disabled:c,className:"w-full",children:[i.jsx(kd,{className:"h-4 w-4 mr-2"}),c?"Uploading...":`Upload ${d.length} Photo(s)`]})]})]})]}),o?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.length===0?i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx("div",{className:"text-6xl mb-4",children:"📷"}),i.jsx("p",{children:"No photos uploaded yet"}),i.jsxs("p",{className:"text-sm",children:["Upload photos above to build ",r,"'s gallery"]})]}):i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Gallery Photos"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:s.map(N=>i.jsxs("div",{className:"group relative",children:[i.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-muted",children:i.jsx("img",{src:N.photo_url,alt:N.caption||"Gallery photo",className:"w-full h-full object-cover group-hover:scale-105 transition-transform"})}),i.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[i.jsx(L,{size:"sm",variant:"default",onClick:()=>j(N.photo_url),className:"h-8 w-8 p-0 bg-primary",title:"Set as Profile Photo",children:i.jsx(Tg,{className:"h-3 w-3"})}),i.jsx(L,{size:"sm",variant:"secondary",onClick:()=>S(N.photo_url,N.id),className:"h-8 w-8 p-0",children:i.jsx(w4,{className:"h-3 w-3"})}),i.jsx(L,{size:"sm",variant:"destructive",onClick:()=>p(N.id,N.photo_url),className:"h-8 w-8 p-0",children:i.jsx(Mn,{className:"h-3 w-3"})})]}),N.caption&&i.jsx("div",{className:"mt-1 text-xs text-muted-foreground p-1 bg-background/80 rounded truncate",children:N.caption}),i.jsx("div",{className:"mt-1 text-xs text-muted-foreground",children:new Date(N.created_at).toLocaleDateString()})]},N.id))})]})]})]})})},zP=({selectedWallpaperId:e,onWallpaperSelect:t,showManagement:n=!1})=>{const{user:r}=ve(),[s,a]=m.useState([]),[o,l]=m.useState(!0),[c,u]=m.useState(!1),[d,h]=m.useState(null),[f,g]=m.useState({name:"",category:"general"}),[v,x]=m.useState({name:"",url:"",category:"general"}),[b,y]=m.useState(null),[w,p]=m.useState(null),j=m.useRef(null),{toast:S}=Vt(),_=["general","nature","urban","night","abstract"];m.useEffect(()=>{N()},[]);const N=async()=>{try{const{data:R,error:O}=await I.from("wallpapers").select("*").eq("is_active",!0).order("category",{ascending:!0}).order("name",{ascending:!0});if(O)throw O;a(R||[])}catch(R){console.error("Error loading wallpapers:",R),S({title:"Error",description:"Failed to load wallpapers",variant:"destructive"})}finally{l(!1)}},k=R=>{var C;const O=(C=R.target.files)==null?void 0:C[0];if(O){if(!O.type.startsWith("image/")){S({title:"Error",description:"Please select an image file",variant:"destructive"});return}if(O.size>10*1024*1024){S({title:"Error",description:"Image must be less than 10MB",variant:"destructive"});return}y(O);const M=new FileReader;M.onload=E=>{var A;p((A=E.target)==null?void 0:A.result)},M.readAsDataURL(O)}},T=async R=>{if(!r)throw new Error("User not authenticated");const O=R.name.split(".").pop(),C=`${Date.now()}.${O}`,{data:M,error:E}=await I.storage.from("wallpapers").upload(C,R);if(E)throw E;const{data:{publicUrl:A}}=I.storage.from("wallpapers").getPublicUrl(C);return A},D=()=>{y(null),p(null),j.current&&(j.current.value="")},F=async()=>{if(!f.name||!b){S({title:"Error",description:"Please provide a name and select an image file",variant:"destructive"});return}u(!0);try{const R=await T(b),{error:O}=await I.from("wallpapers").insert({name:f.name,url:R,category:f.category});if(O)throw O;S({title:"Success",description:"Wallpaper uploaded successfully"}),g({name:"",category:"general"}),D(),N()}catch(R){console.error("Error adding wallpaper:",R),S({title:"Error",description:"Failed to upload wallpaper",variant:"destructive"})}finally{u(!1)}},P=async R=>{if(!v.name||!v.url){S({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}try{const{error:O}=await I.from("wallpapers").update({name:v.name,url:v.url,category:v.category}).eq("id",R);if(O)throw O;S({title:"Success",description:"Wallpaper updated successfully"}),h(null),x({name:"",url:"",category:"general"}),N()}catch(O){console.error("Error updating wallpaper:",O),S({title:"Error",description:"Failed to update wallpaper",variant:"destructive"})}},U=async R=>{try{const{error:O}=await I.from("wallpapers").update({is_active:!1}).eq("id",R);if(O)throw O;S({title:"Success",description:"Wallpaper removed successfully"}),N()}catch(O){console.error("Error removing wallpaper:",O),S({title:"Error",description:"Failed to remove wallpaper",variant:"destructive"})}},$=R=>{h(R.id),x({name:R.name,url:R.url,category:R.category})},K=()=>{h(null),x({name:"",url:"",category:"general"})};return o?i.jsx("div",{className:"flex justify-center",children:"Loading wallpapers..."}):i.jsxs("div",{className:"space-y-4",children:[n&&i.jsx(G,{children:i.jsxs(Y,{className:"p-4 space-y-4",children:[i.jsx("h3",{className:"font-semibold",children:"Add New Wallpaper"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ee,{htmlFor:"wallpaper-name",children:"Name *"}),i.jsx(fe,{id:"wallpaper-name",value:f.name,onChange:R=>g(O=>({...O,name:R.target.value})),placeholder:"Wallpaper name"})]}),i.jsxs("div",{children:[i.jsx(ee,{htmlFor:"wallpaper-category",children:"Category"}),i.jsxs(Pt,{value:f.category,onValueChange:R=>g(O=>({...O,category:R})),children:[i.jsx(bt,{children:i.jsx(Et,{})}),i.jsx(jt,{children:_.map(R=>i.jsx(ke,{value:R,children:R.charAt(0).toUpperCase()+R.slice(1)},R))})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ee,{children:"Upload Image *"}),w?i.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg",children:[i.jsx("img",{src:w,alt:"Preview",className:"w-20 h-20 object-cover rounded"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium",children:"Image selected"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Ready to upload"})]}),i.jsx(L,{size:"sm",variant:"outline",onClick:D,disabled:c,children:i.jsx(Dn,{className:"h-4 w-4"})})]}):i.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-8 text-center",children:[i.jsx("input",{ref:j,type:"file",accept:"image/*",onChange:k,className:"hidden",id:"wallpaper-file-input"}),i.jsx(kd,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm font-medium",children:"Click to upload an image"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG, GIF up to 10MB"})]}),i.jsxs(L,{variant:"outline",size:"sm",onClick:()=>{var R;return(R=j.current)==null?void 0:R.click()},className:"mt-4",disabled:c,children:[i.jsx(Tg,{className:"h-4 w-4 mr-2"}),"Select Image"]})]})]}),i.jsx(L,{onClick:F,className:"w-full",disabled:c||!b||!f.name,children:c?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Uploading..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Upload Wallpaper"]})})]})}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:s.map(R=>i.jsx(G,{className:`cursor-pointer transition-all ${e===R.id?"ring-2 ring-primary":"hover:ring-1 hover:ring-primary/50"}`,onClick:()=>!d&&t(R),children:i.jsx(Y,{className:"p-2",children:d===R.id?i.jsxs("div",{className:"space-y-2",children:[i.jsx("img",{src:R.url,alt:R.name,className:"w-full h-24 object-cover rounded"}),i.jsx(fe,{value:v.name,onChange:O=>x(C=>({...C,name:O.target.value})),placeholder:"Name",className:"text-xs"}),i.jsx(fe,{value:v.url,onChange:O=>x(C=>({...C,url:O.target.value})),placeholder:"URL",className:"text-xs"}),i.jsxs(Pt,{value:v.category,onValueChange:O=>x(C=>({...C,category:O})),children:[i.jsx(bt,{className:"text-xs",children:i.jsx(Et,{})}),i.jsx(jt,{children:_.map(O=>i.jsx(ke,{value:O,children:O.charAt(0).toUpperCase()+O.slice(1)},O))})]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx(L,{size:"sm",onClick:O=>{O.stopPropagation(),P(R.id)},className:"flex-1 text-xs",children:i.jsx(HS,{className:"h-3 w-3"})}),i.jsx(L,{variant:"outline",size:"sm",onClick:O=>{O.stopPropagation(),K()},className:"flex-1 text-xs",children:i.jsx(Dn,{className:"h-3 w-3"})})]})]}):i.jsxs(i.Fragment,{children:[i.jsx("img",{src:R.url,alt:R.name,className:"w-full h-24 object-cover rounded mb-2"}),i.jsx("p",{className:"text-xs font-medium truncate",children:R.name}),i.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:R.category}),n&&i.jsxs("div",{className:"flex gap-1 mt-2",children:[i.jsx(L,{variant:"outline",size:"sm",onClick:O=>{O.stopPropagation(),$(R)},className:"flex-1 text-xs",children:i.jsx(WS,{className:"h-3 w-3"})}),i.jsx(L,{variant:"destructive",size:"sm",onClick:O=>{O.stopPropagation(),U(R.id)},className:"flex-1 text-xs",children:i.jsx(Mn,{className:"h-3 w-3"})})]})]})})},R.id))}),s.length===0&&i.jsx(G,{children:i.jsx(Y,{className:"p-8 text-center",children:i.jsx("p",{className:"text-muted-foreground",children:"No wallpapers available"})})})]})},WP=({gender:e})=>{const[t,n]=m.useState([]),[r,s]=m.useState(!0),[a,o]=m.useState(!1),[l,c]=m.useState(null),[u,d]=m.useState(!1),[h,f]=m.useState(null),[g,v]=m.useState(!1),[x,b]=m.useState(null),[y,w]=m.useState(null),[p,j]=m.useState({name:"",personality:"playful",description:"",photo:null,wallpaper_id:"",status:"Online",flirtiness_level:3}),[S,_]=m.useState({name:"",personality:"playful",description:"",photo:null,wallpaper_id:"",status:"Online",flirtiness_level:3}),{toast:N}=Vt(),k=["playful","caring","mysterious","romantic","adventurous","intellectual"];m.useEffect(()=>{T()},[e]);const T=async()=>{try{const{data:E,error:A}=await I.from("companion_models").select(`
          *,
          wallpaper:wallpapers!fk_companion_models_wallpaper (
            id,
            name,
            url,
            category,
            is_active
          )
        `).eq("gender",e).order("created_at",{ascending:!1});if(A)throw A;console.log(`Loaded ${e} models with wallpapers:`,E),n(E||[])}catch(E){console.error("Error loading models:",E),N({title:"Error",description:`Failed to load ${e} companion models`,variant:"destructive"})}finally{s(!1)}},D=async E=>{const A=E.name.split(".").pop(),se=`photos/${`${Date.now()}-${Math.random().toString(36).substring(2)}.${A}`}`;console.log("Uploading to bucket: girlfriend-photos, path:",se);const{error:he}=await I.storage.from("girlfriend-photos").upload(se,E,{cacheControl:"3600",upsert:!1});if(he)throw console.error("Upload error:",he),he;const{data:{publicUrl:Ce}}=I.storage.from("girlfriend-photos").getPublicUrl(se);return console.log("Upload successful, public URL:",Ce),Ce},F=async()=>{if(!p.name||!p.photo){N({title:"Error",description:"Please fill in all required fields and select a photo",variant:"destructive"});return}o(!0);try{const E=await D(p.photo),{error:A}=await I.from("companion_models").insert({name:p.name,personality:p.personality,description:p.description,photo_url:E,wallpaper_id:p.wallpaper_id||null,status:p.status,gender:e,flirtiness_level:p.flirtiness_level});if(A)throw A;N({title:"Success",description:`${e==="female"?"Female":"Male"} companion added successfully`}),j({name:"",personality:"playful",description:"",photo:null,wallpaper_id:"",status:"Online",flirtiness_level:3}),b(null),T()}catch(E){console.error("Error adding model:",E),N({title:"Error",description:`Failed to add ${e} companion`,variant:"destructive"})}finally{o(!1)}},P=async E=>{try{const{error:A}=await I.from("companion_models").delete().eq("id",E);if(A)throw A;N({title:"Success",description:`${e==="female"?"Female":"Male"} companion deleted successfully`}),T()}catch(A){console.error("Error deleting model:",A),N({title:"Error",description:"Failed to delete companion model",variant:"destructive"})}},U=async(E,A)=>{let V;switch(A){case"active":V="unavailable";break;case"unavailable":V="admin_only";break;case"admin_only":V="active";break}try{const{error:se}=await I.from("companion_models").update({visibility:V}).eq("id",E);if(se)throw se;N({title:"Success",description:`Model visibility changed to ${V.replace("_"," ")}`}),T()}catch(se){console.error("Error updating model:",se),N({title:"Error",description:"Failed to update model visibility",variant:"destructive"})}},$=E=>{c(E.id),_({name:E.name,personality:E.personality,description:E.description||"",photo:null,wallpaper_id:E.wallpaper_id||"",status:E.status||"Online",flirtiness_level:E.flirtiness_level||3}),E.wallpaper?w(E.wallpaper):w(null)},K=()=>{c(null),_({name:"",personality:"playful",description:"",photo:null,wallpaper_id:"",status:"Online",flirtiness_level:3}),w(null)},R=async E=>{if(!S.name){N({title:"Error",description:"Name is required",variant:"destructive"});return}d(!0);try{let A={name:S.name,personality:S.personality,description:S.description,wallpaper_id:S.wallpaper_id||null,status:S.status,flirtiness_level:S.flirtiness_level};if(S.photo){const se=await D(S.photo);A.photo_url=se}const{error:V}=await I.from("companion_models").update(A).eq("id",E);if(V)throw V;N({title:"Success",description:`${e==="female"?"Female":"Male"} companion updated successfully`}),c(null),_({name:"",personality:"playful",description:"",photo:null,wallpaper_id:"",status:"Online",flirtiness_level:3}),w(null),T()}catch(A){console.error("Error updating model:",A),N({title:"Error",description:`Failed to update ${e} companion`,variant:"destructive"})}finally{d(!1)}},O=(E,A=!1)=>{A?(b(E),j(V=>({...V,wallpaper_id:E.id}))):(w(E),_(V=>V&&{...V,wallpaper_id:E.id})),v(!1)},C=E=>{v(!0)},M=E=>E.wallpaper?{name:E.wallpaper.name,url:E.wallpaper.url}:E.wallpaper_url?{name:"Legacy Wallpaper",url:E.wallpaper_url}:null;return r?i.jsx("div",{className:"flex justify-center",children:"Loading..."}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs(G,{children:[i.jsx(oe,{children:i.jsxs(ae,{className:"flex items-center gap-2",children:[i.jsx(Yt,{className:"h-5 w-5"}),"Add New ",e==="female"?"Female":"Male"," Companion"]})}),i.jsxs(Y,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ee,{htmlFor:"name",children:"Name *"}),i.jsx(fe,{id:"name",value:p.name,onChange:E=>j(A=>({...A,name:E.target.value})),placeholder:`Enter ${e} companion name`})]}),i.jsxs("div",{children:[i.jsx(ee,{htmlFor:"personality",children:"Personality *"}),i.jsxs(Pt,{value:p.personality,onValueChange:E=>j(A=>({...A,personality:E})),children:[i.jsx(bt,{children:i.jsx(Et,{})}),i.jsx(jt,{children:k.map(E=>i.jsx(ke,{value:E,children:E.charAt(0).toUpperCase()+E.slice(1)},E))})]})]})]}),i.jsxs("div",{children:[i.jsx(ee,{htmlFor:"status",children:"Status"}),i.jsx(fe,{id:"status",value:p.status,onChange:E=>j(A=>({...A,status:E.target.value})),placeholder:"e.g., Online, Busy, Away"})]}),i.jsxs("div",{children:[i.jsx(ee,{htmlFor:"flirtiness-level",children:"Flirtiness Level (1-5)"}),i.jsxs(Pt,{value:p.flirtiness_level.toString(),onValueChange:E=>j(A=>({...A,flirtiness_level:parseInt(E)})),children:[i.jsx(bt,{children:i.jsx(Et,{})}),i.jsxs(jt,{children:[i.jsx(ke,{value:"1",children:"Level 1 - Sweet & Caring"}),i.jsx(ke,{value:"2",children:"Level 2 - Playfully Flirty"}),i.jsx(ke,{value:"3",children:"Level 3 - Moderately Flirty"}),i.jsx(ke,{value:"4",children:"Level 4 - Suggestive but Safe"}),i.jsx(ke,{value:"5",children:"Level 5 - Maximum Safe Flirtiness"})]})]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Controls how flirty and romantic the AI responses will be"})]}),i.jsxs("div",{children:[i.jsx(ee,{htmlFor:"description",children:"Description"}),i.jsx(oi,{id:"description",value:p.description,onChange:E=>j(A=>({...A,description:E.target.value})),placeholder:"Enter description (optional)",rows:3})]}),i.jsxs("div",{children:[i.jsx(ee,{htmlFor:"wallpaper",children:"Chat Wallpaper"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(L,{type:"button",variant:"outline",onClick:()=>C(),className:"w-full",children:[i.jsx(Vh,{className:"h-4 w-4 mr-2"}),x?x.name:"Select Wallpaper"]}),x&&i.jsx("img",{src:x.url,alt:x.name,className:"w-full h-24 object-cover rounded-lg"})]})]}),i.jsxs("div",{children:[i.jsx(ee,{htmlFor:"photo",children:"Profile Photo *"}),i.jsx(fe,{id:"photo",type:"file",accept:"image/*",onChange:E=>j(A=>{var V;return{...A,photo:((V=E.target.files)==null?void 0:V[0])||null}}),className:"cursor-pointer"})]}),i.jsx(L,{onClick:F,disabled:a,className:"w-full",children:a?"Uploading...":"Add Model"})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(E=>i.jsx(G,{className:`${E.visibility==="admin_only"?"opacity-50":""}`,children:i.jsx(Y,{className:"p-4",children:l===E.id?i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"aspect-square mb-3 relative overflow-hidden rounded-lg",children:i.jsx("img",{src:E.photo_url,alt:E.name,className:"w-full h-full object-cover",style:{objectPosition:"center top"}})}),i.jsxs("div",{children:[i.jsx(ee,{htmlFor:`edit-name-${E.id}`,children:"Name *"}),i.jsx(fe,{id:`edit-name-${E.id}`,value:S.name,onChange:A=>_(V=>({...V,name:A.target.value})),placeholder:`Enter ${e} companion name`})]}),i.jsxs("div",{children:[i.jsx(ee,{htmlFor:`edit-personality-${E.id}`,children:"Personality *"}),i.jsxs(Pt,{value:S.personality,onValueChange:A=>_(V=>({...V,personality:A})),children:[i.jsx(bt,{children:i.jsx(Et,{})}),i.jsx(jt,{children:k.map(A=>i.jsx(ke,{value:A,children:A.charAt(0).toUpperCase()+A.slice(1)},A))})]})]}),i.jsxs("div",{children:[i.jsx(ee,{htmlFor:`edit-wallpaper-${E.id}`,children:"Chat Wallpaper"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(L,{type:"button",variant:"outline",onClick:()=>C(),className:"w-full",children:[i.jsx(Vh,{className:"h-4 w-4 mr-2"}),y?y.name:"Select Wallpaper"]}),y&&i.jsx("img",{src:y.url,alt:y.name,className:"w-full h-12 object-cover rounded"})]})]}),i.jsxs("div",{children:[i.jsx(ee,{htmlFor:`edit-status-${E.id}`,children:"Status"}),i.jsx(fe,{id:`edit-status-${E.id}`,value:S.status,onChange:A=>_(V=>({...V,status:A.target.value})),placeholder:"e.g., Online, Busy, Away"})]}),i.jsxs("div",{children:[i.jsx(ee,{htmlFor:`edit-flirtiness-${E.id}`,children:"Flirtiness Level (1-5)"}),i.jsxs(Pt,{value:S.flirtiness_level.toString(),onValueChange:A=>_(V=>({...V,flirtiness_level:parseInt(A)})),children:[i.jsx(bt,{children:i.jsx(Et,{})}),i.jsxs(jt,{children:[i.jsx(ke,{value:"1",children:"Level 1 - Sweet & Caring"}),i.jsx(ke,{value:"2",children:"Level 2 - Playfully Flirty"}),i.jsx(ke,{value:"3",children:"Level 3 - Moderately Flirty"}),i.jsx(ke,{value:"4",children:"Level 4 - Suggestive but Safe"}),i.jsx(ke,{value:"5",children:"Level 5 - Maximum Safe Flirtiness"})]})]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Controls how flirty and romantic the AI responses will be"})]}),i.jsxs("div",{children:[i.jsx(ee,{htmlFor:`edit-description-${E.id}`,children:"Description"}),i.jsx(oi,{id:`edit-description-${E.id}`,value:S.description,onChange:A=>_(V=>({...V,description:A.target.value})),placeholder:"Enter description (optional)",rows:2})]}),i.jsxs("div",{children:[i.jsx(ee,{htmlFor:`edit-photo-${E.id}`,children:"New Profile Photo"}),i.jsx(fe,{id:`edit-photo-${E.id}`,type:"file",accept:"image/*",onChange:A=>_(V=>{var se;return{...V,photo:((se=A.target.files)==null?void 0:se[0])||null}}),className:"cursor-pointer"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(L,{variant:"outline",size:"sm",onClick:K,disabled:u,className:"flex-1",children:[i.jsx(Dn,{className:"h-4 w-4 mr-1"}),"Cancel"]}),i.jsxs(L,{size:"sm",onClick:()=>R(E.id),disabled:u,className:"flex-1 bg-gradient-romantic",children:[i.jsx(HS,{className:"h-4 w-4 mr-1"}),u?"Saving...":"Save"]})]})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"aspect-[3/4] mb-3 relative overflow-hidden rounded-lg bg-muted",children:i.jsx("img",{src:E.photo_url,alt:E.name,className:"w-full h-full object-contain"})}),i.jsx("h3",{className:"font-semibold text-lg mb-1",children:E.name}),i.jsx("p",{className:"text-sm text-muted-foreground mb-1 capitalize",children:E.personality}),i.jsxs("p",{className:"text-xs text-blue-500 font-medium mb-1",children:["Flirtiness Level: ",E.flirtiness_level,"/5"]}),E.status&&i.jsxs("p",{className:"text-xs text-green-500 font-medium mb-2",children:["Status: ",E.status]}),E.description&&i.jsx("p",{className:"text-sm mb-3 line-clamp-2",children:E.description}),M(E)&&i.jsxs("div",{className:"mb-3",children:[i.jsxs("p",{className:"text-xs text-muted-foreground mb-1 flex items-center gap-1",children:[i.jsx(Vh,{className:"h-3 w-3"}),"Wallpaper: ",M(E).name]}),i.jsx("img",{src:M(E).url,alt:"Chat wallpaper",className:"w-full h-12 object-cover rounded"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx(L,{variant:E.visibility==="active"?"default":E.visibility==="unavailable"?"secondary":"outline",size:"sm",onClick:()=>U(E.id,E.visibility),className:"flex-1",children:E.visibility==="active"?"Active":E.visibility==="unavailable"?"Unavailable":"Admin Only"}),i.jsx(L,{variant:"outline",size:"sm",onClick:()=>$(E),children:i.jsx(WS,{className:"h-4 w-4"})}),i.jsx(L,{variant:"destructive",size:"sm",onClick:()=>P(E.id),children:i.jsx(Mn,{className:"h-4 w-4"})})]}),i.jsxs(L,{variant:"outline",size:"sm",onClick:()=>f({id:E.id,name:E.name}),className:"w-full",children:[i.jsx(BS,{className:"h-4 w-4 mr-2"}),"Gallery"]})]})]})})},E.id))}),t.length===0&&i.jsx(G,{children:i.jsx(Y,{className:"p-8 text-center",children:i.jsxs("p",{className:"text-muted-foreground",children:["No ",e," companions found. Add one above!"]})})}),h&&i.jsx(V9,{isOpen:!!h,onClose:()=>f(null),companionModelId:h.id,companionName:h.name}),g&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-background rounded-lg max-w-4xl w-full max-h-[80vh] overflow-hidden",children:[i.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"Select Wallpaper"}),i.jsx(L,{variant:"outline",onClick:()=>v(!1),children:i.jsx(Dn,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"p-4 overflow-y-auto max-h-[calc(80vh-80px)]",children:i.jsx(zP,{selectedWallpaperId:l?y==null?void 0:y.id:x==null?void 0:x.id,onWallpaperSelect:E=>O(E,!l),showManagement:!1})})]})})]})},z9=()=>{const e=be();return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex items-center gap-4",children:i.jsx(L,{variant:"ghost",size:"icon",onClick:()=>e("/admin"),className:"h-10 w-10 bg-green-500 hover:bg-green-600 text-white rounded-full shadow-lg",children:i.jsx($n,{className:"h-5 w-5"})})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Female Companions"}),i.jsx("p",{className:"text-muted-foreground",children:"Manage female companion models, personalities, and settings."})]}),i.jsx(WP,{gender:"female"})]})},W9=()=>{const e=be();return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex items-center gap-4",children:i.jsx(L,{variant:"ghost",size:"icon",onClick:()=>e("/admin"),className:"h-10 w-10 bg-green-500 hover:bg-green-600 text-white rounded-full shadow-lg",children:i.jsx($n,{className:"h-5 w-5"})})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Male Companions"}),i.jsx("p",{className:"text-muted-foreground",children:"Manage male companion models, personalities, and settings."})]}),i.jsx(WP,{gender:"male"})]})},H9=()=>{const e=be(),[t,n]=m.useState(null);return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex items-center gap-4",children:i.jsx(L,{variant:"ghost",size:"icon",onClick:()=>e("/admin"),className:"h-10 w-10 bg-green-500 hover:bg-green-600 text-white rounded-full shadow-lg",children:i.jsx($n,{className:"h-5 w-5"})})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Wallpaper Management"}),i.jsx("p",{className:"text-muted-foreground",children:"Upload, manage, and organize wallpapers for the application."})]}),i.jsxs(G,{children:[i.jsx(oe,{children:i.jsx(ae,{children:"Wallpaper Gallery"})}),i.jsxs(Y,{children:[i.jsx(zP,{selectedWallpaperId:t==null?void 0:t.id,onWallpaperSelect:n,showManagement:!0}),t&&i.jsx("div",{className:"mt-4 p-4 bg-muted rounded-lg",children:i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Selected Wallpaper: ",i.jsx("code",{className:"bg-background px-2 py-1 rounded",children:t.name})]})})]})]})]})},q9=({onVideoUploaded:e})=>{const[t,n]=m.useState(!1),[r,s]=m.useState(null),{toast:a}=Vt(),o=u=>{var h;const d=(h=u.target.files)==null?void 0:h[0];if(d){if(!d.type.startsWith("video/")){a({title:"Invalid file type",description:"Please select a video file (MP4, WebM, etc.)",variant:"destructive"});return}if(d.size>100*1024*1024){a({title:"File too large",description:"Video must be smaller than 100MB",variant:"destructive"});return}s(d)}},l=async()=>{if(r){n(!0);try{const u=r.name.split(".").pop(),h=`landing-video-${Date.now()}.${u}`,{data:f,error:g}=await I.storage.from("videos").upload(h,r);if(g)throw g;const{data:{publicUrl:v}}=I.storage.from("videos").getPublicUrl(h);a({title:"Video uploaded successfully",description:"Your video has been uploaded and is ready to use."}),e==null||e(v),s(null)}catch(u){console.error("Error uploading video:",u),a({title:"Upload failed",description:"There was an error uploading your video. Please try again.",variant:"destructive"})}finally{n(!1)}}},c=()=>{s(null)};return i.jsxs(G,{children:[i.jsx(oe,{children:i.jsxs(ae,{className:"flex items-center gap-2",children:[i.jsx(e0,{className:"h-5 w-5"}),"Upload Landing Page Video"]})}),i.jsxs(Y,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ee,{htmlFor:"video-upload",children:"Select Video File"}),i.jsx(fe,{id:"video-upload",type:"file",accept:"video/*",onChange:o,disabled:t}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Supported formats: MP4, WebM, MOV, AVI (Max 100MB)"})]}),r&&i.jsx("div",{className:"p-3 bg-muted rounded-lg",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(e0,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm font-medium",children:r.name}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",(r.size/(1024*1024)).toFixed(1)," MB)"]})]}),i.jsx(L,{variant:"ghost",size:"sm",onClick:c,disabled:t,children:i.jsx(Dn,{className:"h-4 w-4"})})]})}),i.jsx(L,{onClick:l,disabled:!r||t,className:"w-full",children:t?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current mr-2"}),"Uploading..."]}):i.jsxs(i.Fragment,{children:[i.jsx(kd,{className:"h-4 w-4 mr-2"}),"Upload Video"]})})]})]})},K9=()=>{const e=be(),{toast:t}=Vt(),n=r=>{t({title:"Video uploaded successfully",description:"Video is ready to be used on the landing page. You can now update the landing page to use this video."})};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Landing Page Editor"}),i.jsx("p",{className:"text-muted-foreground",children:"Manage landing page content, videos, and preview changes."})]}),i.jsx(q9,{onVideoUploaded:n}),i.jsxs(G,{children:[i.jsx(oe,{children:i.jsx(ae,{children:"Landing Page Preview"})}),i.jsxs(Y,{children:[i.jsx("div",{className:"rounded-lg border bg-background p-4",children:i.jsx("iframe",{src:"/landing",className:"w-full h-96 border-0 rounded",title:"Landing Page Preview"})}),i.jsxs("div",{className:"mt-4 p-4 bg-muted rounded-lg",children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"This is the landing page that new visitors see. Click Edit to modify it directly in the AI."}),i.jsxs(L,{onClick:()=>e("/landing"),variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(El,{className:"h-4 w-4"}),"Edit Landing Page"]})]})]})]})]})},G9=()=>{const[e,t]=m.useState(""),[n,r]=m.useState(null),[s,a]=m.useState(!1),[o,l]=m.useState(!1),{toast:c}=Vt(),u=async()=>{if(e){a(!0);try{const{data:g}=await I.from("profiles").select("user_id").limit(1e3);let v=null;if(e==="test5@test5.com"&&(v="a3465383-5e68-4283-badd-b0eebac94323"),!v){c({title:"User ID Required",description:"Please use test5@test5.com or provide the user ID directly",variant:"destructive"});return}const{data:x,error:b}=await I.from("user_subscriptions").select("*").eq("user_id",v).order("created_at",{ascending:!1}).limit(1).single();b&&b.code!=="PGRST116"?(console.error("Error fetching subscription:",b),r({user_id:v,email:e,status:"No subscription found",trial_ends_at:null,current_period_end:null})):r({...x,email:e})}catch(g){console.error("Error searching user:",g),c({title:"Error",description:"Failed to search for user",variant:"destructive"})}finally{a(!1)}}},d=async g=>{if(n!=null&&n.user_id){l(!0);try{let v={status:g,updated_at:new Date().toISOString()};g==="active"?(v.current_period_start=new Date().toISOString(),v.current_period_end=new Date(Date.now()+30*24*60*60*1e3).toISOString(),v.trial_ends_at=null):g==="trial"?(v.trial_ends_at=new Date(Date.now()+72*60*60*1e3).toISOString(),v.current_period_start=new Date().toISOString(),v.current_period_end=null):(g==="cancelled"||g==="expired")&&(v.trial_ends_at=new Date().toISOString(),v.current_period_end=new Date().toISOString());const{error:x}=await I.from("user_subscriptions").upsert({user_id:n.user_id,...v});if(x)throw x;c({title:"Subscription Updated",description:`User subscription status changed to ${g}`}),u()}catch(v){console.error("Error updating subscription:",v),c({title:"Error",description:"Failed to update subscription",variant:"destructive"})}finally{l(!1)}}},h=g=>{switch(g){case"active":return i.jsx(En,{className:"w-4 h-4 text-green-500"});case"trial":return i.jsx(Xn,{className:"w-4 h-4 text-yellow-500"});case"cancelled":case"expired":return i.jsx(Po,{className:"w-4 h-4 text-red-500"});default:return i.jsx(ln,{className:"w-4 h-4 text-gray-500"})}},f=g=>{switch(g){case"active":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"trial":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"cancelled":case"expired":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}};return i.jsxs(G,{children:[i.jsx(oe,{children:i.jsxs(ae,{className:"flex items-center gap-2",children:[i.jsx(M4,{className:"w-5 h-5"}),"Subscription Override (Testing)"]})}),i.jsxs(Y,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx(ee,{htmlFor:"user-email",children:"User Email"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(fe,{id:"user-email",type:"email",placeholder:"Enter user email (e.g., test5@test5.com)",value:e,onChange:g=>t(g.target.value),onKeyPress:g=>g.key==="Enter"&&u()}),i.jsxs(L,{onClick:u,disabled:s||!e,className:"flex items-center gap-2",children:[i.jsx(C4,{className:"w-4 h-4"}),s?"Searching...":"Search"]})]})]}),n&&i.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/50",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h3",{className:"font-semibold",children:["User: ",n.email]}),i.jsx(Ue,{className:f(n.status),children:i.jsxs("span",{className:"flex items-center gap-1",children:[h(n.status),n.status||"No subscription"]})})]}),n.trial_ends_at&&i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Trial ends: ",new Date(n.trial_ends_at).toLocaleString()]}),n.current_period_end&&i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Billing period ends: ",new Date(n.current_period_end).toLocaleString()]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(ee,{children:"Override Subscription Status"}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs(L,{onClick:()=>d("trial"),disabled:o,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(Xn,{className:"w-4 h-4 text-yellow-500"}),"Set Trial (72h)"]}),i.jsxs(L,{onClick:()=>d("active"),disabled:o,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(En,{className:"w-4 h-4 text-green-500"}),"Set Active (30d)"]}),i.jsxs(L,{onClick:()=>d("cancelled"),disabled:o,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(Po,{className:"w-4 h-4 text-red-500"}),"Set Cancelled"]}),i.jsxs(L,{onClick:()=>d("expired"),disabled:o,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(Po,{className:"w-4 h-4 text-red-500"}),"Set Expired"]})]})]})]}),i.jsxs("div",{className:"text-xs text-muted-foreground bg-yellow-50 dark:bg-yellow-950 p-3 rounded border",children:[i.jsx("strong",{children:"Testing Note:"})," This override feature is for testing purposes only. It allows you to manually set subscription statuses to test different user scenarios."]})]})]})},Y9=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Subscription Override"}),i.jsx("p",{className:"text-muted-foreground",children:"Manage user subscriptions, override billing, and handle special cases."})]}),i.jsx(G9,{})]}),Q9=()=>{const{user:e}=ve(),[t,n]=m.useState([]),[r,s]=m.useState(!0),a=async()=>{s(!0);try{const{data:u,error:d}=await I.from("staff_activity_log").select("*").order("created_at",{ascending:!1}).limit(50);if(d)throw d;n(u||[])}catch(u){console.error("Error fetching staff activities:",u)}finally{s(!1)}},o=async(u,d={})=>{if(e)try{const{data:h,error:f}=await I.rpc("log_staff_activity",{p_user_id:e.id,p_email:e.email,p_activity_type:u,p_details:d,p_ip_address:null,p_user_agent:navigator.userAgent});if(f)throw f;a()}catch(h){console.error("Error logging staff activity:",h)}};m.useEffect(()=>{a(),e&&o("login",{section:"admin_dashboard"})},[e]);const l=u=>{switch(u){case"login":return i.jsx(Jn,{className:"h-4 w-4 text-green-600"});case"logout":return i.jsx(Jn,{className:"h-4 w-4 text-red-600"});case"action":return i.jsx(MS,{className:"h-4 w-4 text-blue-600"});default:return i.jsx(Xn,{className:"h-4 w-4 text-gray-600"})}},c=u=>{switch(u){case"login":return"bg-green-100 text-green-800";case"logout":return"bg-red-100 text-red-800";case"action":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return i.jsxs(G,{className:"w-full",children:[i.jsx(oe,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(ae,{className:"text-lg font-semibold flex items-center gap-2",children:[i.jsx(Xn,{className:"h-5 w-5"}),"Staff Login Sheet"]}),i.jsxs(L,{variant:"outline",size:"sm",onClick:a,disabled:r,children:[i.jsx(k4,{className:`h-4 w-4 ${r?"animate-spin":""}`}),"Refresh"]})]})}),i.jsx(Y,{children:i.jsx("div",{className:"space-y-4",children:r?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading staff activities..."})]}):t.length===0?i.jsx("div",{className:"text-center py-8",children:i.jsx("p",{className:"text-muted-foreground",children:"No staff activities recorded yet."})}):i.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:t.map(u=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-card hover:bg-accent/50 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[l(u.activity_type),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium text-sm",children:u.email}),i.jsx(Ue,{className:c(u.activity_type),children:u.activity_type})]}),u.details&&Object.keys(u.details).length>0&&i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:JSON.stringify(u.details)})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm font-medium",children:Io(new Date(u.created_at),"MMM d, HH:mm")}),i.jsx("p",{className:"text-xs text-muted-foreground",children:Io(new Date(u.created_at),"yyyy")})]})]},u.id))})})})]})},X9=()=>i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("div",{className:"bg-background border-b p-4",children:i.jsx("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(Cs,{to:"/admin",showText:!0}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Staff Login Sheet"}),i.jsx("p",{className:"text-muted-foreground",children:"Track staff login activities and admin actions."})]})]})})}),i.jsx("div",{className:"max-w-7xl mx-auto p-6",children:i.jsx(Q9,{})})]}),J9=()=>{const e=be(),{user:t,loading:n}=ve(),{isAdmin:r,loading:s}=La();return m.useEffect(()=>{if(!(n||s)&&!(t&&r)){if(t&&!r){e("/dashboard",{replace:!0});return}if(!t){e("/auth",{replace:!0});return}}},[t,n,r,s,e]),n||s?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Checking permissions..."})]})}):r?i.jsx("div",{className:"min-h-screen bg-background overflow-y-auto",children:i.jsxs(P1,{children:[i.jsx(xe,{index:!0,element:i.jsx(f9,{})}),i.jsx(xe,{path:"content/female-models",element:i.jsx(z9,{})}),i.jsx(xe,{path:"content/male-models",element:i.jsx(W9,{})}),i.jsx(xe,{path:"content/wallpapers",element:i.jsx(H9,{})}),i.jsx(xe,{path:"content/landing",element:i.jsx(K9,{})}),i.jsx(xe,{path:"users/subscription-override",element:i.jsx(Y9,{})}),i.jsx(xe,{path:"users/staff-login-sheet",element:i.jsx(X9,{})}),i.jsx(xe,{path:"*",element:i.jsx(C1,{to:"/admin",replace:!0})})]})}):i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs(G,{className:"max-w-md w-full mx-4",children:[i.jsx(oe,{children:i.jsxs(ae,{className:"flex items-center gap-2 text-destructive",children:[i.jsx(qS,{className:"h-5 w-5"}),"Access Denied"]})}),i.jsxs(Y,{className:"text-center space-y-4",children:[i.jsx("p",{className:"text-muted-foreground",children:"You don't have permission to access the admin panel. Only administrators can view this page."}),i.jsx(L,{onClick:()=>e("/dashboard"),className:"w-full",children:"Back to Dashboard"})]})]})})};function Z9(){const{modelId:e}=sR(),t=be(),{user:n}=ve(),[r,s]=m.useState(null),[a,o]=m.useState(null),[l,c]=m.useState(!0),[u,d]=m.useState(!1);m.useEffect(()=>{(async()=>{if(e)try{const{data:g,error:v}=await I.from("companion_models").select("id, name, photo_url, personality").eq("id",e).single();if(v){console.error("Error fetching model:",v);return}s(g);const{data:x,error:b}=await I.from("model_personalities").select("*").eq("model_id",e).single();b?console.error("Error fetching personality:",b):o(x)}catch(g){console.error("Error:",g)}finally{c(!1)}})()},[e]);const h=async()=>{if(!(!r||!n))try{const{data:f}=await I.from("user_chats").select("id").eq("user_id",n.id).eq("companion_id",r.id).eq("is_active",!0).single();if(f)t(`/chat?chatId=${f.id}`);else{const{data:g,error:v}=await I.from("user_chats").insert({user_id:n.id,companion_id:r.id,companion_name:r.name,profile_photo:r.photo_url,personality:r.personality}).select("id").single();if(v){console.error("Error creating chat:",v);return}t(`/chat?chatId=${g.id}`)}}catch(f){console.error("Error starting chat:",f)}};return l?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-indigo-900 flex items-center justify-center",children:i.jsx("div",{className:"text-white",children:"Loading..."})}):r?i.jsxs(i.Fragment,{children:[i.jsx(L2,{isOpen:u,onClose:()=>d(!1),companionId:(r==null?void 0:r.id)||"",companionName:(r==null?void 0:r.name)||"Model",initialPhotoUrl:(r==null?void 0:r.photo_url)||""}),i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-indigo-900 p-4",children:[i.jsx("div",{className:"absolute top-4 left-4 z-20",children:i.jsxs(L,{variant:"outline",size:"sm",onClick:()=>t("/welcome"),className:"flex items-center gap-2 bg-white/90 hover:bg-white",children:[i.jsx($n,{className:"h-4 w-4"}),"Back to Models"]})}),i.jsx("div",{className:"max-w-4xl mx-auto py-16",children:i.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-start",children:[i.jsx("div",{className:"flex justify-center",children:i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:r.photo_url,alt:r.name,className:"w-80 h-96 object-cover rounded-2xl shadow-2xl cursor-pointer hover:opacity-95 transition-opacity",style:{objectPosition:"center top"},onClick:()=>d(!0)}),i.jsx("div",{className:"absolute -bottom-4 -right-4 bg-green-500 p-3 rounded-full shadow-lg",children:i.jsx(qe,{className:"h-6 w-6 text-white"})})]})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center md:text-left",children:[i.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:r.name}),a&&i.jsxs("p",{className:"text-xl text-white/80 mb-4",children:[a.age,"-year-old ",a.cultural_background," girl living ",a.living_situation.toLowerCase()," in ",a.location,a.pet&&a.pet!=="None"&&!a.pet.toLowerCase().includes("none")?` with her ${a.pet}`:"","!"]})]}),a&&i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(G,{className:"bg-white/10 border-white/20",children:i.jsxs(Y,{className:"p-4 text-center",children:[i.jsx(zS,{className:"h-6 w-6 text-white mx-auto mb-2"}),i.jsx("p",{className:"text-white font-semibold",children:a.location})]})}),i.jsx(G,{className:"bg-white/10 border-white/20",children:i.jsxs(Y,{className:"p-4 text-center",children:[i.jsx(qt,{className:"h-6 w-6 text-white mx-auto mb-2"}),i.jsx("p",{className:"text-white font-semibold",children:a.relationship_status})]})}),i.jsx(G,{className:"bg-white/10 border-white/20",children:i.jsxs(Y,{className:"p-4 text-center",children:[i.jsx(S4,{className:"h-6 w-6 text-white mx-auto mb-2"}),i.jsx("p",{className:"text-white font-semibold",children:a.living_situation})]})}),a.pet&&a.pet!=="None"&&i.jsx(G,{className:"bg-white/10 border-white/20",children:i.jsxs(Y,{className:"p-4 text-center",children:[i.jsx(qe,{className:"h-6 w-6 text-white mx-auto mb-2"}),i.jsx("p",{className:"text-white font-semibold",children:a.pet})]})})]}),a&&a.personality_traits&&i.jsx(G,{className:"bg-white/10 border-white/20",children:i.jsxs(Y,{className:"p-6",children:[i.jsx("h3",{className:"text-white font-semibold mb-4",children:"Personality"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:a.personality_traits.map((f,g)=>i.jsx("span",{className:"px-3 py-1 bg-white/20 text-white text-sm rounded-full",children:f},g))})]})}),a&&a.passions&&i.jsx(G,{className:"bg-white/10 border-white/20",children:i.jsxs(Y,{className:"p-6",children:[i.jsx("h3",{className:"text-white font-semibold mb-4",children:"Interests"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:a.passions.map((f,g)=>i.jsx("span",{className:"px-3 py-1 bg-blue-500/30 text-white text-sm rounded-full",children:f},g))})]})}),i.jsxs(L,{onClick:h,className:"w-full bg-green-600 hover:bg-green-700 text-white text-lg py-6 rounded-xl shadow-lg",size:"lg",children:["Chat to ",r.name]})]})]})})]})]}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-indigo-900 flex items-center justify-center",children:i.jsxs("div",{className:"text-white text-center",children:[i.jsx("h1",{className:"text-2xl mb-4",children:"Model not found"}),i.jsx(L,{onClick:()=>t("/welcome"),variant:"outline",children:"Go Back"})]})})}const wf=768;function e7(){const[e,t]=m.useState(void 0);return m.useEffect(()=>{const n=window.matchMedia(`(max-width: ${wf-1}px)`),r=()=>{t(window.innerWidth<wf)};return n.addEventListener("change",r),t(window.innerWidth<wf),()=>n.removeEventListener("change",r)},[]),!!e}function t7(){const e=be(),{signOut:t}=ve(),n=e7(),r=async()=>{await t(),e("/auth")},s=[{icon:bu,label:"Back to chats",action:()=>e("/chat"),variant:"default"},{icon:bu,label:"New Chat",action:()=>e("/chat?new=true"),variant:"outline"},{icon:x4,label:"New Support Query",action:()=>e("/contact"),variant:"outline"},{icon:Jn,label:"Change Profile Photo",action:()=>e("/my-account"),variant:"outline"},{icon:US,label:"Buy Bucks",action:()=>e("/bucks"),variant:"outline"},{icon:sr,label:"Update Subscription",action:()=>e("/manage-subscription"),variant:"outline"},{icon:qt,label:"Refer a friend",action:()=>e("/dashboard?tab=referrals"),variant:"outline"}];return i.jsxs("div",{className:`min-h-screen flex flex-col relative overflow-hidden ${n?"p-3 pt-safe-area-inset-top pb-safe-area-inset-bottom":"p-4"}`,style:{backgroundColor:"#F0EAFE",background:"linear-gradient(180deg, #A78BFA 0%, #F0EAFE 100%)"},children:[i.jsx("div",{className:`${n?"mb-4":"mb-6"}`,children:i.jsx(Cs,{to:"/chat"})}),i.jsx("div",{className:"flex-1 flex items-center justify-center",children:i.jsxs(G,{className:`w-full ${n?"max-w-sm mx-2":"max-w-md"} bg-white/90 backdrop-blur-md border border-gray-200 shadow-lg`,children:[i.jsx(oe,{className:"text-center",children:i.jsx(ae,{className:`${n?"text-xl":"text-2xl"} text-gray-800 font-bold`,children:"You are about to log off?"})}),i.jsxs(Y,{className:`${n?"space-y-4":"space-y-3"}`,children:[s.map((a,o)=>{const l=a.icon;return i.jsxs(L,{variant:a.variant,onClick:a.action,className:`w-full flex items-center gap-3 justify-start ${n?"h-14 text-base px-4":"h-12"} touch-manipulation`,size:n?"lg":"default",children:[i.jsx(l,{className:`${n?"h-6 w-6":"h-5 w-5"} flex-shrink-0`}),i.jsx("span",{className:"truncate",children:a.label})]},o)}),i.jsx("div",{className:`${n?"pt-6":"pt-4"} border-t border-border`,children:i.jsxs(L,{variant:"destructive",onClick:r,className:`w-full flex items-center gap-3 justify-center ${n?"h-14 text-base px-4":"h-12"} touch-manipulation`,size:n?"lg":"default",children:[i.jsx(VS,{className:`${n?"h-6 w-6":"h-5 w-5"} flex-shrink-0`}),i.jsx("span",{children:"Yes, Log Me Out"})]})})]})]})})]})}const n7=()=>{const{user:e}=ve(),[t,n]=m.useState([]),[r,s]=m.useState(!0),[a,o]=m.useState(!1),[l,c]=m.useState(null),[u,d]=m.useState({title:"",content:"",category:"goals",priority:1}),h=[{value:"goals",label:"Goals",icon:Eo},{value:"values",label:"Values",icon:qe},{value:"vision",label:"Vision",icon:Lc},{value:"mission",label:"Mission",icon:qe}],f={1:{label:"High",color:"bg-red-500"},2:{label:"Medium",color:"bg-yellow-500"},3:{label:"Low",color:"bg-green-500"}};m.useEffect(()=>{g()},[e]);const g=async()=>{if(e)try{const{data:p,error:j}=await I.from("manifesto").select("*").eq("user_id",e.id).order("priority",{ascending:!0}).order("created_at",{ascending:!1});if(j)throw j;n(p||[])}catch(p){console.error("Error fetching manifesto items:",p),H.error("Failed to load manifesto items")}finally{s(!1)}},v=async p=>{if(p.preventDefault(),!!e)try{if(l){const{error:j}=await I.from("manifesto").update({title:u.title,content:u.content,category:u.category,priority:u.priority}).eq("id",l.id);if(j)throw j;H.success("Manifesto item updated successfully")}else{const{error:j}=await I.from("manifesto").insert({title:u.title,content:u.content,category:u.category,priority:u.priority,user_id:e.id});if(j)throw j;H.success("Manifesto item created successfully")}o(!1),c(null),d({title:"",content:"",category:"goals",priority:1}),g()}catch(j){console.error("Error saving manifesto item:",j),H.error("Failed to save manifesto item")}},x=p=>{c(p),d({title:p.title,content:p.content,category:p.category,priority:p.priority}),o(!0)},b=async p=>{if(confirm("Are you sure you want to delete this manifesto item?"))try{const{error:j}=await I.from("manifesto").delete().eq("id",p);if(j)throw j;H.success("Manifesto item deleted successfully"),g()}catch(j){console.error("Error deleting manifesto item:",j),H.error("Failed to delete manifesto item")}},y=()=>{c(null),d({title:"",content:"",category:"goals",priority:1}),o(!0)},w=h.reduce((p,j)=>(p[j.value]=t.filter(S=>S.category===j.value),p),{});return r?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[i.jsx(qe,{className:"h-6 w-6 text-primary"}),"Manifesto"]}),i.jsx("p",{className:"text-muted-foreground",children:"Define your long-term goals, values, and vision"})]}),i.jsxs(_s,{open:a,onOpenChange:o,children:[i.jsx(Yd,{asChild:!0,children:i.jsxs(L,{onClick:y,className:"flex items-center gap-2",children:[i.jsx(Yt,{className:"h-4 w-4"}),"Add Item"]})}),i.jsxs(Pr,{className:"max-w-2xl",children:[i.jsxs(Ns,{children:[i.jsxs(ks,{children:[l?"Edit":"Create"," Manifesto Item"]}),i.jsx(Ba,{children:"Add your goals, values, vision, or mission statements"})]}),i.jsxs("form",{onSubmit:v,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ee,{htmlFor:"title",children:"Title"}),i.jsx(fe,{id:"title",value:u.title,onChange:p=>d({...u,title:p.target.value}),placeholder:"Enter title...",required:!0})]}),i.jsxs("div",{children:[i.jsx(ee,{htmlFor:"category",children:"Category"}),i.jsxs(Pt,{value:u.category,onValueChange:p=>d({...u,category:p}),children:[i.jsx(bt,{children:i.jsx(Et,{})}),i.jsx(jt,{children:h.map(p=>i.jsx(ke,{value:p.value,children:p.label},p.value))})]})]}),i.jsxs("div",{children:[i.jsx(ee,{htmlFor:"priority",children:"Priority"}),i.jsxs(Pt,{value:u.priority.toString(),onValueChange:p=>d({...u,priority:parseInt(p)}),children:[i.jsx(bt,{children:i.jsx(Et,{})}),i.jsxs(jt,{children:[i.jsx(ke,{value:"1",children:"High Priority"}),i.jsx(ke,{value:"2",children:"Medium Priority"}),i.jsx(ke,{value:"3",children:"Low Priority"})]})]})]}),i.jsxs("div",{children:[i.jsx(ee,{htmlFor:"content",children:"Content"}),i.jsx(oi,{id:"content",value:u.content,onChange:p=>d({...u,content:p.target.value}),placeholder:"Describe your manifesto item in detail...",rows:6,required:!0})]}),i.jsxs("div",{className:"flex gap-2 pt-4",children:[i.jsxs(L,{type:"submit",className:"flex-1",children:[l?"Update":"Create"," Item"]}),i.jsx(L,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Cancel"})]})]})]})]})]}),h.map(p=>{const j=w[p.value]||[],S=p.icon;return i.jsxs(G,{className:"border-2",children:[i.jsxs(oe,{children:[i.jsxs(ae,{className:"flex items-center gap-2",children:[i.jsx(S,{className:"h-5 w-5 text-primary"}),p.label,i.jsx(Ue,{variant:"secondary",children:j.length})]}),i.jsxs(mi,{children:[p.value==="goals"&&"What you want to achieve",p.value==="values"&&"What you stand for",p.value==="vision"&&"Your ideal future",p.value==="mission"&&"Your purpose and how you operate"]})]}),i.jsx(Y,{children:j.length===0?i.jsxs("p",{className:"text-muted-foreground text-center py-8",children:["No ",p.label.toLowerCase(),' defined yet. Click "Add Item" to get started.']}):i.jsx("div",{className:"space-y-4",children:j.map(_=>i.jsxs(G,{className:"border",children:[i.jsx(oe,{className:"pb-3",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsx("div",{className:"flex-1",children:i.jsxs(ae,{className:"text-lg flex items-center gap-2",children:[_.title,i.jsx("div",{className:`w-2 h-2 rounded-full ${f[_.priority].color}`})]})}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx(L,{variant:"ghost",size:"sm",onClick:()=>x(_),children:i.jsx(El,{className:"h-4 w-4"})}),i.jsx(L,{variant:"ghost",size:"sm",onClick:()=>b(_.id),children:i.jsx(Mn,{className:"h-4 w-4"})})]})]})}),i.jsxs(Y,{className:"pt-0",children:[i.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:_.content}),i.jsxs("div",{className:"flex items-center gap-2 mt-3 pt-3 border-t",children:[i.jsxs(Ue,{variant:"outline",children:[f[_.priority].label," Priority"]}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Updated ",new Date(_.updated_at).toLocaleDateString()]})]})]})]},_.id))})})]},p.value)})]})};function r7(e,t=[]){let n=[];function r(a,o){const l=m.createContext(o),c=n.length;n=[...n,o];function u(h){const{scope:f,children:g,...v}=h,x=(f==null?void 0:f[e][c])||l,b=m.useMemo(()=>v,Object.values(v));return i.jsx(x.Provider,{value:b,children:g})}function d(h,f){const g=(f==null?void 0:f[e][c])||l,v=m.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=n.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,s7(s,...t)]}function s7(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var Zx="Progress",ev=100,[i7,Z7]=r7(Zx),[a7,o7]=i7(Zx),HP=m.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:a=l7,...o}=e;(s||s===0)&&!Kw(s)&&console.error(c7(`${s}`,"Progress"));const l=Kw(s)?s:ev;r!==null&&!Gw(r,l)&&console.error(u7(`${r}`,"Progress"));const c=Gw(r,l)?r:null,u=qu(c)?a(c,l):void 0;return i.jsx(a7,{scope:n,value:c,max:l,children:i.jsx(ie.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":qu(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":GP(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});HP.displayName=Zx;var qP="ProgressIndicator",KP=m.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,s=o7(qP,n);return i.jsx(ie.div,{"data-state":GP(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:t})});KP.displayName=qP;function l7(e,t){return`${Math.round(e/t*100)}%`}function GP(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function qu(e){return typeof e=="number"}function Kw(e){return qu(e)&&!isNaN(e)&&e>0}function Gw(e,t){return qu(e)&&!isNaN(e)&&e<=t&&e>=0}function c7(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${ev}\`.`}function u7(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${ev} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var YP=HP,d7=KP;const QP=m.forwardRef(({className:e,value:t,...n},r)=>i.jsx(YP,{ref:r,className:Z("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:i.jsx(d7,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));QP.displayName=YP.displayName;const h7=()=>{const{user:e}=ve(),[t,n]=m.useState([]),[r,s]=m.useState(!0),[a,o]=m.useState(!1),[l,c]=m.useState(null),[u,d]=m.useState({name:"",description:"",status:"active",priority:1,start_date:"",target_completion:"",progress_percentage:0,tags:[]}),h=[{value:"active",label:"Active",color:"bg-green-500"},{value:"on-hold",label:"On Hold",color:"bg-yellow-500"},{value:"completed",label:"Completed",color:"bg-blue-500"},{value:"archived",label:"Archived",color:"bg-gray-500"}],f={1:{label:"High",color:"bg-red-500"},2:{label:"Medium",color:"bg-yellow-500"},3:{label:"Low",color:"bg-green-500"}};m.useEffect(()=>{g()},[e]);const g=async()=>{if(e)try{const{data:p,error:j}=await I.from("active_projects").select("*").eq("user_id",e.id).order("priority",{ascending:!0}).order("created_at",{ascending:!1});if(j)throw j;n(p||[])}catch(p){console.error("Error fetching projects:",p),H.error("Failed to load projects")}finally{s(!1)}},v=async p=>{if(p.preventDefault(),!!e)try{if(l){const{error:j}=await I.from("active_projects").update({name:u.name,description:u.description,status:u.status,priority:u.priority,start_date:u.start_date||null,target_completion:u.target_completion||null,progress_percentage:u.progress_percentage,tags:u.tags}).eq("id",l.id);if(j)throw j;H.success("Project updated successfully")}else{const{error:j}=await I.from("active_projects").insert({name:u.name,description:u.description,status:u.status,priority:u.priority,start_date:u.start_date||null,target_completion:u.target_completion||null,progress_percentage:u.progress_percentage,tags:u.tags,user_id:e.id});if(j)throw j;H.success("Project created successfully")}o(!1),c(null),d({name:"",description:"",status:"active",priority:1,start_date:"",target_completion:"",progress_percentage:0,tags:[]}),g()}catch(j){console.error("Error saving project:",j),H.error("Failed to save project")}},x=p=>{c(p),d({name:p.name,description:p.description||"",status:p.status,priority:p.priority,start_date:p.start_date||"",target_completion:p.target_completion||"",progress_percentage:p.progress_percentage,tags:p.tags||[]}),o(!0)},b=async p=>{if(confirm("Are you sure you want to delete this project?"))try{const{error:j}=await I.from("active_projects").delete().eq("id",p);if(j)throw j;H.success("Project deleted successfully"),g()}catch(j){console.error("Error deleting project:",j),H.error("Failed to delete project")}},y=()=>{c(null),d({name:"",description:"",status:"active",priority:1,start_date:"",target_completion:"",progress_percentage:0,tags:[]}),o(!0)},w=["Hive","smshed","real estate","salmonthefish"];return r?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[i.jsx(Eo,{className:"h-6 w-6 text-primary"}),"Active Projects"]}),i.jsx("p",{className:"text-muted-foreground",children:"Track progress on Hive, smshed, real estate, and salmonthefish"})]}),i.jsxs(_s,{open:a,onOpenChange:o,children:[i.jsx(Yd,{asChild:!0,children:i.jsxs(L,{onClick:y,className:"flex items-center gap-2",children:[i.jsx(Yt,{className:"h-4 w-4"}),"Add Project"]})}),i.jsxs(Pr,{className:"max-w-2xl",children:[i.jsxs(Ns,{children:[i.jsxs(ks,{children:[l?"Edit":"Create"," Project"]}),i.jsx(Ba,{children:"Manage your active projects and track their progress"})]}),i.jsxs("form",{onSubmit:v,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ee,{htmlFor:"name",children:"Project Name"}),i.jsx(fe,{id:"name",value:u.name,onChange:p=>d({...u,name:p.target.value}),placeholder:"Enter project name...",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ee,{htmlFor:"status",children:"Status"}),i.jsxs(Pt,{value:u.status,onValueChange:p=>d({...u,status:p}),children:[i.jsx(bt,{children:i.jsx(Et,{})}),i.jsx(jt,{children:h.map(p=>i.jsx(ke,{value:p.value,children:p.label},p.value))})]})]}),i.jsxs("div",{children:[i.jsx(ee,{htmlFor:"priority",children:"Priority"}),i.jsxs(Pt,{value:u.priority.toString(),onValueChange:p=>d({...u,priority:parseInt(p)}),children:[i.jsx(bt,{children:i.jsx(Et,{})}),i.jsxs(jt,{children:[i.jsx(ke,{value:"1",children:"High Priority"}),i.jsx(ke,{value:"2",children:"Medium Priority"}),i.jsx(ke,{value:"3",children:"Low Priority"})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ee,{htmlFor:"start_date",children:"Start Date"}),i.jsx(fe,{id:"start_date",type:"date",value:u.start_date,onChange:p=>d({...u,start_date:p.target.value})})]}),i.jsxs("div",{children:[i.jsx(ee,{htmlFor:"target_completion",children:"Target Completion"}),i.jsx(fe,{id:"target_completion",type:"date",value:u.target_completion,onChange:p=>d({...u,target_completion:p.target.value})})]})]}),i.jsxs("div",{children:[i.jsxs(ee,{htmlFor:"progress",children:["Progress (",u.progress_percentage,"%)"]}),i.jsx(fe,{id:"progress",type:"range",min:"0",max:"100",value:u.progress_percentage,onChange:p=>d({...u,progress_percentage:parseInt(p.target.value)}),className:"w-full"})]}),i.jsxs("div",{children:[i.jsx(ee,{htmlFor:"description",children:"Description"}),i.jsx(oi,{id:"description",value:u.description,onChange:p=>d({...u,description:p.target.value}),placeholder:"Describe the project...",rows:4})]}),i.jsxs("div",{className:"flex gap-2 pt-4",children:[i.jsxs(L,{type:"submit",className:"flex-1",children:[l?"Update":"Create"," Project"]}),i.jsx(L,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Cancel"})]})]})]})]})]}),t.length===0?i.jsx(G,{className:"border-2 border-dashed",children:i.jsxs(Y,{className:"flex flex-col items-center justify-center py-12",children:[i.jsx(Eo,{className:"h-12 w-12 text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No projects yet"}),i.jsxs("p",{className:"text-muted-foreground text-center mb-6",children:["Get started by adding your first project. Consider adding: ",w.join(", ")]}),i.jsxs(L,{onClick:y,children:[i.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Add Your First Project"]})]})}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(p=>{const j=h.find(_=>_.value===p.status),S=f[p.priority];return i.jsxs(G,{className:"border-2 hover:shadow-lg transition-shadow",children:[i.jsx(oe,{className:"pb-3",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs(ae,{className:"text-lg flex items-center gap-2",children:[p.name,i.jsx("div",{className:`w-2 h-2 rounded-full ${S.color}`})]}),i.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[i.jsx(Ue,{className:`${j==null?void 0:j.color} text-white`,children:j==null?void 0:j.label}),i.jsx(Ue,{variant:"outline",children:S.label})]})]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx(L,{variant:"ghost",size:"sm",onClick:()=>x(p),children:i.jsx(El,{className:"h-4 w-4"})}),i.jsx(L,{variant:"ghost",size:"sm",onClick:()=>b(p.id),children:i.jsx(Mn,{className:"h-4 w-4"})})]})]})}),i.jsxs(Y,{className:"space-y-4",children:[p.description&&i.jsx("p",{className:"text-sm text-muted-foreground",children:p.description}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(_u,{className:"h-3 w-3"}),"Progress"]}),i.jsxs("span",{className:"font-medium",children:[p.progress_percentage,"%"]})]}),i.jsx(QP,{value:p.progress_percentage,className:"h-2"})]}),(p.start_date||p.target_completion)&&i.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[p.start_date&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ja,{className:"h-3 w-3"}),"Started: ",new Date(p.start_date).toLocaleDateString()]}),p.target_completion&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Eo,{className:"h-3 w-3"}),"Target: ",new Date(p.target_completion).toLocaleDateString()]})]}),i.jsx("div",{className:"pt-2 border-t",children:i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Updated ",new Date(p.updated_at).toLocaleDateString()]})})]})]},p.id)})})]})},f7=()=>{const{user:e}=ve(),[t,n]=m.useState([]),[r,s]=m.useState(!0),[a,o]=m.useState(!1),[l,c]=m.useState(null),[u,d]=m.useState("all"),[h,f]=m.useState({name:"",email:"",phone:"",company:"",role:"",category:"client",notes:"",last_contact_date:"",contact_frequency:"monthly",importance_level:2,tags:[]}),g=[{value:"client",label:"Clients",icon:Nd,color:"bg-blue-500"},{value:"partner",label:"Partners",icon:qt,color:"bg-green-500"},{value:"team",label:"Team",icon:qt,color:"bg-purple-500"},{value:"vendor",label:"Vendors",icon:m4,color:"bg-orange-500"},{value:"other",label:"Other",icon:qt,color:"bg-gray-500"}],v=[{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"},{value:"quarterly",label:"Quarterly"},{value:"annually",label:"Annually"},{value:"as-needed",label:"As Needed"}],x={1:{label:"Critical",color:"bg-red-500"},2:{label:"Important",color:"bg-yellow-500"},3:{label:"Normal",color:"bg-green-500"}};m.useEffect(()=>{b()},[e]);const b=async()=>{if(e)try{const{data:_,error:N}=await I.from("contacts").select("*").eq("user_id",e.id).order("importance_level",{ascending:!0}).order("created_at",{ascending:!1});if(N)throw N;n(_||[])}catch(_){console.error("Error fetching contacts:",_),H.error("Failed to load contacts")}finally{s(!1)}},y=async _=>{if(_.preventDefault(),!!e)try{if(l){const{error:N}=await I.from("contacts").update({name:h.name,email:h.email,phone:h.phone,company:h.company,role:h.role,category:h.category,notes:h.notes,last_contact_date:h.last_contact_date||null,contact_frequency:h.contact_frequency,importance_level:h.importance_level,tags:h.tags}).eq("id",l.id);if(N)throw N;H.success("Contact updated successfully")}else{const{error:N}=await I.from("contacts").insert({name:h.name,email:h.email,phone:h.phone,company:h.company,role:h.role,category:h.category,notes:h.notes,last_contact_date:h.last_contact_date||null,contact_frequency:h.contact_frequency,importance_level:h.importance_level,tags:h.tags,user_id:e.id});if(N)throw N;H.success("Contact created successfully")}o(!1),c(null),f({name:"",email:"",phone:"",company:"",role:"",category:"client",notes:"",last_contact_date:"",contact_frequency:"monthly",importance_level:2,tags:[]}),b()}catch(N){console.error("Error saving contact:",N),H.error("Failed to save contact")}},w=_=>{c(_),f({name:_.name,email:_.email||"",phone:_.phone||"",company:_.company||"",role:_.role||"",category:_.category,notes:_.notes||"",last_contact_date:_.last_contact_date||"",contact_frequency:_.contact_frequency||"monthly",importance_level:_.importance_level,tags:_.tags||[]}),o(!0)},p=async _=>{if(confirm("Are you sure you want to delete this contact?"))try{const{error:N}=await I.from("contacts").delete().eq("id",_);if(N)throw N;H.success("Contact deleted successfully"),b()}catch(N){console.error("Error deleting contact:",N),H.error("Failed to delete contact")}},j=()=>{c(null),f({name:"",email:"",phone:"",company:"",role:"",category:"client",notes:"",last_contact_date:"",contact_frequency:"monthly",importance_level:2,tags:[]}),o(!0)},S=u==="all"?t:t.filter(_=>_.category===u);return r?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[i.jsx(qt,{className:"h-6 w-6 text-primary"}),"Contacts"]}),i.jsx("p",{className:"text-muted-foreground",children:"Manage your clients, partners, and team members"})]}),i.jsxs(_s,{open:a,onOpenChange:o,children:[i.jsx(Yd,{asChild:!0,children:i.jsxs(L,{onClick:j,className:"flex items-center gap-2",children:[i.jsx(Yt,{className:"h-4 w-4"}),"Add Contact"]})}),i.jsxs(Pr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(Ns,{children:[i.jsxs(ks,{children:[l?"Edit":"Create"," Contact"]}),i.jsx(Ba,{children:"Add and manage your professional contacts"})]}),i.jsxs("form",{onSubmit:y,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ee,{htmlFor:"name",children:"Name *"}),i.jsx(fe,{id:"name",value:h.name,onChange:_=>f({...h,name:_.target.value}),placeholder:"Enter name...",required:!0})]}),i.jsxs("div",{children:[i.jsx(ee,{htmlFor:"category",children:"Category"}),i.jsxs(Pt,{value:h.category,onValueChange:_=>f({...h,category:_}),children:[i.jsx(bt,{children:i.jsx(Et,{})}),i.jsx(jt,{children:g.map(_=>i.jsx(ke,{value:_.value,children:_.label},_.value))})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ee,{htmlFor:"email",children:"Email"}),i.jsx(fe,{id:"email",type:"email",value:h.email,onChange:_=>f({...h,email:_.target.value}),placeholder:"Enter email..."})]}),i.jsxs("div",{children:[i.jsx(ee,{htmlFor:"phone",children:"Phone"}),i.jsx(fe,{id:"phone",value:h.phone,onChange:_=>f({...h,phone:_.target.value}),placeholder:"Enter phone..."})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ee,{htmlFor:"company",children:"Company"}),i.jsx(fe,{id:"company",value:h.company,onChange:_=>f({...h,company:_.target.value}),placeholder:"Enter company..."})]}),i.jsxs("div",{children:[i.jsx(ee,{htmlFor:"role",children:"Role"}),i.jsx(fe,{id:"role",value:h.role,onChange:_=>f({...h,role:_.target.value}),placeholder:"Enter role..."})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx(ee,{htmlFor:"importance",children:"Importance"}),i.jsxs(Pt,{value:h.importance_level.toString(),onValueChange:_=>f({...h,importance_level:parseInt(_)}),children:[i.jsx(bt,{children:i.jsx(Et,{})}),i.jsxs(jt,{children:[i.jsx(ke,{value:"1",children:"Critical"}),i.jsx(ke,{value:"2",children:"Important"}),i.jsx(ke,{value:"3",children:"Normal"})]})]})]}),i.jsxs("div",{children:[i.jsx(ee,{htmlFor:"frequency",children:"Contact Frequency"}),i.jsxs(Pt,{value:h.contact_frequency,onValueChange:_=>f({...h,contact_frequency:_}),children:[i.jsx(bt,{children:i.jsx(Et,{})}),i.jsx(jt,{children:v.map(_=>i.jsx(ke,{value:_.value,children:_.label},_.value))})]})]}),i.jsxs("div",{children:[i.jsx(ee,{htmlFor:"last_contact",children:"Last Contact"}),i.jsx(fe,{id:"last_contact",type:"date",value:h.last_contact_date,onChange:_=>f({...h,last_contact_date:_.target.value})})]})]}),i.jsxs("div",{children:[i.jsx(ee,{htmlFor:"notes",children:"Notes"}),i.jsx(oi,{id:"notes",value:h.notes,onChange:_=>f({...h,notes:_.target.value}),placeholder:"Add notes about this contact...",rows:3})]}),i.jsxs("div",{className:"flex gap-2 pt-4",children:[i.jsxs(L,{type:"submit",className:"flex-1",children:[l?"Update":"Create"," Contact"]}),i.jsx(L,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Cancel"})]})]})]})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs(L,{variant:u==="all"?"default":"outline",size:"sm",onClick:()=>d("all"),children:["All (",t.length,")"]}),g.map(_=>{const N=t.filter(k=>k.category===_.value).length;return i.jsxs(L,{variant:u===_.value?"default":"outline",size:"sm",onClick:()=>d(_.value),children:[_.label," (",N,")"]},_.value)})]}),S.length===0?i.jsx(G,{className:"border-2 border-dashed",children:i.jsxs(Y,{className:"flex flex-col items-center justify-center py-12",children:[i.jsx(qt,{className:"h-12 w-12 text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No contacts yet"}),i.jsx("p",{className:"text-muted-foreground text-center mb-6",children:"Start building your network by adding your first contact"}),i.jsxs(L,{onClick:j,children:[i.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Add Your First Contact"]})]})}):i.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:S.map(_=>{g.find(T=>T.value===_.category);const N=x[_.importance_level],k=_.name.split(" ")[0];return i.jsxs("div",{className:"flex flex-col items-center space-y-2 group",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-primary/20 to-primary/40 flex items-center justify-center text-sm font-semibold text-primary border-2 border-primary/20",children:k.charAt(0).toUpperCase()}),i.jsx("div",{className:`absolute -top-1 -right-1 w-3 h-3 rounded-full ${N.color} border-2 border-background`}),i.jsx("div",{className:"absolute -top-2 -right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:i.jsxs("div",{className:"flex gap-1",children:[i.jsx(L,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>w(_),children:i.jsx(El,{className:"h-3 w-3"})}),i.jsx(L,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>p(_.id),children:i.jsx(Mn,{className:"h-3 w-3"})})]})})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-xs truncate max-w-16",children:k}),_.company&&i.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-16",children:_.company})]})]},_.id)})})]})};var tv="Checkbox",[m7,eH]=Ln(tv),[p7,g7]=m7(tv),XP=m.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[f,g]=m.useState(null),v=me(t,j=>g(j)),x=m.useRef(!1),b=f?d||!!f.closest("form"):!0,[y=!1,w]=rr({prop:s,defaultProp:a,onChange:u}),p=m.useRef(y);return m.useEffect(()=>{const j=f==null?void 0:f.form;if(j){const S=()=>w(p.current);return j.addEventListener("reset",S),()=>j.removeEventListener("reset",S)}},[f,w]),i.jsxs(p7,{scope:n,state:y,disabled:l,children:[i.jsx(ie.button,{type:"button",role:"checkbox","aria-checked":ls(y)?"mixed":y,"aria-required":o,"data-state":eE(y),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:v,onKeyDown:q(e.onKeyDown,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:q(e.onClick,j=>{w(S=>ls(S)?!0:!S),b&&(x.current=j.isPropagationStopped(),x.current||j.stopPropagation())})}),b&&i.jsx(x7,{control:f,bubbles:!x.current,name:r,value:c,checked:y,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:ls(a)?!1:a})]})});XP.displayName=tv;var JP="CheckboxIndicator",ZP=m.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,a=g7(JP,n);return i.jsx(Fn,{present:r||ls(a.state)||a.state===!0,children:i.jsx(ie.span,{"data-state":eE(a.state),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});ZP.displayName=JP;var x7=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:s,...a}=e,o=m.useRef(null),l=Ed(n),c=Td(t);m.useEffect(()=>{const d=o.current,h=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==n&&g){const v=new Event("click",{bubbles:r});d.indeterminate=ls(n),g.call(d,ls(n)?!1:n),d.dispatchEvent(v)}},[l,n,r]);const u=m.useRef(ls(n)?!1:n);return i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...a,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ls(e){return e==="indeterminate"}function eE(e){return ls(e)?"indeterminate":e?"checked":"unchecked"}var tE=XP,v7=ZP;const wp=m.forwardRef(({className:e,...t},n)=>i.jsx(tE,{ref:n,className:Z("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:i.jsx(v7,{className:Z("flex items-center justify-center text-current"),children:i.jsx(Sa,{className:"h-4 w-4"})})}));wp.displayName=tE.displayName;const y7=()=>{const{user:e}=ve(),[t,n]=m.useState([]),[r,s]=m.useState(!0),[a,o]=m.useState(!1),[l,c]=m.useState(null),[u,d]=m.useState("all"),[h,f]=m.useState({title:"",description:"",type:"checklist",frequency:"weekly",checklist_items:[],is_active:!0,tags:[]}),[g,v]=m.useState(""),x=[{value:"checklist",label:"Checklist",icon:T4,color:"bg-blue-500"},{value:"recurring-task",label:"Recurring Task",icon:ja,color:"bg-green-500"},{value:"process",label:"Process",icon:ln,color:"bg-purple-500"},{value:"template",label:"Template",icon:ln,color:"bg-orange-500"}],b=[{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"},{value:"quarterly",label:"Quarterly"},{value:"as-needed",label:"As Needed"}];m.useEffect(()=>{y()},[e]);const y=async()=>{if(e)try{const{data:P,error:U}=await I.from("systems").select("*").eq("user_id",e.id).order("is_active",{ascending:!1}).order("created_at",{ascending:!1});if(U)throw U;n(P||[])}catch(P){console.error("Error fetching systems:",P),H.error("Failed to load systems")}finally{s(!1)}},w=async P=>{if(P.preventDefault(),!!e)try{if(l){const{error:U}=await I.from("systems").update({title:h.title,description:h.description,type:h.type,frequency:h.frequency,checklist_items:h.checklist_items,is_active:h.is_active,tags:h.tags}).eq("id",l.id);if(U)throw U;H.success("System updated successfully")}else{const{error:U}=await I.from("systems").insert({title:h.title,description:h.description,type:h.type,frequency:h.frequency,checklist_items:h.checklist_items,is_active:h.is_active,tags:h.tags,user_id:e.id});if(U)throw U;H.success("System created successfully")}o(!1),c(null),p(),y()}catch(U){console.error("Error saving system:",U),H.error("Failed to save system")}},p=()=>{f({title:"",description:"",type:"checklist",frequency:"weekly",checklist_items:[],is_active:!0,tags:[]}),v("")},j=P=>{c(P),f({title:P.title,description:P.description||"",type:P.type,frequency:P.frequency||"weekly",checklist_items:P.checklist_items||[],is_active:P.is_active,tags:P.tags||[]}),o(!0)},S=async P=>{if(confirm("Are you sure you want to delete this system?"))try{const{error:U}=await I.from("systems").delete().eq("id",P);if(U)throw U;H.success("System deleted successfully"),y()}catch(U){console.error("Error deleting system:",U),H.error("Failed to delete system")}},_=async(P,U)=>{try{const{error:$}=await I.from("systems").update({is_active:!U}).eq("id",P);if($)throw $;H.success(`System ${U?"deactivated":"activated"}`),y()}catch($){console.error("Error toggling system status:",$),H.error("Failed to update system status")}},N=()=>{c(null),p(),o(!0)},k=()=>{g.trim()&&(f({...h,checklist_items:[...h.checklist_items,{id:Date.now().toString(),text:g.trim(),completed:!1}]}),v(""))},T=P=>{f({...h,checklist_items:h.checklist_items.filter(U=>U.id!==P)})},D=async(P,U,$)=>{try{const K=t.find(C=>C.id===P);if(!K)return;const R=K.checklist_items.map(C=>C.id===U?{...C,completed:$}:C),{error:O}=await I.from("systems").update({checklist_items:R,last_completed_at:$?new Date().toISOString():K.last_completed_at}).eq("id",P);if(O)throw O;y()}catch(K){console.error("Error updating checklist item:",K),H.error("Failed to update checklist item")}},F=u==="all"?t:t.filter(P=>P.type===u);return r?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[i.jsx(ln,{className:"h-6 w-6 text-primary"}),"Systems"]}),i.jsx("p",{className:"text-muted-foreground",children:"Recurring tasks, checklists, and operational processes"})]}),i.jsxs(_s,{open:a,onOpenChange:o,children:[i.jsx(Yd,{asChild:!0,children:i.jsxs(L,{onClick:N,className:"flex items-center gap-2",children:[i.jsx(Yt,{className:"h-4 w-4"}),"Add System"]})}),i.jsxs(Pr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(Ns,{children:[i.jsxs(ks,{children:[l?"Edit":"Create"," System"]}),i.jsx(Ba,{children:"Create recurring tasks, checklists, and processes"})]}),i.jsxs("form",{onSubmit:w,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ee,{htmlFor:"title",children:"Title *"}),i.jsx(fe,{id:"title",value:h.title,onChange:P=>f({...h,title:P.target.value}),placeholder:"Enter system title...",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ee,{htmlFor:"type",children:"Type"}),i.jsxs(Pt,{value:h.type,onValueChange:P=>f({...h,type:P}),children:[i.jsx(bt,{children:i.jsx(Et,{})}),i.jsx(jt,{children:x.map(P=>i.jsx(ke,{value:P.value,children:P.label},P.value))})]})]}),i.jsxs("div",{children:[i.jsx(ee,{htmlFor:"frequency",children:"Frequency"}),i.jsxs(Pt,{value:h.frequency,onValueChange:P=>f({...h,frequency:P}),children:[i.jsx(bt,{children:i.jsx(Et,{})}),i.jsx(jt,{children:b.map(P=>i.jsx(ke,{value:P.value,children:P.label},P.value))})]})]})]}),i.jsxs("div",{children:[i.jsx(ee,{htmlFor:"description",children:"Description"}),i.jsx(oi,{id:"description",value:h.description,onChange:P=>f({...h,description:P.target.value}),placeholder:"Describe the system...",rows:3})]}),h.type==="checklist"&&i.jsxs("div",{children:[i.jsx(ee,{children:"Checklist Items"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx(fe,{value:g,onChange:P=>v(P.target.value),placeholder:"Add checklist item...",onKeyPress:P=>P.key==="Enter"&&(P.preventDefault(),k())}),i.jsx(L,{type:"button",onClick:k,children:i.jsx(Yt,{className:"h-4 w-4"})})]}),h.checklist_items.map(P=>i.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded",children:[i.jsx("span",{className:"flex-1",children:P.text}),i.jsx(L,{type:"button",variant:"ghost",size:"sm",onClick:()=>T(P.id),children:i.jsx(Mn,{className:"h-4 w-4"})})]},P.id))]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(wp,{id:"is_active",checked:h.is_active,onCheckedChange:P=>f({...h,is_active:!!P})}),i.jsx(ee,{htmlFor:"is_active",children:"Active System"})]}),i.jsxs("div",{className:"flex gap-2 pt-4",children:[i.jsxs(L,{type:"submit",className:"flex-1",children:[l?"Update":"Create"," System"]}),i.jsx(L,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Cancel"})]})]})]})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs(L,{variant:u==="all"?"default":"outline",size:"sm",onClick:()=>d("all"),children:["All (",t.length,")"]}),x.map(P=>{const U=t.filter($=>$.type===P.value).length;return i.jsxs(L,{variant:u===P.value?"default":"outline",size:"sm",onClick:()=>d(P.value),children:[P.label," (",U,")"]},P.value)})]}),F.length===0?i.jsx(G,{className:"border-2 border-dashed",children:i.jsxs(Y,{className:"flex flex-col items-center justify-center py-12",children:[i.jsx(ln,{className:"h-12 w-12 text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No systems yet"}),i.jsx("p",{className:"text-muted-foreground text-center mb-6",children:"Create your first system to streamline your workflows"}),i.jsxs(L,{onClick:N,children:[i.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Add Your First System"]})]})}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:F.map(P=>{var O,C;const U=x.find(M=>M.value===P.type),$=(U==null?void 0:U.icon)||ln,K=((O=P.checklist_items)==null?void 0:O.filter(M=>M.completed).length)||0,R=((C=P.checklist_items)==null?void 0:C.length)||0;return i.jsxs(G,{className:`border-2 hover:shadow-lg transition-shadow ${P.is_active?"":"opacity-60"}`,children:[i.jsx(oe,{className:"pb-3",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs(ae,{className:"text-lg flex items-center gap-2",children:[i.jsx($,{className:"h-5 w-5"}),P.title,!P.is_active&&i.jsx(n0,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[i.jsx(Ue,{className:`${U==null?void 0:U.color} text-white`,children:U==null?void 0:U.label}),i.jsx(Ue,{variant:"outline",children:P.frequency}),P.is_active?i.jsx(Ue,{variant:"outline",className:"text-green-600",children:"Active"}):i.jsx(Ue,{variant:"outline",className:"text-gray-500",children:"Inactive"})]})]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx(L,{variant:"ghost",size:"sm",onClick:()=>_(P.id,P.is_active),title:P.is_active?"Deactivate":"Activate",children:P.is_active?i.jsx(n0,{className:"h-4 w-4"}):i.jsx(N4,{className:"h-4 w-4"})}),i.jsx(L,{variant:"ghost",size:"sm",onClick:()=>j(P),children:i.jsx(El,{className:"h-4 w-4"})}),i.jsx(L,{variant:"ghost",size:"sm",onClick:()=>S(P.id),children:i.jsx(Mn,{className:"h-4 w-4"})})]})]})}),i.jsxs(Y,{className:"space-y-4",children:[P.description&&i.jsx("p",{className:"text-sm text-muted-foreground",children:P.description}),P.type==="checklist"&&P.checklist_items&&P.checklist_items.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{children:"Progress"}),i.jsxs("span",{children:[K,"/",R]})]}),i.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:P.checklist_items.map(M=>i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(wp,{checked:M.completed,onCheckedChange:E=>D(P.id,M.id,!!E)}),i.jsx("span",{className:M.completed?"line-through text-muted-foreground":"",children:M.text})]},M.id))})]}),i.jsxs("div",{className:"pt-2 border-t flex items-center justify-between text-xs text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ja,{className:"h-3 w-3"}),P.frequency]}),P.last_completed_at&&i.jsxs("span",{children:["Last: ",new Date(P.last_completed_at).toLocaleDateString()]})]})]})]},P.id)})})]})},w7=()=>{const[e,t]=m.useState("manifesto"),n=be(),r=[{id:"manifesto",title:"Manifesto",description:"Long-term goals, values & vision",icon:qe,color:"bg-gradient-to-br from-purple-500 to-pink-500"},{id:"projects",title:"Active Projects",description:"Hive, smshed, real estate, salmonthefish",icon:Eo,color:"bg-gradient-to-br from-blue-500 to-cyan-500"},{id:"contacts",title:"Contacts",description:"Clients, partners, team members",icon:qt,color:"bg-gradient-to-br from-green-500 to-emerald-500"},{id:"systems",title:"Systems",description:"Recurring tasks, checklists & processes",icon:ln,color:"bg-gradient-to-br from-orange-500 to-red-500"}];return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted p-6",children:[i.jsx("div",{className:"max-w-7xl mx-auto mb-6",children:i.jsx("div",{className:"flex justify-between items-center",children:i.jsx("div",{className:"flex items-center gap-4",children:i.jsxs(L,{variant:"outline",size:"sm",onClick:()=>n("/chat"),className:"flex items-center gap-2",children:[i.jsx(bu,{className:"h-4 w-4"}),"AI Chats"]})})})}),i.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[i.jsxs("div",{className:"text-center space-y-4",children:[i.jsxs("div",{className:"inline-flex items-center gap-3 p-4 rounded-2xl border border-primary/20",children:[i.jsx(qe,{className:"h-8 w-8 text-primary"}),i.jsxs("div",{className:"text-center relative z-50",children:[i.jsx("h1",{className:"text-4xl font-bold text-blue-600",children:"SalmontheFish"}),i.jsx("div",{className:"text-xl font-medium text-blue-600",children:"Marketing Agency"})]})]}),i.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Centralized information hub for managing your business empire"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs(G,{className:"border border-border/50",children:[i.jsx(oe,{className:"pb-2",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ae,{className:"text-sm font-medium text-muted-foreground",children:"Daily Profits"}),i.jsx(qt,{className:"h-4 w-4 text-muted-foreground"})]})}),i.jsx(Y,{children:i.jsx("div",{className:"text-2xl font-bold",children:"0"})})]}),i.jsxs(G,{className:"border border-border/50",children:[i.jsx(oe,{className:"pb-2",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ae,{className:"text-sm font-medium text-muted-foreground",children:"Projected Weekly Profit"}),i.jsx(Nd,{className:"h-4 w-4 text-muted-foreground"})]})}),i.jsx(Y,{children:i.jsx("div",{className:"text-2xl font-bold",children:"1"})})]}),i.jsxs(G,{className:"border border-border/50",children:[i.jsx(oe,{className:"pb-2",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ae,{className:"text-sm font-medium text-muted-foreground",children:"Premium Subs"}),i.jsx(qe,{className:"h-4 w-4 text-muted-foreground"})]})}),i.jsxs(Y,{children:[i.jsx("div",{className:"text-2xl font-bold",children:"1"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"R100/month"})]})]}),i.jsxs(G,{className:"border border-border/50",children:[i.jsx(oe,{className:"pb-2",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ae,{className:"text-sm font-medium text-muted-foreground",children:"Conversion"}),i.jsx(_u,{className:"h-4 w-4 text-muted-foreground"})]})}),i.jsxs(Y,{children:[i.jsx("div",{className:"text-2xl font-bold",children:"0%"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Trial to paid"})]})]}),i.jsxs(G,{className:"border border-border/50",children:[i.jsx(oe,{className:"pb-2",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ae,{className:"text-sm font-medium text-muted-foreground",children:"Total Subs"}),i.jsx(qt,{className:"h-4 w-4 text-muted-foreground"})]})}),i.jsxs(Y,{children:[i.jsx("div",{className:"text-2xl font-bold",children:"2"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"All subscribers"})]})]}),i.jsxs(G,{className:"border border-border/50",children:[i.jsx(oe,{className:"pb-2",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ae,{className:"text-sm font-medium text-muted-foreground",children:"Revenue"}),i.jsx(US,{className:"h-4 w-4 text-muted-foreground"})]})}),i.jsxs(Y,{children:[i.jsx("div",{className:"text-2xl font-bold",children:"R 298"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Monthly"})]})]}),i.jsxs(G,{className:"border border-border/50",children:[i.jsx(oe,{className:"pb-2",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ae,{className:"text-sm font-medium text-muted-foreground",children:"Users Online"}),i.jsx(MS,{className:"h-4 w-4 text-green-500"})]})}),i.jsxs(Y,{children:[i.jsx("div",{className:"text-2xl font-bold",children:"0"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Active now"})]})]}),i.jsxs(G,{className:"border border-border/50",children:[i.jsx(oe,{className:"pb-2",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ae,{className:"text-sm font-medium text-muted-foreground",children:"Review"}),i.jsx(_u,{className:"h-4 w-4 text-green-500"})]})}),i.jsxs(Y,{children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:"100.0%"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"vs previous day"})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map(s=>{const a=s.icon;return i.jsxs(G,{className:`cursor-pointer transition-all duration-300 hover:scale-105 hover:shadow-xl border-2 ${e===s.id?"border-primary shadow-lg":"border-border hover:border-primary/50"}`,onClick:()=>t(s.id),children:[i.jsxs(oe,{className:"pb-3",children:[i.jsx("div",{className:`w-12 h-12 rounded-xl ${s.color} flex items-center justify-center mb-3`,children:i.jsx(a,{className:"h-6 w-6 text-white"})}),i.jsx(ae,{className:"text-lg",children:s.title}),i.jsx(mi,{className:"text-sm",children:s.description})]}),i.jsx(Y,{children:i.jsx(Ue,{variant:"outline",className:"w-full justify-center",children:"View Details"})})]},s.id)})}),i.jsxs(N_,{value:e,onValueChange:t,className:"w-full",children:[i.jsx(Ig,{className:"grid w-full grid-cols-4 mb-8",children:r.map(s=>{const a=s.icon;return i.jsxs(Nu,{value:s.id,className:"flex items-center gap-2 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[i.jsx(a,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:s.title})]},s.id)})}),i.jsx(Vs,{value:"manifesto",className:"space-y-6",children:i.jsx(n7,{})}),i.jsx(Vs,{value:"projects",className:"space-y-6",children:i.jsx(h7,{})}),i.jsx(Vs,{value:"contacts",className:"space-y-6",children:i.jsx(f7,{})}),i.jsx(Vs,{value:"systems",className:"space-y-6",children:i.jsx(y7,{})})]})]})]})},b7=()=>i.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(135deg, #4A0072 0%, #8E24AA 50%, #4A0072 100%)",zIndex:-2}}),j7=()=>{const[e,t]=m.useState(""),[n,r]=m.useState(""),[s,a]=m.useState(!1),[o,l]=m.useState(!1),{toast:c}=Vt(),u=async d=>{if(d.preventDefault(),!e||!n){c({title:"Missing Information",description:"Please fill in both your name and email address.",variant:"destructive"});return}a(!0);try{const{error:h}=await I.from("waitlist_signups").insert({email:e.toLowerCase().trim(),name:n.trim(),signup_source:"maintenance_landing",created_at:new Date().toISOString()});if(h){console.error("Waitlist signup error:",h),c({title:"Error",description:"Something went wrong. Please try again.",variant:"destructive"});return}const{error:f}=await I.functions.invoke("waitlist-notification",{body:{name:n.trim(),email:e.toLowerCase().trim()}});f&&console.error("Email notification error:",f),l(!0),c({title:"Welcome to the VIP List!",description:"You'll be the first to know when we're ready."})}catch(h){console.error("Submission error:",h),c({title:"Error",description:"Something went wrong. Please try again.",variant:"destructive"})}finally{a(!1)}};return i.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[i.jsx(b7,{}),i.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8",children:i.jsx("div",{className:"max-w-lg w-full space-y-8 text-center",children:o?i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx(En,{className:"w-20 h-20 text-green-400"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-white",children:"Welcome to the VIP List!"}),i.jsxs("p",{className:"text-xl text-white/90",children:["Thank you ",i.jsx("span",{className:"font-semibold",children:n}),"!"]}),i.jsxs("p",{className:"text-lg text-white/80 leading-relaxed",children:["You'll be among the first to get access when we complete our maintenance. We'll send you an email at ",i.jsx("span",{className:"font-medium text-white",children:e})," as soon as we're ready."]})]}),i.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:i.jsxs("p",{className:"text-white/90 text-sm",children:["💡 ",i.jsx("strong",{children:"What to expect:"})," VIP members get priority access, exclusive features, and special onboarding when we launch."]})})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-white leading-tight",children:"smshed.com"}),i.jsx("div",{className:"w-16 h-1 bg-white/30 mx-auto rounded-full"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-semibold text-white/90",children:"Currently Under Maintenance"}),i.jsx("p",{className:"text-lg sm:text-xl text-white/80 leading-relaxed",children:"This website is currently undergoing maintenance for our existing clients"}),i.jsxs("p",{className:"text-lg sm:text-xl text-white font-medium",children:["Please join our waiting list below to receive ",i.jsx("span",{className:"text-yellow-300",children:"VIP access"})," once we are done"]})]})]}),i.jsxs("form",{onSubmit:u,className:"space-y-6 bg-white/10 backdrop-blur-sm rounded-2xl p-6 sm:p-8 border border-white/20",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"text-left",children:[i.jsx(ee,{htmlFor:"name",className:"text-white text-base font-medium",children:"Name"}),i.jsx(fe,{id:"name",type:"text",value:n,onChange:d=>r(d.target.value),className:"mt-2 bg-white/20 border-white/30 text-white placeholder:text-white/60 focus:bg-white/30 focus:border-white/50",placeholder:"Enter your full name",required:!0})]}),i.jsxs("div",{className:"text-left",children:[i.jsx(ee,{htmlFor:"email",className:"text-white text-base font-medium",children:"Email"}),i.jsx(fe,{id:"email",type:"email",value:e,onChange:d=>t(d.target.value),className:"mt-2 bg-white/20 border-white/30 text-white placeholder:text-white/60 focus:bg-white/30 focus:border-white/50",placeholder:"Enter your email address",required:!0})]})]}),i.jsx(L,{type:"submit",disabled:s,className:"w-full bg-white text-purple-700 font-semibold py-3 text-lg hover:bg-white/90 transition-all duration-300 disabled:opacity-50",children:s?"Joining Waitlist...":"Join VIP Waitlist"})]}),i.jsx("p",{className:"text-white/60 text-sm",children:"You'll be notified as soon as we're ready to welcome new members"})]})})})]})},S7=()=>{const e=be();return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-indigo-900 flex items-center justify-center p-4",children:i.jsxs(G,{className:"w-full max-w-md",children:[i.jsxs(oe,{className:"text-center",children:[i.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center",children:i.jsx(Rm,{className:"w-8 h-8 text-primary"})}),i.jsx(ae,{className:"text-2xl",children:"Coming Soon!"})]}),i.jsxs(Y,{className:"text-center space-y-4",children:[i.jsx("p",{className:"text-muted-foreground",children:"The Personal Assistant feature is currently under development. We're working hard to bring you an amazing AI assistant experience."}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Stay tuned for updates!"}),i.jsxs(L,{onClick:()=>e("/app"),className:"w-full",variant:"outline",children:[i.jsx($n,{className:"w-4 h-4 mr-2"}),"Back to Chat"]})]})]})})};function _7(){const e=be(),{toast:t}=Vt(),[n]=ud(),[r,s]=m.useState(null);m.useEffect(()=>{const l={payment_id:n.get("m_payment_id"),pf_payment_id:n.get("pf_payment_id"),payment_status:n.get("payment_status"),item_name:n.get("item_name"),amount_gross:n.get("amount_gross"),amount_fee:n.get("amount_fee"),amount_net:n.get("amount_net")};s(l),l.payment_status==="1"&&t({title:"Payment Successful!",description:"Your payment has been processed successfully.",variant:"default"})},[n,t]);const a=()=>{e("/dashboard")},o=()=>{e("/manage-subscription")};return i.jsxs("div",{className:"min-h-screen relative",children:[i.jsx($l,{}),i.jsx("div",{className:"relative z-10 py-8 px-4",children:i.jsx("div",{className:"max-w-2xl mx-auto space-y-6",children:i.jsxs(G,{className:"bg-white/10 backdrop-blur-lg border border-green-500/30",children:[i.jsxs(oe,{className:"text-center",children:[i.jsx("div",{className:"mx-auto w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mb-4",children:i.jsx(En,{className:"w-8 h-8 text-green-400"})}),i.jsx(ae,{className:"text-2xl text-white",children:"Payment Successful!"}),i.jsx("p",{className:"text-green-200",children:"Your payment has been processed successfully."})]}),i.jsxs(Y,{className:"space-y-6",children:[r&&i.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-green-500/20",children:[i.jsxs("h3",{className:"text-white font-semibold text-lg mb-3 flex items-center gap-2",children:[i.jsx(sr,{className:"w-5 h-5"}),"Payment Details"]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[r.item_name&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-300",children:"Item:"}),i.jsx("span",{className:"text-white",children:r.item_name})]}),r.amount_gross&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-300",children:"Amount:"}),i.jsxs("span",{className:"text-white",children:["R",r.amount_gross]})]}),r.pf_payment_id&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-300",children:"PayFast ID:"}),i.jsx("span",{className:"text-white font-mono text-xs",children:r.pf_payment_id})]}),r.payment_id&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-300",children:"Reference:"}),i.jsx("span",{className:"text-white font-mono text-xs",children:r.payment_id})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(L,{onClick:a,className:"w-full h-12 text-lg font-semibold bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700",children:["Continue to Dashboard",i.jsx(h4,{className:"w-5 h-5 ml-2"})]}),i.jsx(L,{onClick:o,variant:"outline",className:"w-full h-12 text-lg border-green-500/30 text-green-200 hover:bg-green-500/10",children:"View Subscription Details"})]}),i.jsxs("div",{className:"text-center text-sm text-gray-400",children:[i.jsx("p",{children:"Thank you for your purchase! Your account has been updated."}),i.jsx("p",{className:"mt-1",children:"If you have any questions, please contact our support team."})]})]})]})})})]})}function N7(){const e=be();ud();const t=()=>{e("/checkout")},n=()=>{e("/dashboard")},r=()=>{e("/subscription")};return i.jsxs("div",{className:"min-h-screen relative",children:[i.jsx($l,{}),i.jsx("div",{className:"relative z-10 py-8 px-4",children:i.jsx("div",{className:"max-w-2xl mx-auto space-y-6",children:i.jsxs(G,{className:"bg-white/10 backdrop-blur-lg border border-red-500/30",children:[i.jsxs(oe,{className:"text-center",children:[i.jsx("div",{className:"mx-auto w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mb-4",children:i.jsx(Po,{className:"w-8 h-8 text-red-400"})}),i.jsx(ae,{className:"text-2xl text-white",children:"Payment Cancelled"}),i.jsx("p",{className:"text-red-200",children:"Your payment was cancelled and no charges were made."})]}),i.jsxs(Y,{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-red-500/20",children:[i.jsx("h3",{className:"text-white font-semibold text-lg mb-3",children:"What happened?"}),i.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[i.jsx("p",{children:"• You cancelled the payment process"}),i.jsx("p",{children:"• You closed the PayFast payment window"}),i.jsx("p",{children:"• There was an issue with the payment method"}),i.jsx("p",{children:"• The payment session expired"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(L,{onClick:t,className:"w-full h-12 text-lg font-semibold bg-gradient-to-r from-violet-600 to-pink-600 hover:from-violet-700 hover:to-pink-700",children:[i.jsx(sr,{className:"w-5 h-5 mr-2"}),"Try Payment Again"]}),i.jsx(L,{onClick:r,variant:"outline",className:"w-full h-12 text-lg border-violet-500/30 text-violet-200 hover:bg-violet-500/10",children:"View Other Plans"}),i.jsxs(L,{onClick:n,variant:"ghost",className:"w-full h-12 text-lg text-gray-300 hover:bg-white/10",children:[i.jsx($n,{className:"w-5 h-5 mr-2"}),"Back to Dashboard"]})]}),i.jsxs("div",{className:"text-center text-sm text-gray-400",children:[i.jsx("p",{children:"No worries! You can try again anytime."}),i.jsx("p",{className:"mt-1",children:"If you continue to experience issues, please contact our support team."})]})]})]})})})]})}const k7=new QR;function C7(){return i.jsx(i.Fragment,{children:i.jsxs(NR,{children:[i.jsxs(P1,{children:[i.jsx(xe,{path:"/",element:i.jsx(a0,{})}),i.jsx(xe,{path:"/maintenance",element:i.jsx(j7,{})}),i.jsx(xe,{path:"/landing",element:i.jsx(a0,{})}),i.jsx(xe,{path:"/auth",element:i.jsx(Hh,{})}),i.jsx(xe,{path:"/login",element:i.jsx(Hh,{})}),i.jsx(xe,{path:"/signup",element:i.jsx(Hh,{})}),i.jsx(xe,{path:"/terms-and-conditions",element:i.jsx(UW,{})}),i.jsx(xe,{path:"/privacy-policy",element:i.jsx(BW,{})}),i.jsx(xe,{path:"/dashboard",element:i.jsx(tt,{children:i.jsx(wc,{})})}),i.jsx(xe,{path:"/chat",element:i.jsx(tt,{children:i.jsx(wc,{})})}),i.jsx(xe,{path:"/welcome",element:i.jsx(tt,{children:i.jsx(dW,{})})}),i.jsx(xe,{path:"/manage-subscription",element:i.jsx(tt,{children:i.jsx(hW,{})})}),i.jsx(xe,{path:"/subscription",element:i.jsx(tt,{children:i.jsx(pW,{})})}),i.jsx(xe,{path:"/checkout",element:i.jsx(tt,{children:i.jsx($W,{})})}),i.jsx(xe,{path:"/success",element:i.jsx(tt,{children:i.jsx(_7,{})})}),i.jsx(xe,{path:"/cancel",element:i.jsx(tt,{children:i.jsx(N7,{})})}),i.jsx(xe,{path:"/my-account",element:i.jsx(tt,{children:i.jsx(s9,{})})}),i.jsx(xe,{path:"/bucks-purchase-success",element:i.jsx(tt,{children:i.jsx(i9,{})})}),i.jsx(xe,{path:"/bucks",element:i.jsx(tt,{children:i.jsx(a9,{})})}),i.jsx(xe,{path:"/model/:modelId",element:i.jsx(tt,{children:i.jsx(Z9,{})})}),i.jsx(xe,{path:"/app",element:i.jsx(tt,{children:i.jsx(wc,{})})}),i.jsx(xe,{path:"/groups",element:i.jsx(tt,{children:i.jsx(wc,{})})}),i.jsx(xe,{path:"/master-database",element:i.jsx(tt,{children:i.jsx(w7,{})})}),i.jsx(xe,{path:"/PA_setup",element:i.jsx(tt,{children:i.jsx(S7,{})})}),i.jsx(xe,{path:"/exit",element:i.jsx(tt,{children:i.jsx(t7,{})})}),i.jsx(xe,{path:"/admin/*",element:i.jsx(tt,{adminOnly:!0,children:i.jsx(J9,{})})})]}),i.jsx(xO,{})]})})}function P7(){return i.jsx(JR,{client:k7,children:i.jsxs(mI,{children:[i.jsx(pI,{}),i.jsx(C7,{})]})})}const E7=document.getElementById("root"),T7=x1(E7);T7.render(i.jsx(P7,{}));
